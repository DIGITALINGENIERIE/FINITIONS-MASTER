function hS(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const l=Object.getOwnPropertyDescriptor(r,s);l&&Object.defineProperty(n,s,l.get?l:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function Mp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Um={exports:{}},wd={},Hm={exports:{}},ft={};var H1;function pS(){if(H1)return ft;H1=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function _(B){return B===null||typeof B!="object"?null:(B=w&&B[w]||B["@@iterator"],typeof B=="function"?B:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,P={};function N(B,X,Ae){this.props=B,this.context=X,this.refs=P,this.updater=Ae||k}N.prototype.isReactComponent={},N.prototype.setState=function(B,X){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,X,"setState")},N.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function M(){}M.prototype=N.prototype;function I(B,X,Ae){this.props=B,this.context=X,this.refs=P,this.updater=Ae||k}var L=I.prototype=new M;L.constructor=I,R(L,N.prototype),L.isPureReactComponent=!0;var D=Array.isArray,z=Object.prototype.hasOwnProperty,U={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function K(B,X,Ae){var Ve,tt={},Ke=null,be=null;if(X!=null)for(Ve in X.ref!==void 0&&(be=X.ref),X.key!==void 0&&(Ke=""+X.key),X)z.call(X,Ve)&&!H.hasOwnProperty(Ve)&&(tt[Ve]=X[Ve]);var Ue=arguments.length-2;if(Ue===1)tt.children=Ae;else if(1<Ue){for(var Ze=Array(Ue),Z=0;Z<Ue;Z++)Ze[Z]=arguments[Z+2];tt.children=Ze}if(B&&B.defaultProps)for(Ve in Ue=B.defaultProps,Ue)tt[Ve]===void 0&&(tt[Ve]=Ue[Ve]);return{$$typeof:n,type:B,key:Ke,ref:be,props:tt,_owner:U.current}}function re(B,X){return{$$typeof:n,type:B.type,key:X,ref:B.ref,props:B.props,_owner:B._owner}}function ue(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function ve(B){var X={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(Ae){return X[Ae]})}var ae=/\/+/g;function ye(B,X){return typeof B=="object"&&B!==null&&B.key!=null?ve(""+B.key):X.toString(36)}function se(B,X,Ae,Ve,tt){var Ke=typeof B;(Ke==="undefined"||Ke==="boolean")&&(B=null);var be=!1;if(B===null)be=!0;else switch(Ke){case"string":case"number":be=!0;break;case"object":switch(B.$$typeof){case n:case e:be=!0}}if(be)return be=B,tt=tt(be),B=Ve===""?"."+ye(be,0):Ve,D(tt)?(Ae="",B!=null&&(Ae=B.replace(ae,"$&/")+"/"),se(tt,X,Ae,"",function(Z){return Z})):tt!=null&&(ue(tt)&&(tt=re(tt,Ae+(!tt.key||be&&be.key===tt.key?"":(""+tt.key).replace(ae,"$&/")+"/")+B)),X.push(tt)),1;if(be=0,Ve=Ve===""?".":Ve+":",D(B))for(var Ue=0;Ue<B.length;Ue++){Ke=B[Ue];var Ze=Ve+ye(Ke,Ue);be+=se(Ke,X,Ae,Ze,tt)}else if(Ze=_(B),typeof Ze=="function")for(B=Ze.call(B),Ue=0;!(Ke=B.next()).done;)Ke=Ke.value,Ze=Ve+ye(Ke,Ue++),be+=se(Ke,X,Ae,Ze,tt);else if(Ke==="object")throw X=String(B),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return be}function de(B,X,Ae){if(B==null)return B;var Ve=[],tt=0;return se(B,Ve,"","",function(Ke){return X.call(Ae,Ke,tt++)}),Ve}function ie(B){if(B._status===-1){var X=B._result;X=X(),X.then(function(Ae){(B._status===0||B._status===-1)&&(B._status=1,B._result=Ae)},function(Ae){(B._status===0||B._status===-1)&&(B._status=2,B._result=Ae)}),B._status===-1&&(B._status=0,B._result=X)}if(B._status===1)return B._result.default;throw B._result}var me={current:null},Q={transition:null},le={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:Q,ReactCurrentOwner:U};function ce(){throw Error("act(...) is not supported in production builds of React.")}return ft.Children={map:de,forEach:function(B,X,Ae){de(B,function(){X.apply(this,arguments)},Ae)},count:function(B){var X=0;return de(B,function(){X++}),X},toArray:function(B){return de(B,function(X){return X})||[]},only:function(B){if(!ue(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},ft.Component=N,ft.Fragment=t,ft.Profiler=s,ft.PureComponent=I,ft.StrictMode=r,ft.Suspense=h,ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,ft.act=ce,ft.cloneElement=function(B,X,Ae){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Ve=R({},B.props),tt=B.key,Ke=B.ref,be=B._owner;if(X!=null){if(X.ref!==void 0&&(Ke=X.ref,be=U.current),X.key!==void 0&&(tt=""+X.key),B.type&&B.type.defaultProps)var Ue=B.type.defaultProps;for(Ze in X)z.call(X,Ze)&&!H.hasOwnProperty(Ze)&&(Ve[Ze]=X[Ze]===void 0&&Ue!==void 0?Ue[Ze]:X[Ze])}var Ze=arguments.length-2;if(Ze===1)Ve.children=Ae;else if(1<Ze){Ue=Array(Ze);for(var Z=0;Z<Ze;Z++)Ue[Z]=arguments[Z+2];Ve.children=Ue}return{$$typeof:n,type:B.type,key:tt,ref:Ke,props:Ve,_owner:be}},ft.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:l,_context:B},B.Consumer=B},ft.createElement=K,ft.createFactory=function(B){var X=K.bind(null,B);return X.type=B,X},ft.createRef=function(){return{current:null}},ft.forwardRef=function(B){return{$$typeof:d,render:B}},ft.isValidElement=ue,ft.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:ie}},ft.memo=function(B,X){return{$$typeof:g,type:B,compare:X===void 0?null:X}},ft.startTransition=function(B){var X=Q.transition;Q.transition={};try{B()}finally{Q.transition=X}},ft.unstable_act=ce,ft.useCallback=function(B,X){return me.current.useCallback(B,X)},ft.useContext=function(B){return me.current.useContext(B)},ft.useDebugValue=function(){},ft.useDeferredValue=function(B){return me.current.useDeferredValue(B)},ft.useEffect=function(B,X){return me.current.useEffect(B,X)},ft.useId=function(){return me.current.useId()},ft.useImperativeHandle=function(B,X,Ae){return me.current.useImperativeHandle(B,X,Ae)},ft.useInsertionEffect=function(B,X){return me.current.useInsertionEffect(B,X)},ft.useLayoutEffect=function(B,X){return me.current.useLayoutEffect(B,X)},ft.useMemo=function(B,X){return me.current.useMemo(B,X)},ft.useReducer=function(B,X,Ae){return me.current.useReducer(B,X,Ae)},ft.useRef=function(B){return me.current.useRef(B)},ft.useState=function(B){return me.current.useState(B)},ft.useSyncExternalStore=function(B,X,Ae){return me.current.useSyncExternalStore(B,X,Ae)},ft.useTransition=function(){return me.current.useTransition()},ft.version="18.3.1",ft}var V1;function uc(){return V1||(V1=1,Hm.exports=pS()),Hm.exports}var W1;function mS(){if(W1)return wd;W1=1;var n=uc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,g){var y,w={},_=null,k=null;g!==void 0&&(_=""+g),h.key!==void 0&&(_=""+h.key),h.ref!==void 0&&(k=h.ref);for(y in h)r.call(h,y)&&!l.hasOwnProperty(y)&&(w[y]=h[y]);if(d&&d.defaultProps)for(y in h=d.defaultProps,h)w[y]===void 0&&(w[y]=h[y]);return{$$typeof:e,type:d,key:_,ref:k,props:w,_owner:s.current}}return wd.Fragment=t,wd.jsx=c,wd.jsxs=c,wd}var Q1;function gS(){return Q1||(Q1=1,Um.exports=mS()),Um.exports}var E=gS(),Fh={},Vm={exports:{}},Dr={},Wm={exports:{}},Qm={};var q1;function yS(){return q1||(q1=1,(function(n){function e(Q,le){var ce=Q.length;Q.push(le);e:for(;0<ce;){var B=ce-1>>>1,X=Q[B];if(0<s(X,le))Q[B]=le,Q[ce]=X,ce=B;else break e}}function t(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var le=Q[0],ce=Q.pop();if(ce!==le){Q[0]=ce;e:for(var B=0,X=Q.length,Ae=X>>>1;B<Ae;){var Ve=2*(B+1)-1,tt=Q[Ve],Ke=Ve+1,be=Q[Ke];if(0>s(tt,ce))Ke<X&&0>s(be,tt)?(Q[B]=be,Q[Ke]=ce,B=Ke):(Q[B]=tt,Q[Ve]=ce,B=Ve);else if(Ke<X&&0>s(be,ce))Q[B]=be,Q[Ke]=ce,B=Ke;else break e}}return le}function s(Q,le){var ce=Q.sortIndex-le.sortIndex;return ce!==0?ce:Q.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var h=[],g=[],y=1,w=null,_=3,k=!1,R=!1,P=!1,N=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(Q){for(var le=t(g);le!==null;){if(le.callback===null)r(g);else if(le.startTime<=Q)r(g),le.sortIndex=le.expirationTime,e(h,le);else break;le=t(g)}}function D(Q){if(P=!1,L(Q),!R)if(t(h)!==null)R=!0,ie(z);else{var le=t(g);le!==null&&me(D,le.startTime-Q)}}function z(Q,le){R=!1,P&&(P=!1,M(K),K=-1),k=!0;var ce=_;try{for(L(le),w=t(h);w!==null&&(!(w.expirationTime>le)||Q&&!ve());){var B=w.callback;if(typeof B=="function"){w.callback=null,_=w.priorityLevel;var X=B(w.expirationTime<=le);le=n.unstable_now(),typeof X=="function"?w.callback=X:w===t(h)&&r(h),L(le)}else r(h);w=t(h)}if(w!==null)var Ae=!0;else{var Ve=t(g);Ve!==null&&me(D,Ve.startTime-le),Ae=!1}return Ae}finally{w=null,_=ce,k=!1}}var U=!1,H=null,K=-1,re=5,ue=-1;function ve(){return!(n.unstable_now()-ue<re)}function ae(){if(H!==null){var Q=n.unstable_now();ue=Q;var le=!0;try{le=H(!0,Q)}finally{le?ye():(U=!1,H=null)}}else U=!1}var ye;if(typeof I=="function")ye=function(){I(ae)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,de=se.port2;se.port1.onmessage=ae,ye=function(){de.postMessage(null)}}else ye=function(){N(ae,0)};function ie(Q){H=Q,U||(U=!0,ye())}function me(Q,le){K=N(function(){Q(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){R||k||(R=!0,ie(z))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(Q){switch(_){case 1:case 2:case 3:var le=3;break;default:le=_}var ce=_;_=le;try{return Q()}finally{_=ce}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ce=_;_=Q;try{return le()}finally{_=ce}},n.unstable_scheduleCallback=function(Q,le,ce){var B=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?B+ce:B):ce=B,Q){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ce+X,Q={id:y++,callback:le,priorityLevel:Q,startTime:ce,expirationTime:X,sortIndex:-1},ce>B?(Q.sortIndex=ce,e(g,Q),t(h)===null&&Q===t(g)&&(P?(M(K),K=-1):P=!0,me(D,ce-B))):(Q.sortIndex=X,e(h,Q),R||k||(R=!0,ie(z))),Q},n.unstable_shouldYield=ve,n.unstable_wrapCallback=function(Q){var le=_;return function(){var ce=_;_=le;try{return Q.apply(this,arguments)}finally{_=ce}}}})(Qm)),Qm}var $1;function g0(){return $1||($1=1,Wm.exports=yS()),Wm.exports}var X1;function vS(){if(X1)return Dr;X1=1;var n=uc(),e=g0();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,f=1;f<arguments.length;f++)o+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function l(i,o){c(i,o),c(i+"Capture",o)}function c(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function _(i){return h.call(w,i)?!0:h.call(y,i)?!1:g.test(i)?w[i]=!0:(y[i]=!0,!1)}function k(i,o,f,m){if(f!==null&&f.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return m?!1:f!==null?!f.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function R(i,o,f,m){if(o===null||typeof o>"u"||k(i,o,f,m))return!0;if(m)return!1;if(f!==null)switch(f.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function P(i,o,f,m,x,C,A){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=m,this.attributeNamespace=x,this.mustUseProperty=f,this.propertyName=i,this.type=o,this.sanitizeURL=C,this.removeEmptyString=A}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){N[i]=new P(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];N[o]=new P(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){N[i]=new P(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){N[i]=new P(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){N[i]=new P(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){N[i]=new P(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){N[i]=new P(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){N[i]=new P(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){N[i]=new P(i,5,!1,i.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function I(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(M,I);N[o]=new P(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(M,I);N[o]=new P(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(M,I);N[o]=new P(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){N[i]=new P(i,1,!1,i.toLowerCase(),null,!1,!1)}),N.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){N[i]=new P(i,1,!1,i.toLowerCase(),null,!0,!0)});function L(i,o,f,m){var x=N.hasOwnProperty(o)?N[o]:null;(x!==null?x.type!==0:m||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(R(o,f,x,m)&&(f=null),m||x===null?_(o)&&(f===null?i.removeAttribute(o):i.setAttribute(o,""+f)):x.mustUseProperty?i[x.propertyName]=f===null?x.type===3?!1:"":f:(o=x.attributeName,m=x.attributeNamespace,f===null?i.removeAttribute(o):(x=x.type,f=x===3||x===4&&f===!0?"":""+f,m?i.setAttributeNS(m,o,f):i.setAttribute(o,f))))}var D=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),U=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),ue=Symbol.for("react.provider"),ve=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),de=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),Q=Symbol.iterator;function le(i){return i===null||typeof i!="object"?null:(i=Q&&i[Q]||i["@@iterator"],typeof i=="function"?i:null)}var ce=Object.assign,B;function X(i){if(B===void 0)try{throw Error()}catch(f){var o=f.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+i}var Ae=!1;function Ve(i,o){if(!i||Ae)return"";Ae=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(te){var m=te}Reflect.construct(i,[],o)}else{try{o.call()}catch(te){m=te}i.call(o.prototype)}else{try{throw Error()}catch(te){m=te}i()}}catch(te){if(te&&m&&typeof te.stack=="string"){for(var x=te.stack.split(`
`),C=m.stack.split(`
`),A=x.length-1,j=C.length-1;1<=A&&0<=j&&x[A]!==C[j];)j--;for(;1<=A&&0<=j;A--,j--)if(x[A]!==C[j]){if(A!==1||j!==1)do if(A--,j--,0>j||x[A]!==C[j]){var G=`
`+x[A].replace(" at new "," at ");return i.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",i.displayName)),G}while(1<=A&&0<=j);break}}}finally{Ae=!1,Error.prepareStackTrace=f}return(i=i?i.displayName||i.name:"")?X(i):""}function tt(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=Ve(i.type,!1),i;case 11:return i=Ve(i.type.render,!1),i;case 1:return i=Ve(i.type,!0),i;default:return""}}function Ke(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case H:return"Fragment";case U:return"Portal";case re:return"Profiler";case K:return"StrictMode";case ye:return"Suspense";case se:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case ve:return(i.displayName||"Context")+".Consumer";case ue:return(i._context.displayName||"Context")+".Provider";case ae:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case de:return o=i.displayName||null,o!==null?o:Ke(i.type)||"Memo";case ie:o=i._payload,i=i._init;try{return Ke(i(o))}catch{}}return null}function be(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ke(o);case 8:return o===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ze(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Z(i){var o=Ze(i)?"checked":"value",f=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),m=""+i[o];if(!i.hasOwnProperty(o)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,C=f.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return x.call(this)},set:function(A){m=""+A,C.call(this,A)}}),Object.defineProperty(i,o,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(A){m=""+A},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Me(i){i._valueTracker||(i._valueTracker=Z(i))}function He(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var f=o.getValue(),m="";return i&&(m=Ze(i)?i.checked?"true":"false":i.value),i=m,i!==f?(o.setValue(i),!0):!1}function ot(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Dn(i,o){var f=o.checked;return ce({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??i._wrapperState.initialChecked})}function br(i,o){var f=o.defaultValue==null?"":o.defaultValue,m=o.checked!=null?o.checked:o.defaultChecked;f=Ue(o.value!=null?o.value:f),i._wrapperState={initialChecked:m,initialValue:f,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function co(i,o){o=o.checked,o!=null&&L(i,"checked",o,!1)}function _s(i,o){co(i,o);var f=Ue(o.value),m=o.type;if(f!=null)m==="number"?(f===0&&i.value===""||i.value!=f)&&(i.value=""+f):i.value!==""+f&&(i.value=""+f);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?yc(i,o.type,f):o.hasOwnProperty("defaultValue")&&yc(i,o.type,Ue(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function wf(i,o,f){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var m=o.type;if(!(m!=="submit"&&m!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,f||o===i.value||(i.value=o),i.defaultValue=o}f=i.name,f!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,f!==""&&(i.name=f)}function yc(i,o,f){(o!=="number"||ot(i.ownerDocument)!==i)&&(f==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+f&&(i.defaultValue=""+f))}var mi=Array.isArray;function fo(i,o,f,m){if(i=i.options,o){o={};for(var x=0;x<f.length;x++)o["$"+f[x]]=!0;for(f=0;f<i.length;f++)x=o.hasOwnProperty("$"+i[f].value),i[f].selected!==x&&(i[f].selected=x),x&&m&&(i[f].defaultSelected=!0)}else{for(f=""+Ue(f),o=null,x=0;x<i.length;x++){if(i[x].value===f){i[x].selected=!0,m&&(i[x].defaultSelected=!0);return}o!==null||i[x].disabled||(o=i[x])}o!==null&&(o.selected=!0)}}function vc(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ce({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Sf(i,o){var f=o.value;if(f==null){if(f=o.children,o=o.defaultValue,f!=null){if(o!=null)throw Error(t(92));if(mi(f)){if(1<f.length)throw Error(t(93));f=f[0]}o=f}o==null&&(o=""),f=o}i._wrapperState={initialValue:Ue(f)}}function ho(i,o){var f=Ue(o.value),m=Ue(o.defaultValue);f!=null&&(f=""+f,f!==i.value&&(i.value=f),o.defaultValue==null&&i.defaultValue!==f&&(i.defaultValue=f)),m!=null&&(i.defaultValue=""+m)}function _f(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Cf(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xc(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Cf(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var bl,Ef=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,f,m,x){MSApp.execUnsafeLocalFunction(function(){return i(o,f,m,x)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(bl=bl||document.createElement("div"),bl.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=bl.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ka(i,o){if(o){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=o;return}}i.textContent=o}var Ra={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nm=["Webkit","ms","Moz","O"];Object.keys(Ra).forEach(function(i){nm.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Ra[o]=Ra[i]})});function Pf(i,o,f){return o==null||typeof o=="boolean"||o===""?"":f||typeof o!="number"||o===0||Ra.hasOwnProperty(i)&&Ra[i]?(""+o).trim():o+"px"}function Tf(i,o){i=i.style;for(var f in o)if(o.hasOwnProperty(f)){var m=f.indexOf("--")===0,x=Pf(f,o[f],m);f==="float"&&(f="cssFloat"),m?i.setProperty(f,x):i[f]=x}}var rm=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wc(i,o){if(o){if(rm[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function kl(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sc=null;function _c(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Cc=null,po=null,mo=null;function bf(i){if(i=$a(i)){if(typeof Cc!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Cn(o),Cc(i.stateNode,i.type,o))}}function Ec(i){po?mo?mo.push(i):mo=[i]:po=i}function Pc(){if(po){var i=po,o=mo;if(mo=po=null,bf(i),o)for(i=0;i<o.length;i++)bf(o[i])}}function kf(i,o){return i(o)}function Rl(){}var Nl=!1;function Tc(i,o,f){if(Nl)return i(o,f);Nl=!0;try{return kf(i,o,f)}finally{Nl=!1,(po!==null||mo!==null)&&(Rl(),Pc())}}function Na(i,o){var f=i.stateNode;if(f===null)return null;var m=Cn(f);if(m===null)return null;f=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(t(231,o,typeof f));return f}var bc=!1;if(d)try{var Aa={};Object.defineProperty(Aa,"passive",{get:function(){bc=!0}}),window.addEventListener("test",Aa,Aa),window.removeEventListener("test",Aa,Aa)}catch{bc=!1}function Rf(i,o,f,m,x,C,A,j,G){var te=Array.prototype.slice.call(arguments,3);try{o.apply(f,te)}catch(pe){this.onError(pe)}}var Cs=!1,Al=null,Ml=!1,go=null,im={onError:function(i){Cs=!0,Al=i}};function sm(i,o,f,m,x,C,A,j,G){Cs=!1,Al=null,Rf.apply(im,arguments)}function om(i,o,f,m,x,C,A,j,G){if(sm.apply(this,arguments),Cs){if(Cs){var te=Al;Cs=!1,Al=null}else throw Error(t(198));Ml||(Ml=!0,go=te)}}function Es(i){var o=i,f=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(f=o.return),i=o.return;while(i)}return o.tag===3?f:null}function Nf(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Af(i){if(Es(i)!==i)throw Error(t(188))}function am(i){var o=i.alternate;if(!o){if(o=Es(i),o===null)throw Error(t(188));return o!==i?null:i}for(var f=i,m=o;;){var x=f.return;if(x===null)break;var C=x.alternate;if(C===null){if(m=x.return,m!==null){f=m;continue}break}if(x.child===C.child){for(C=x.child;C;){if(C===f)return Af(x),i;if(C===m)return Af(x),o;C=C.sibling}throw Error(t(188))}if(f.return!==m.return)f=x,m=C;else{for(var A=!1,j=x.child;j;){if(j===f){A=!0,f=x,m=C;break}if(j===m){A=!0,m=x,f=C;break}j=j.sibling}if(!A){for(j=C.child;j;){if(j===f){A=!0,f=C,m=x;break}if(j===m){A=!0,m=C,f=x;break}j=j.sibling}if(!A)throw Error(t(189))}}if(f.alternate!==m)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?i:o}function Mf(i){return i=am(i),i!==null?If(i):null}function If(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=If(i);if(o!==null)return o;i=i.sibling}return null}var Of=e.unstable_scheduleCallback,Lf=e.unstable_cancelCallback,lm=e.unstable_shouldYield,um=e.unstable_requestPaint,Kt=e.unstable_now,kc=e.unstable_getCurrentPriorityLevel,Ps=e.unstable_ImmediatePriority,Il=e.unstable_UserBlockingPriority,yo=e.unstable_NormalPriority,cm=e.unstable_LowPriority,Ol=e.unstable_IdlePriority,gi=null,bn=null;function Ot(i){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(gi,i,void 0,(i.current.flags&128)===128)}catch{}}var ct=Math.clz32?Math.clz32:sr,Vi=Math.log,jn=Math.LN2;function sr(i){return i>>>=0,i===0?32:31-(Vi(i)/jn|0)|0}var Kr=64,yi=4194304;function wn(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ts(i,o){var f=i.pendingLanes;if(f===0)return 0;var m=0,x=i.suspendedLanes,C=i.pingedLanes,A=f&268435455;if(A!==0){var j=A&~x;j!==0?m=wn(j):(C&=A,C!==0&&(m=wn(C)))}else A=f&~x,A!==0?m=wn(A):C!==0&&(m=wn(C));if(m===0)return 0;if(o!==0&&o!==m&&(o&x)===0&&(x=m&-m,C=o&-o,x>=C||x===16&&(C&4194240)!==0))return o;if((m&4)!==0&&(m|=f&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=m;0<o;)f=31-ct(o),x=1<<f,m|=i[f],o&=~x;return m}function Df(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jf(i,o){for(var f=i.suspendedLanes,m=i.pingedLanes,x=i.expirationTimes,C=i.pendingLanes;0<C;){var A=31-ct(C),j=1<<A,G=x[A];G===-1?((j&f)===0||(j&m)!==0)&&(x[A]=Df(j,o)):G<=o&&(i.expiredLanes|=j),C&=~j}}function vo(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Rc(){var i=Kr;return Kr<<=1,(Kr&4194240)===0&&(Kr=64),i}function hr(i){for(var o=[],f=0;31>f;f++)o.push(i);return o}function Ma(i,o,f){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-ct(o),i[o]=f}function dm(i,o){var f=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<f;){var x=31-ct(f),C=1<<x;o[x]=0,m[x]=-1,i[x]=-1,f&=~C}}function Nc(i,o){var f=i.entangledLanes|=o;for(i=i.entanglements;f;){var m=31-ct(f),x=1<<m;x&o|i[m]&o&&(i[m]|=o),f&=~x}}var yt=0;function Ia(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var xo,wo,Ff,zf,Ll,Dl=!1,So=[],kr=null,Wi=null,Zr=null,dt=new Map,_o=new Map,Jr=[],Bf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gf(i,o){switch(i){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":dt.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":_o.delete(o.pointerId)}}function Oa(i,o,f,m,x,C){return i===null||i.nativeEvent!==C?(i={blockedOn:o,domEventName:f,eventSystemFlags:m,nativeEvent:C,targetContainers:[x]},o!==null&&(o=$a(o),o!==null&&wo(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),i)}function Sn(i,o,f,m,x){switch(o){case"focusin":return kr=Oa(kr,i,o,f,m,x),!0;case"dragenter":return Wi=Oa(Wi,i,o,f,m,x),!0;case"mouseover":return Zr=Oa(Zr,i,o,f,m,x),!0;case"pointerover":var C=x.pointerId;return dt.set(C,Oa(dt.get(C)||null,i,o,f,m,x)),!0;case"gotpointercapture":return C=x.pointerId,_o.set(C,Oa(_o.get(C)||null,i,o,f,m,x)),!0}return!1}function jl(i){var o=ts(i.target);if(o!==null){var f=Es(o);if(f!==null){if(o=f.tag,o===13){if(o=Nf(f),o!==null){i.blockedOn=o,Ll(i.priority,function(){Ff(f)});return}}else if(o===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fl(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var f=Gl(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(f===null){f=i.nativeEvent;var m=new f.constructor(f.type,f);Sc=m,f.target.dispatchEvent(m),Sc=null}else return o=$a(f),o!==null&&wo(o),i.blockedOn=f,!1;o.shift()}return!0}function zl(i,o,f){Fl(i)&&f.delete(o)}function fm(){Dl=!1,kr!==null&&Fl(kr)&&(kr=null),Wi!==null&&Fl(Wi)&&(Wi=null),Zr!==null&&Fl(Zr)&&(Zr=null),dt.forEach(zl),_o.forEach(zl)}function Qi(i,o){i.blockedOn===o&&(i.blockedOn=null,Dl||(Dl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fm)))}function or(i){function o(x){return Qi(x,i)}if(0<So.length){Qi(So[0],i);for(var f=1;f<So.length;f++){var m=So[f];m.blockedOn===i&&(m.blockedOn=null)}}for(kr!==null&&Qi(kr,i),Wi!==null&&Qi(Wi,i),Zr!==null&&Qi(Zr,i),dt.forEach(o),_o.forEach(o),f=0;f<Jr.length;f++)m=Jr[f],m.blockedOn===i&&(m.blockedOn=null);for(;0<Jr.length&&(f=Jr[0],f.blockedOn===null);)jl(f),f.blockedOn===null&&Jr.shift()}var Co=D.ReactCurrentBatchConfig,Bl=!0;function jr(i,o,f,m){var x=yt,C=Co.transition;Co.transition=null;try{yt=1,Eo(i,o,f,m)}finally{yt=x,Co.transition=C}}function vi(i,o,f,m){var x=yt,C=Co.transition;Co.transition=null;try{yt=4,Eo(i,o,f,m)}finally{yt=x,Co.transition=C}}function Eo(i,o,f,m){if(Bl){var x=Gl(i,o,f,m);if(x===null)ru(i,o,m,Po,f),Gf(i,m);else if(Sn(x,i,o,f,m))m.stopPropagation();else if(Gf(i,m),o&4&&-1<Bf.indexOf(i)){for(;x!==null;){var C=$a(x);if(C!==null&&xo(C),C=Gl(i,o,f,m),C===null&&ru(i,o,m,Po,f),C===x)break;x=C}x!==null&&m.stopPropagation()}else ru(i,o,m,null,f)}}var Po=null;function Gl(i,o,f,m){if(Po=null,i=_c(m),i=ts(i),i!==null)if(o=Es(i),o===null)i=null;else if(f=o.tag,f===13){if(i=Nf(o),i!==null)return i;i=null}else if(f===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Po=i,null}function Uf(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kc()){case Ps:return 1;case Il:return 4;case yo:case cm:return 16;case Ol:return 536870912;default:return 16}default:return 16}}var kn=null,qi=null,xi=null;function La(){if(xi)return xi;var i,o=qi,f=o.length,m,x="value"in kn?kn.value:kn.textContent,C=x.length;for(i=0;i<f&&o[i]===x[i];i++);var A=f-i;for(m=1;m<=A&&o[f-m]===x[C-m];m++);return xi=x.slice(i,1<m?1-m:void 0)}function bs(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function qn(){return!0}function pr(){return!1}function dn(i){function o(f,m,x,C,A){this._reactName=f,this._targetInst=x,this.type=m,this.nativeEvent=C,this.target=A,this.currentTarget=null;for(var j in i)i.hasOwnProperty(j)&&(f=i[j],this[j]=f?f(C):C[j]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?qn:pr,this.isPropagationStopped=pr,this}return ce(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){},isPersistent:qn}),o}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fr=dn(ar),zr=ce({},ar,{view:0,detail:0}),Hf=dn(zr),Da,ja,Rn,$n=ce({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Rn&&(Rn&&i.type==="mousemove"?(Da=i.screenX-Rn.screenX,ja=i.screenY-Rn.screenY):ja=Da=0,Rn=i),Da)},movementY:function(i){return"movementY"in i?i.movementY:ja}}),Lt=dn($n),Fa=ce({},$n,{dataTransfer:0}),Br=dn(Fa),Vf=ce({},zr,{relatedTarget:0}),Ul=dn(Vf),Ac=ce({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Mc=dn(Ac),Wf=ce({},ar,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Hl=dn(Wf),Qf=ce({},ar,{data:0}),ks=dn(Qf),Ic={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pm(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Vl[i])?!!o[i]:!1}function Rs(){return pm}var Wl=ce({},zr,{key:function(i){if(i.key){var o=Ic[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=bs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?hm[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(i){return i.type==="keypress"?bs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?bs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),qf=dn(Wl),$f=ce({},$n,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ns=dn($f),Xf=ce({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),Ql=dn(Xf),ql=ce({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),To=dn(ql),Oc=ce({},$n,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Lc=dn(Oc),Yf=[9,13,27,32],za=d&&"CompositionEvent"in window,As=null;d&&"documentMode"in document&&(As=document.documentMode);var bo=d&&"TextEvent"in window&&!As,mr=d&&(!za||As&&8<As&&11>=As),$i=" ",$l=!1;function Dc(i,o){switch(i){case"keyup":return Yf.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gr(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var gr=!1;function jc(i,o){switch(i){case"compositionend":return Gr(o);case"keypress":return o.which!==32?null:($l=!0,$i);case"textInput":return i=o.data,i===$i&&$l?null:i;default:return null}}function Kf(i,o){if(gr)return i==="compositionend"||!za&&Dc(i,o)?(i=La(),xi=qi=kn=null,gr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return mr&&o.locale!=="ko"?null:o.data;default:return null}}var wi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Si(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!wi[i.type]:o==="textarea"}function Ba(i,o,f,m){Ec(m),o=iu(o,"onChange"),0<o.length&&(f=new Fr("onChange","change",null,f,m),i.push({event:f,listeners:o}))}var ko=null,Xi=null;function Zf(i){$c(i,0)}function Yi(i){var o=hn(i);if(He(o))return i}function Rr(i,o){if(i==="change")return o}var Ro=!1;if(d){var Ki;if(d){var Nr="oninput"in document;if(!Nr){var Xl=document.createElement("div");Xl.setAttribute("oninput","return;"),Nr=typeof Xl.oninput=="function"}Ki=Nr}else Ki=!1;Ro=Ki&&(!document.documentMode||9<document.documentMode)}function Ms(){ko&&(ko.detachEvent("onpropertychange",Fc),Xi=ko=null)}function Fc(i){if(i.propertyName==="value"&&Yi(Xi)){var o=[];Ba(o,Xi,i,_c(i)),Tc(Zf,o)}}function zc(i,o,f){i==="focusin"?(Ms(),ko=o,Xi=f,ko.attachEvent("onpropertychange",Fc)):i==="focusout"&&Ms()}function qt(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Yi(Xi)}function Yl(i,o){if(i==="click")return Yi(o)}function Bc(i,o){if(i==="input"||i==="change")return Yi(o)}function Gc(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var lr=typeof Object.is=="function"?Object.is:Gc;function Is(i,o){if(lr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var f=Object.keys(i),m=Object.keys(o);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var x=f[m];if(!h.call(o,x)||!lr(i[x],o[x]))return!1}return!0}function Zi(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Bt(i,o){var f=Zi(i);i=0;for(var m;f;){if(f.nodeType===3){if(m=i+f.textContent.length,i<=o&&m>=o)return{node:f,offset:o-i};i=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Zi(f)}}function on(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?on(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function fn(){for(var i=window,o=ot();o instanceof i.HTMLIFrameElement;){try{var f=typeof o.contentWindow.location.href=="string"}catch{f=!1}if(f)i=o.contentWindow;else break;o=ot(i.document)}return o}function No(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function Ga(i){var o=fn(),f=i.focusedElem,m=i.selectionRange;if(o!==f&&f&&f.ownerDocument&&on(f.ownerDocument.documentElement,f)){if(m!==null&&No(f)){if(o=m.start,i=m.end,i===void 0&&(i=o),"selectionStart"in f)f.selectionStart=o,f.selectionEnd=Math.min(i,f.value.length);else if(i=(o=f.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var x=f.textContent.length,C=Math.min(m.start,x);m=m.end===void 0?C:Math.min(m.end,x),!i.extend&&C>m&&(x=m,m=C,C=x),x=Bt(f,C);var A=Bt(f,m);x&&A&&(i.rangeCount!==1||i.anchorNode!==x.node||i.anchorOffset!==x.offset||i.focusNode!==A.node||i.focusOffset!==A.offset)&&(o=o.createRange(),o.setStart(x.node,x.offset),i.removeAllRanges(),C>m?(i.addRange(o),i.extend(A.node,A.offset)):(o.setEnd(A.node,A.offset),i.addRange(o)))}}for(o=[],i=f;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<o.length;f++)i=o[f],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Ua=d&&"documentMode"in document&&11>=document.documentMode,Ao=null,_n=null,Os=null,Ha=!1;function Kl(i,o,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Ha||Ao==null||Ao!==ot(m)||(m=Ao,"selectionStart"in m&&No(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Os&&Is(Os,m)||(Os=m,m=iu(_n,"onSelect"),0<m.length&&(o=new Fr("onSelect","select",null,o,f),i.push({event:o,listeners:m}),o.target=Ao)))}function yr(i,o){var f={};return f[i.toLowerCase()]=o.toLowerCase(),f["Webkit"+i]="webkit"+o,f["Moz"+i]="moz"+o,f}var Nn={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionend:yr("Transition","TransitionEnd")},Ls={},Zl={};d&&(Zl=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);function Mo(i){if(Ls[i])return Ls[i];if(!Nn[i])return i;var o=Nn[i],f;for(f in o)if(o.hasOwnProperty(f)&&f in Zl)return Ls[i]=o[f];return i}var Uc=Mo("animationend"),Hc=Mo("animationiteration"),Vc=Mo("animationstart"),Wc=Mo("transitionend"),Qc=new Map,qc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(i,o){Qc.set(i,o),l(o,[i])}for(var Jl=0;Jl<qc.length;Jl++){var Ds=qc[Jl],Jf=Ds.toLowerCase(),eu=Ds[0].toUpperCase()+Ds.slice(1);_i(Jf,"on"+eu)}_i(Uc,"onAnimationEnd"),_i(Hc,"onAnimationIteration"),_i(Vc,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(Wc,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ji));function tu(i,o,f){var m=i.type||"unknown-event";i.currentTarget=f,om(m,o,void 0,i),i.currentTarget=null}function $c(i,o){o=(o&4)!==0;for(var f=0;f<i.length;f++){var m=i[f],x=m.event;m=m.listeners;e:{var C=void 0;if(o)for(var A=m.length-1;0<=A;A--){var j=m[A],G=j.instance,te=j.currentTarget;if(j=j.listener,G!==C&&x.isPropagationStopped())break e;tu(x,j,te),C=G}else for(A=0;A<m.length;A++){if(j=m[A],G=j.instance,te=j.currentTarget,j=j.listener,G!==C&&x.isPropagationStopped())break e;tu(x,j,te),C=G}}}if(Ml)throw i=go,Ml=!1,go=null,i}function Rt(i,o){var f=o[ou];f===void 0&&(f=o[ou]=new Set);var m=i+"__bubble";f.has(m)||(Xc(o,i,2,!1),f.add(m))}function nu(i,o,f){var m=0;o&&(m|=4),Xc(f,i,m,o)}var Va="_reactListening"+Math.random().toString(36).slice(2);function js(i){if(!i[Va]){i[Va]=!0,r.forEach(function(f){f!=="selectionchange"&&(eh.has(f)||nu(f,!1,i),nu(f,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Va]||(o[Va]=!0,nu("selectionchange",!1,o))}}function Xc(i,o,f,m){switch(Uf(o)){case 1:var x=jr;break;case 4:x=vi;break;default:x=Eo}f=x.bind(null,o,f,i),x=void 0,!bc||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),m?x!==void 0?i.addEventListener(o,f,{capture:!0,passive:x}):i.addEventListener(o,f,!0):x!==void 0?i.addEventListener(o,f,{passive:x}):i.addEventListener(o,f,!1)}function ru(i,o,f,m,x){var C=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var A=m.tag;if(A===3||A===4){var j=m.stateNode.containerInfo;if(j===x||j.nodeType===8&&j.parentNode===x)break;if(A===4)for(A=m.return;A!==null;){var G=A.tag;if((G===3||G===4)&&(G=A.stateNode.containerInfo,G===x||G.nodeType===8&&G.parentNode===x))return;A=A.return}for(;j!==null;){if(A=ts(j),A===null)return;if(G=A.tag,G===5||G===6){m=C=A;continue e}j=j.parentNode}}m=m.return}Tc(function(){var te=C,pe=_c(f),xe=[];e:{var fe=Qc.get(i);if(fe!==void 0){var Ie=Fr,je=i;switch(i){case"keypress":if(bs(f)===0)break e;case"keydown":case"keyup":Ie=qf;break;case"focusin":je="focus",Ie=Ul;break;case"focusout":je="blur",Ie=Ul;break;case"beforeblur":case"afterblur":Ie=Ul;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=Lt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=Br;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=Ql;break;case Uc:case Hc:case Vc:Ie=Mc;break;case Wc:Ie=To;break;case"scroll":Ie=Hf;break;case"wheel":Ie=Lc;break;case"copy":case"cut":case"paste":Ie=Hl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=Ns}var Fe=(o&4)!==0,yn=!Fe&&i==="scroll",Y=Fe?fe!==null?fe+"Capture":null:fe;Fe=[];for(var V=te,J;V!==null;){J=V;var _e=J.stateNode;if(J.tag===5&&_e!==null&&(J=_e,Y!==null&&(_e=Na(V,Y),_e!=null&&Fe.push(Io(V,_e,J)))),yn)break;V=V.return}0<Fe.length&&(fe=new Ie(fe,je,null,f,pe),xe.push({event:fe,listeners:Fe}))}}if((o&7)===0){e:{if(fe=i==="mouseover"||i==="pointerover",Ie=i==="mouseout"||i==="pointerout",fe&&f!==Sc&&(je=f.relatedTarget||f.fromElement)&&(ts(je)||je[ti]))break e;if((Ie||fe)&&(fe=pe.window===pe?pe:(fe=pe.ownerDocument)?fe.defaultView||fe.parentWindow:window,Ie?(je=f.relatedTarget||f.toElement,Ie=te,je=je?ts(je):null,je!==null&&(yn=Es(je),je!==yn||je.tag!==5&&je.tag!==6)&&(je=null)):(Ie=null,je=te),Ie!==je)){if(Fe=Lt,_e="onMouseLeave",Y="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(Fe=Ns,_e="onPointerLeave",Y="onPointerEnter",V="pointer"),yn=Ie==null?fe:hn(Ie),J=je==null?fe:hn(je),fe=new Fe(_e,V+"leave",Ie,f,pe),fe.target=yn,fe.relatedTarget=J,_e=null,ts(pe)===te&&(Fe=new Fe(Y,V+"enter",je,f,pe),Fe.target=J,Fe.relatedTarget=yn,_e=Fe),yn=_e,Ie&&je)t:{for(Fe=Ie,Y=je,V=0,J=Fe;J;J=Fs(J))V++;for(J=0,_e=Y;_e;_e=Fs(_e))J++;for(;0<V-J;)Fe=Fs(Fe),V--;for(;0<J-V;)Y=Fs(Y),J--;for(;V--;){if(Fe===Y||Y!==null&&Fe===Y.alternate)break t;Fe=Fs(Fe),Y=Fs(Y)}Fe=null}else Fe=null;Ie!==null&&th(xe,fe,Ie,Fe,!1),je!==null&&yn!==null&&th(xe,yn,je,Fe,!0)}}e:{if(fe=te?hn(te):window,Ie=fe.nodeName&&fe.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&fe.type==="file")var ze=Rr;else if(Si(fe))if(Ro)ze=Bc;else{ze=qt;var We=zc}else(Ie=fe.nodeName)&&Ie.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(ze=Yl);if(ze&&(ze=ze(i,te))){Ba(xe,ze,f,pe);break e}We&&We(i,fe,te),i==="focusout"&&(We=fe._wrapperState)&&We.controlled&&fe.type==="number"&&yc(fe,"number",fe.value)}switch(We=te?hn(te):window,i){case"focusin":(Si(We)||We.contentEditable==="true")&&(Ao=We,_n=te,Os=null);break;case"focusout":Os=_n=Ao=null;break;case"mousedown":Ha=!0;break;case"contextmenu":case"mouseup":case"dragend":Ha=!1,Kl(xe,f,pe);break;case"selectionchange":if(Ua)break;case"keydown":case"keyup":Kl(xe,f,pe)}var Qe;if(za)e:{switch(i){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else gr?Dc(i,f)&&(Ye="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(Ye="onCompositionStart");Ye&&(mr&&f.locale!=="ko"&&(gr||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&gr&&(Qe=La()):(kn=pe,qi="value"in kn?kn.value:kn.textContent,gr=!0)),We=iu(te,Ye),0<We.length&&(Ye=new ks(Ye,i,null,f,pe),xe.push({event:Ye,listeners:We}),Qe?Ye.data=Qe:(Qe=Gr(f),Qe!==null&&(Ye.data=Qe)))),(Qe=bo?jc(i,f):Kf(i,f))&&(te=iu(te,"onBeforeInput"),0<te.length&&(pe=new ks("onBeforeInput","beforeinput",null,f,pe),xe.push({event:pe,listeners:te}),pe.data=Qe))}$c(xe,o)})}function Io(i,o,f){return{instance:i,listener:o,currentTarget:f}}function iu(i,o){for(var f=o+"Capture",m=[];i!==null;){var x=i,C=x.stateNode;x.tag===5&&C!==null&&(x=C,C=Na(i,f),C!=null&&m.unshift(Io(i,C,x)),C=Na(i,o),C!=null&&m.push(Io(i,C,x))),i=i.return}return m}function Fs(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function th(i,o,f,m,x){for(var C=o._reactName,A=[];f!==null&&f!==m;){var j=f,G=j.alternate,te=j.stateNode;if(G!==null&&G===m)break;j.tag===5&&te!==null&&(j=te,x?(G=Na(f,C),G!=null&&A.unshift(Io(f,G,j))):x||(G=Na(f,C),G!=null&&A.push(Io(f,G,j)))),f=f.return}A.length!==0&&i.push({event:o,listeners:A})}var mm=/\r\n?/g,nh=/\u0000|\uFFFD/g;function Yc(i){return(typeof i=="string"?i:""+i).replace(mm,`
`).replace(nh,"")}function Wa(i,o,f){if(o=Yc(o),Yc(i)!==o&&f)throw Error(t(425))}function zs(){}var Kc=null,Zc=null;function Jc(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var vr=typeof setTimeout=="function"?setTimeout:void 0,ed=typeof clearTimeout=="function"?clearTimeout:void 0,Qa=typeof Promise=="function"?Promise:void 0,rh=typeof queueMicrotask=="function"?queueMicrotask:typeof Qa<"u"?function(i){return Qa.resolve(null).then(i).catch(ih)}:vr;function ih(i){setTimeout(function(){throw i})}function su(i,o){var f=o,m=0;do{var x=f.nextSibling;if(i.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"){if(m===0){i.removeChild(x),or(o);return}m--}else f!=="$"&&f!=="$?"&&f!=="$!"||m++;f=x}while(f);or(o)}function ei(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Bs(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"){if(o===0)return i;o--}else f==="/$"&&o++}i=i.previousSibling}return null}var es=Math.random().toString(36).slice(2),Ar="__reactFiber$"+es,qa="__reactProps$"+es,ti="__reactContainer$"+es,ou="__reactEvents$"+es,sh="__reactListeners$"+es,oh="__reactHandles$"+es;function ts(i){var o=i[Ar];if(o)return o;for(var f=i.parentNode;f;){if(o=f[ti]||f[Ar]){if(f=o.alternate,o.child!==null||f!==null&&f.child!==null)for(i=Bs(i);i!==null;){if(f=i[Ar])return f;i=Bs(i)}return o}i=f,f=i.parentNode}return null}function $a(i){return i=i[Ar]||i[ti],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function hn(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Cn(i){return i[qa]||null}var au=[],Gs=-1;function Ci(i){return{current:i}}function Nt(i){0>Gs||(i.current=au[Gs],au[Gs]=null,Gs--)}function bt(i,o){Gs++,au[Gs]=i.current,i.current=o}var ni={},An=Ci(ni),Fn=Ci(!1),ns=ni;function Us(i,o){var f=i.type.contextTypes;if(!f)return ni;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===o)return m.__reactInternalMemoizedMaskedChildContext;var x={},C;for(C in f)x[C]=o[C];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=x),x}function zn(i){return i=i.childContextTypes,i!=null}function Oo(){Nt(Fn),Nt(An)}function td(i,o,f){if(An.current!==ni)throw Error(t(168));bt(An,o),bt(Fn,f)}function lu(i,o,f){var m=i.stateNode;if(o=o.childContextTypes,typeof m.getChildContext!="function")return f;m=m.getChildContext();for(var x in m)if(!(x in o))throw Error(t(108,be(i)||"Unknown",x));return ce({},f,m)}function Hs(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ni,ns=An.current,bt(An,i),bt(Fn,Fn.current),!0}function ah(i,o,f){var m=i.stateNode;if(!m)throw Error(t(169));f?(i=lu(i,o,ns),m.__reactInternalMemoizedMergedChildContext=i,Nt(Fn),Nt(An),bt(An,i)):Nt(Fn),bt(Fn,f)}var ri=null,Lo=!1,uu=!1;function Xa(i){ri===null?ri=[i]:ri.push(i)}function Ei(i){Lo=!0,Xa(i)}function rs(){if(!uu&&ri!==null){uu=!0;var i=0,o=yt;try{var f=ri;for(yt=1;i<f.length;i++){var m=f[i];do m=m(!0);while(m!==null)}ri=null,Lo=!1}catch(x){throw ri!==null&&(ri=ri.slice(i+1)),Of(Ps,rs),x}finally{yt=o,uu=!1}}return null}var Xn=[],Vs=0,is=null,ss=0,Yn=[],Kn=0,os=null,xr=1,Gt="";function Ws(i,o){Xn[Vs++]=ss,Xn[Vs++]=is,is=i,ss=o}function lh(i,o,f){Yn[Kn++]=xr,Yn[Kn++]=Gt,Yn[Kn++]=os,os=i;var m=xr;i=Gt;var x=32-ct(m)-1;m&=~(1<<x),f+=1;var C=32-ct(o)+x;if(30<C){var A=x-x%5;C=(m&(1<<A)-1).toString(32),m>>=A,x-=A,xr=1<<32-ct(o)+x|f<<x|m,Gt=C+i}else xr=1<<C|f<<x|m,Gt=i}function Do(i){i.return!==null&&(Ws(i,1),lh(i,1,0))}function En(i){for(;i===is;)is=Xn[--Vs],Xn[Vs]=null,ss=Xn[--Vs],Xn[Vs]=null;for(;i===os;)os=Yn[--Kn],Yn[Kn]=null,Gt=Yn[--Kn],Yn[Kn]=null,xr=Yn[--Kn],Yn[Kn]=null}var wr=null,Te=null,Ct=!1,Sr=null;function nd(i,o){var f=ci(5,null,null,0);f.elementType="DELETED",f.stateNode=o,f.return=i,o=i.deletions,o===null?(i.deletions=[f],i.flags|=16):o.push(f)}function uh(i,o){switch(i.tag){case 5:var f=i.type;return o=o.nodeType!==1||f.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,wr=i,Te=ei(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,wr=i,Te=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(f=os!==null?{id:xr,overflow:Gt}:null,i.memoizedState={dehydrated:o,treeContext:f,retryLane:1073741824},f=ci(18,null,null,0),f.stateNode=o,f.return=i,i.child=f,wr=i,Te=null,!0):!1;default:return!1}}function Qs(i){return(i.mode&1)!==0&&(i.flags&128)===0}function jo(i){if(Ct){var o=Te;if(o){var f=o;if(!uh(i,o)){if(Qs(i))throw Error(t(418));o=ei(f.nextSibling);var m=wr;o&&uh(i,o)?nd(m,f):(i.flags=i.flags&-4097|2,Ct=!1,wr=i)}}else{if(Qs(i))throw Error(t(418));i.flags=i.flags&-4097|2,Ct=!1,wr=i}}}function cu(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;wr=i}function Ya(i){if(i!==wr)return!1;if(!Ct)return cu(i),Ct=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Jc(i.type,i.memoizedProps)),o&&(o=Te)){if(Qs(i))throw rd(),Error(t(418));for(;o;)nd(i,o),o=ei(o.nextSibling)}if(cu(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var f=i.data;if(f==="/$"){if(o===0){Te=ei(i.nextSibling);break e}o--}else f!=="$"&&f!=="$!"&&f!=="$?"||o++}i=i.nextSibling}Te=null}}else Te=wr?ei(i.stateNode.nextSibling):null;return!0}function rd(){for(var i=Te;i;)i=ei(i.nextSibling)}function qs(){Te=wr=null,Ct=!1}function Ka(i){Sr===null?Sr=[i]:Sr.push(i)}var id=D.ReactCurrentBatchConfig;function Zt(i,o,f){if(i=f.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var m=f.stateNode}if(!m)throw Error(t(147,i));var x=m,C=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===C?o.ref:(o=function(A){var j=x.refs;A===null?delete j[C]:j[C]=A},o._stringRef=C,o)}if(typeof i!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,i))}return i}function ur(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Ur(i){var o=i._init;return o(i._payload)}function du(i){function o(Y,V){if(i){var J=Y.deletions;J===null?(Y.deletions=[V],Y.flags|=16):J.push(V)}}function f(Y,V){if(!i)return null;for(;V!==null;)o(Y,V),V=V.sibling;return null}function m(Y,V){for(Y=new Map;V!==null;)V.key!==null?Y.set(V.key,V):Y.set(V.index,V),V=V.sibling;return Y}function x(Y,V){return Y=ra(Y,V),Y.index=0,Y.sibling=null,Y}function C(Y,V,J){return Y.index=J,i?(J=Y.alternate,J!==null?(J=J.index,J<V?(Y.flags|=2,V):J):(Y.flags|=2,V)):(Y.flags|=1048576,V)}function A(Y){return i&&Y.alternate===null&&(Y.flags|=2),Y}function j(Y,V,J,_e){return V===null||V.tag!==6?(V=Dm(J,Y.mode,_e),V.return=Y,V):(V=x(V,J),V.return=Y,V)}function G(Y,V,J,_e){var ze=J.type;return ze===H?pe(Y,V,J.props.children,_e,J.key):V!==null&&(V.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===ie&&Ur(ze)===V.type)?(_e=x(V,J.props),_e.ref=Zt(Y,V,J),_e.return=Y,_e):(_e=Nh(J.type,J.key,J.props,null,Y.mode,_e),_e.ref=Zt(Y,V,J),_e.return=Y,_e)}function te(Y,V,J,_e){return V===null||V.tag!==4||V.stateNode.containerInfo!==J.containerInfo||V.stateNode.implementation!==J.implementation?(V=jm(J,Y.mode,_e),V.return=Y,V):(V=x(V,J.children||[]),V.return=Y,V)}function pe(Y,V,J,_e,ze){return V===null||V.tag!==7?(V=ll(J,Y.mode,_e,ze),V.return=Y,V):(V=x(V,J),V.return=Y,V)}function xe(Y,V,J){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Dm(""+V,Y.mode,J),V.return=Y,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case z:return J=Nh(V.type,V.key,V.props,null,Y.mode,J),J.ref=Zt(Y,null,V),J.return=Y,J;case U:return V=jm(V,Y.mode,J),V.return=Y,V;case ie:var _e=V._init;return xe(Y,_e(V._payload),J)}if(mi(V)||le(V))return V=ll(V,Y.mode,J,null),V.return=Y,V;ur(Y,V)}return null}function fe(Y,V,J,_e){var ze=V!==null?V.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return ze!==null?null:j(Y,V,""+J,_e);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case z:return J.key===ze?G(Y,V,J,_e):null;case U:return J.key===ze?te(Y,V,J,_e):null;case ie:return ze=J._init,fe(Y,V,ze(J._payload),_e)}if(mi(J)||le(J))return ze!==null?null:pe(Y,V,J,_e,null);ur(Y,J)}return null}function Ie(Y,V,J,_e,ze){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return Y=Y.get(J)||null,j(V,Y,""+_e,ze);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case z:return Y=Y.get(_e.key===null?J:_e.key)||null,G(V,Y,_e,ze);case U:return Y=Y.get(_e.key===null?J:_e.key)||null,te(V,Y,_e,ze);case ie:var We=_e._init;return Ie(Y,V,J,We(_e._payload),ze)}if(mi(_e)||le(_e))return Y=Y.get(J)||null,pe(V,Y,_e,ze,null);ur(V,_e)}return null}function je(Y,V,J,_e){for(var ze=null,We=null,Qe=V,Ye=V=0,Wn=null;Qe!==null&&Ye<J.length;Ye++){Qe.index>Ye?(Wn=Qe,Qe=null):Wn=Qe.sibling;var St=fe(Y,Qe,J[Ye],_e);if(St===null){Qe===null&&(Qe=Wn);break}i&&Qe&&St.alternate===null&&o(Y,Qe),V=C(St,V,Ye),We===null?ze=St:We.sibling=St,We=St,Qe=Wn}if(Ye===J.length)return f(Y,Qe),Ct&&Ws(Y,Ye),ze;if(Qe===null){for(;Ye<J.length;Ye++)Qe=xe(Y,J[Ye],_e),Qe!==null&&(V=C(Qe,V,Ye),We===null?ze=Qe:We.sibling=Qe,We=Qe);return Ct&&Ws(Y,Ye),ze}for(Qe=m(Y,Qe);Ye<J.length;Ye++)Wn=Ie(Qe,Y,Ye,J[Ye],_e),Wn!==null&&(i&&Wn.alternate!==null&&Qe.delete(Wn.key===null?Ye:Wn.key),V=C(Wn,V,Ye),We===null?ze=Wn:We.sibling=Wn,We=Wn);return i&&Qe.forEach(function(ia){return o(Y,ia)}),Ct&&Ws(Y,Ye),ze}function Fe(Y,V,J,_e){var ze=le(J);if(typeof ze!="function")throw Error(t(150));if(J=ze.call(J),J==null)throw Error(t(151));for(var We=ze=null,Qe=V,Ye=V=0,Wn=null,St=J.next();Qe!==null&&!St.done;Ye++,St=J.next()){Qe.index>Ye?(Wn=Qe,Qe=null):Wn=Qe.sibling;var ia=fe(Y,Qe,St.value,_e);if(ia===null){Qe===null&&(Qe=Wn);break}i&&Qe&&ia.alternate===null&&o(Y,Qe),V=C(ia,V,Ye),We===null?ze=ia:We.sibling=ia,We=ia,Qe=Wn}if(St.done)return f(Y,Qe),Ct&&Ws(Y,Ye),ze;if(Qe===null){for(;!St.done;Ye++,St=J.next())St=xe(Y,St.value,_e),St!==null&&(V=C(St,V,Ye),We===null?ze=St:We.sibling=St,We=St);return Ct&&Ws(Y,Ye),ze}for(Qe=m(Y,Qe);!St.done;Ye++,St=J.next())St=Ie(Qe,Y,Ye,St.value,_e),St!==null&&(i&&St.alternate!==null&&Qe.delete(St.key===null?Ye:St.key),V=C(St,V,Ye),We===null?ze=St:We.sibling=St,We=St);return i&&Qe.forEach(function(fS){return o(Y,fS)}),Ct&&Ws(Y,Ye),ze}function yn(Y,V,J,_e){if(typeof J=="object"&&J!==null&&J.type===H&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case z:e:{for(var ze=J.key,We=V;We!==null;){if(We.key===ze){if(ze=J.type,ze===H){if(We.tag===7){f(Y,We.sibling),V=x(We,J.props.children),V.return=Y,Y=V;break e}}else if(We.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===ie&&Ur(ze)===We.type){f(Y,We.sibling),V=x(We,J.props),V.ref=Zt(Y,We,J),V.return=Y,Y=V;break e}f(Y,We);break}else o(Y,We);We=We.sibling}J.type===H?(V=ll(J.props.children,Y.mode,_e,J.key),V.return=Y,Y=V):(_e=Nh(J.type,J.key,J.props,null,Y.mode,_e),_e.ref=Zt(Y,V,J),_e.return=Y,Y=_e)}return A(Y);case U:e:{for(We=J.key;V!==null;){if(V.key===We)if(V.tag===4&&V.stateNode.containerInfo===J.containerInfo&&V.stateNode.implementation===J.implementation){f(Y,V.sibling),V=x(V,J.children||[]),V.return=Y,Y=V;break e}else{f(Y,V);break}else o(Y,V);V=V.sibling}V=jm(J,Y.mode,_e),V.return=Y,Y=V}return A(Y);case ie:return We=J._init,yn(Y,V,We(J._payload),_e)}if(mi(J))return je(Y,V,J,_e);if(le(J))return Fe(Y,V,J,_e);ur(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,V!==null&&V.tag===6?(f(Y,V.sibling),V=x(V,J),V.return=Y,Y=V):(f(Y,V),V=Dm(J,Y.mode,_e),V.return=Y,Y=V),A(Y)):f(Y,V)}return yn}var $s=du(!0),Mr=du(!1),Za=Ci(null),_r=null,Fo=null,fu=null;function hu(){fu=Fo=_r=null}function pu(i){var o=Za.current;Nt(Za),i._currentValue=o}function mu(i,o,f){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===f)break;i=i.return}}function Pi(i,o){_r=i,fu=Fo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(T=!0),i.firstContext=null)}function Zn(i){var o=i._currentValue;if(fu!==i)if(i={context:i,memoizedValue:o,next:null},Fo===null){if(_r===null)throw Error(t(308));Fo=i,_r.dependencies={lanes:0,firstContext:i}}else Fo=Fo.next=i;return o}var ii=null;function zo(i){ii===null?ii=[i]:ii.push(i)}function Ja(i,o,f,m){var x=o.interleaved;return x===null?(f.next=f,zo(o)):(f.next=x.next,x.next=f),o.interleaved=f,Cr(i,m)}function Cr(i,o){i.lanes|=o;var f=i.alternate;for(f!==null&&(f.lanes|=o),f=i,i=i.return;i!==null;)i.childLanes|=o,f=i.alternate,f!==null&&(f.childLanes|=o),f=i,i=i.return;return f.tag===3?f.stateNode:null}var si=!1;function el(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gu(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function oi(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function ai(i,o,f){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(xt&2)!==0){var x=m.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),m.pending=o,Cr(i,f)}return x=m.interleaved,x===null?(o.next=o,zo(m)):(o.next=x.next,x.next=o),m.interleaved=o,Cr(i,f)}function yu(i,o,f){if(o=o.updateQueue,o!==null&&(o=o.shared,(f&4194240)!==0)){var m=o.lanes;m&=i.pendingLanes,f|=m,o.lanes=f,Nc(i,f)}}function tl(i,o){var f=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var x=null,C=null;if(f=f.firstBaseUpdate,f!==null){do{var A={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};C===null?x=C=A:C=C.next=A,f=f.next}while(f!==null);C===null?x=C=o:C=C.next=o}else x=C=o;f={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:C,shared:m.shared,effects:m.effects},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=o:i.next=o,f.lastBaseUpdate=o}function Bo(i,o,f,m){var x=i.updateQueue;si=!1;var C=x.firstBaseUpdate,A=x.lastBaseUpdate,j=x.shared.pending;if(j!==null){x.shared.pending=null;var G=j,te=G.next;G.next=null,A===null?C=te:A.next=te,A=G;var pe=i.alternate;pe!==null&&(pe=pe.updateQueue,j=pe.lastBaseUpdate,j!==A&&(j===null?pe.firstBaseUpdate=te:j.next=te,pe.lastBaseUpdate=G))}if(C!==null){var xe=x.baseState;A=0,pe=te=G=null,j=C;do{var fe=j.lane,Ie=j.eventTime;if((m&fe)===fe){pe!==null&&(pe=pe.next={eventTime:Ie,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var je=i,Fe=j;switch(fe=o,Ie=f,Fe.tag){case 1:if(je=Fe.payload,typeof je=="function"){xe=je.call(Ie,xe,fe);break e}xe=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Fe.payload,fe=typeof je=="function"?je.call(Ie,xe,fe):je,fe==null)break e;xe=ce({},xe,fe);break e;case 2:si=!0}}j.callback!==null&&j.lane!==0&&(i.flags|=64,fe=x.effects,fe===null?x.effects=[j]:fe.push(j))}else Ie={eventTime:Ie,lane:fe,tag:j.tag,payload:j.payload,callback:j.callback,next:null},pe===null?(te=pe=Ie,G=xe):pe=pe.next=Ie,A|=fe;if(j=j.next,j===null){if(j=x.shared.pending,j===null)break;fe=j,j=fe.next,fe.next=null,x.lastBaseUpdate=fe,x.shared.pending=null}}while(!0);if(pe===null&&(G=xe),x.baseState=G,x.firstBaseUpdate=te,x.lastBaseUpdate=pe,o=x.shared.interleaved,o!==null){x=o;do A|=x.lane,x=x.next;while(x!==o)}else C===null&&(x.shared.lanes=0);il|=A,i.lanes=A,i.memoizedState=xe}}function Xt(i,o,f){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var m=i[o],x=m.callback;if(x!==null){if(m.callback=null,m=f,typeof x!="function")throw Error(t(191,x));x.call(m)}}}var nt={},kt=Ci(nt),Ut=Ci(nt),Jt=Ci(nt);function pn(i){if(i===nt)throw Error(t(174));return i}function as(i,o){switch(bt(Jt,o),bt(Ut,i),bt(kt,nt),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:xc(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=xc(o,i)}Nt(kt),bt(kt,o)}function Ht(){Nt(kt),Nt(Ut),Nt(Jt)}function Go(i){pn(Jt.current);var o=pn(kt.current),f=xc(o,i.type);o!==f&&(bt(Ut,i),bt(kt,f))}function Ti(i){Ut.current===i&&(Nt(kt),Nt(Ut))}var At=Ci(0);function Uo(i){for(var o=i;o!==null;){if(o.tag===13){var f=o.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Xs=[];function Bn(){for(var i=0;i<Xs.length;i++)Xs[i]._workInProgressVersionPrimary=null;Xs.length=0}var Ho=D.ReactCurrentDispatcher,nl=D.ReactCurrentBatchConfig,Jn=0,Tt=null,Yt=null,an=null,Hr=!1,ls=!1,Ir=0,vu=0;function ln(){throw Error(t(321))}function rl(i,o){if(o===null)return!1;for(var f=0;f<o.length&&f<i.length;f++)if(!lr(i[f],o[f]))return!1;return!0}function Vo(i,o,f,m,x,C){if(Jn=C,Tt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ho.current=i===null||i.memoizedState===null?ym:ds,i=f(m,x),ls){C=0;do{if(ls=!1,Ir=0,25<=C)throw Error(t(301));C+=1,an=Yt=null,o.updateQueue=null,Ho.current=Cu,i=f(m,x)}while(ls)}if(Ho.current=$o,o=Yt!==null&&Yt.next!==null,Jn=0,an=Yt=Tt=null,Hr=!1,o)throw Error(t(300));return i}function Wo(){var i=Ir!==0;return Ir=0,i}function Dt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Tt.memoizedState=an=i:an=an.next=i,an}function mn(){if(Yt===null){var i=Tt.alternate;i=i!==null?i.memoizedState:null}else i=Yt.next;var o=an===null?Tt.memoizedState:an.next;if(o!==null)an=o,Yt=i;else{if(i===null)throw Error(t(310));Yt=i,i={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},an===null?Tt.memoizedState=an=i:an=an.next=i}return an}function Gn(i,o){return typeof o=="function"?o(i):o}function Un(i){var o=mn(),f=o.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=i;var m=Yt,x=m.baseQueue,C=f.pending;if(C!==null){if(x!==null){var A=x.next;x.next=C.next,C.next=A}m.baseQueue=x=C,f.pending=null}if(x!==null){C=x.next,m=m.baseState;var j=A=null,G=null,te=C;do{var pe=te.lane;if((Jn&pe)===pe)G!==null&&(G=G.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),m=te.hasEagerState?te.eagerState:i(m,te.action);else{var xe={lane:pe,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};G===null?(j=G=xe,A=m):G=G.next=xe,Tt.lanes|=pe,il|=pe}te=te.next}while(te!==null&&te!==C);G===null?A=m:G.next=j,lr(m,o.memoizedState)||(T=!0),o.memoizedState=m,o.baseState=A,o.baseQueue=G,f.lastRenderedState=m}if(i=f.interleaved,i!==null){x=i;do C=x.lane,Tt.lanes|=C,il|=C,x=x.next;while(x!==i)}else x===null&&(f.lanes=0);return[o.memoizedState,f.dispatch]}function xu(i){var o=mn(),f=o.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=i;var m=f.dispatch,x=f.pending,C=o.memoizedState;if(x!==null){f.pending=null;var A=x=x.next;do C=i(C,A.action),A=A.next;while(A!==x);lr(C,o.memoizedState)||(T=!0),o.memoizedState=C,o.baseQueue===null&&(o.baseState=C),f.lastRenderedState=C}return[C,m]}function wu(){}function Su(i,o){var f=Tt,m=mn(),x=o(),C=!lr(m.memoizedState,x);if(C&&(m.memoizedState=x,T=!0),m=m.queue,ld(sd.bind(null,f,m,i),[i]),m.getSnapshot!==o||C||an!==null&&an.memoizedState.tag&1){if(f.flags|=2048,Qo(9,bi.bind(null,f,m,x,o),void 0,null),Vn===null)throw Error(t(349));(Jn&30)!==0||ch(f,o,x)}return x}function ch(i,o,f){i.flags|=16384,i={getSnapshot:o,value:f},o=Tt.updateQueue,o===null?(o={lastEffect:null,stores:null},Tt.updateQueue=o,o.stores=[i]):(f=o.stores,f===null?o.stores=[i]:f.push(i))}function bi(i,o,f,m){o.value=f,o.getSnapshot=m,od(o)&&_u(i)}function sd(i,o,f){return f(function(){od(o)&&_u(i)})}function od(i){var o=i.getSnapshot;i=i.value;try{var f=o();return!lr(i,f)}catch{return!0}}function _u(i){var o=Cr(i,1);o!==null&&Ai(o,i,1,-1)}function us(i){var o=Dt();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:i},o.queue=i,i=i.dispatch=gh.bind(null,Tt,i),[o.memoizedState,i]}function Qo(i,o,f,m){return i={tag:i,create:o,destroy:f,deps:m,next:null},o=Tt.updateQueue,o===null?(o={lastEffect:null,stores:null},Tt.updateQueue=o,o.lastEffect=i.next=i):(f=o.lastEffect,f===null?o.lastEffect=i.next=i:(m=f.next,f.next=i,i.next=m,o.lastEffect=i)),i}function ad(){return mn().memoizedState}function qo(i,o,f,m){var x=Dt();Tt.flags|=i,x.memoizedState=Qo(1|o,f,void 0,m===void 0?null:m)}function Ys(i,o,f,m){var x=mn();m=m===void 0?null:m;var C=void 0;if(Yt!==null){var A=Yt.memoizedState;if(C=A.destroy,m!==null&&rl(m,A.deps)){x.memoizedState=Qo(o,f,C,m);return}}Tt.flags|=i,x.memoizedState=Qo(1|o,f,C,m)}function dh(i,o){return qo(8390656,8,i,o)}function ld(i,o){return Ys(2048,8,i,o)}function ud(i,o){return Ys(4,2,i,o)}function cd(i,o){return Ys(4,4,i,o)}function cs(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function fh(i,o,f){return f=f!=null?f.concat([i]):null,Ys(4,4,cs.bind(null,o,i),f)}function ki(){}function dd(i,o){var f=mn();o=o===void 0?null:o;var m=f.memoizedState;return m!==null&&o!==null&&rl(o,m[1])?m[0]:(f.memoizedState=[i,o],i)}function jt(i,o){var f=mn();o=o===void 0?null:o;var m=f.memoizedState;return m!==null&&o!==null&&rl(o,m[1])?m[0]:(i=i(),f.memoizedState=[i,o],i)}function hh(i,o,f){return(Jn&21)===0?(i.baseState&&(i.baseState=!1,T=!0),i.memoizedState=f):(lr(f,o)||(f=Rc(),Tt.lanes|=f,il|=f,i.baseState=!0),o)}function ph(i,o){var f=yt;yt=f!==0&&4>f?f:4,i(!0);var m=nl.transition;nl.transition={};try{i(!1),o()}finally{yt=f,nl.transition=m}}function mh(){return mn().memoizedState}function gm(i,o,f){var m=ta(i);if(f={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null},fd(i))yh(o,f);else if(f=Ja(i,o,f,m),f!==null){var x=Pr();Ai(f,i,m,x),Er(f,o,m)}}function gh(i,o,f){var m=ta(i),x={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null};if(fd(i))yh(o,x);else{var C=i.alternate;if(i.lanes===0&&(C===null||C.lanes===0)&&(C=o.lastRenderedReducer,C!==null))try{var A=o.lastRenderedState,j=C(A,f);if(x.hasEagerState=!0,x.eagerState=j,lr(j,A)){var G=o.interleaved;G===null?(x.next=x,zo(o)):(x.next=G.next,G.next=x),o.interleaved=x;return}}catch{}f=Ja(i,o,x,m),f!==null&&(x=Pr(),Ai(f,i,m,x),Er(f,o,m))}}function fd(i){var o=i.alternate;return i===Tt||o!==null&&o===Tt}function yh(i,o){ls=Hr=!0;var f=i.pending;f===null?o.next=o:(o.next=f.next,f.next=o),i.pending=o}function Er(i,o,f){if((f&4194240)!==0){var m=o.lanes;m&=i.pendingLanes,f|=m,o.lanes=f,Nc(i,f)}}var $o={readContext:Zn,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},ym={readContext:Zn,useCallback:function(i,o){return Dt().memoizedState=[i,o===void 0?null:o],i},useContext:Zn,useEffect:dh,useImperativeHandle:function(i,o,f){return f=f!=null?f.concat([i]):null,qo(4194308,4,cs.bind(null,o,i),f)},useLayoutEffect:function(i,o){return qo(4194308,4,i,o)},useInsertionEffect:function(i,o){return qo(4,2,i,o)},useMemo:function(i,o){var f=Dt();return o=o===void 0?null:o,i=i(),f.memoizedState=[i,o],i},useReducer:function(i,o,f){var m=Dt();return o=f!==void 0?f(o):o,m.memoizedState=m.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},m.queue=i,i=i.dispatch=gm.bind(null,Tt,i),[m.memoizedState,i]},useRef:function(i){var o=Dt();return i={current:i},o.memoizedState=i},useState:us,useDebugValue:ki,useDeferredValue:function(i){return Dt().memoizedState=i},useTransition:function(){var i=us(!1),o=i[0];return i=ph.bind(null,i[1]),Dt().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,f){var m=Tt,x=Dt();if(Ct){if(f===void 0)throw Error(t(407));f=f()}else{if(f=o(),Vn===null)throw Error(t(349));(Jn&30)!==0||ch(m,o,f)}x.memoizedState=f;var C={value:f,getSnapshot:o};return x.queue=C,dh(sd.bind(null,m,C,i),[i]),m.flags|=2048,Qo(9,bi.bind(null,m,C,f,o),void 0,null),f},useId:function(){var i=Dt(),o=Vn.identifierPrefix;if(Ct){var f=Gt,m=xr;f=(m&~(1<<32-ct(m)-1)).toString(32)+f,o=":"+o+"R"+f,f=Ir++,0<f&&(o+="H"+f.toString(32)),o+=":"}else f=vu++,o=":"+o+"r"+f.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},ds={readContext:Zn,useCallback:dd,useContext:Zn,useEffect:ld,useImperativeHandle:fh,useInsertionEffect:ud,useLayoutEffect:cd,useMemo:jt,useReducer:Un,useRef:ad,useState:function(){return Un(Gn)},useDebugValue:ki,useDeferredValue:function(i){var o=mn();return hh(o,Yt.memoizedState,i)},useTransition:function(){var i=Un(Gn)[0],o=mn().memoizedState;return[i,o]},useMutableSource:wu,useSyncExternalStore:Su,useId:mh,unstable_isNewReconciler:!1},Cu={readContext:Zn,useCallback:dd,useContext:Zn,useEffect:ld,useImperativeHandle:fh,useInsertionEffect:ud,useLayoutEffect:cd,useMemo:jt,useReducer:xu,useRef:ad,useState:function(){return xu(Gn)},useDebugValue:ki,useDeferredValue:function(i){var o=mn();return Yt===null?o.memoizedState=i:hh(o,Yt.memoizedState,i)},useTransition:function(){var i=xu(Gn)[0],o=mn().memoizedState;return[i,o]},useMutableSource:wu,useSyncExternalStore:Su,useId:mh,unstable_isNewReconciler:!1};function Mn(i,o){if(i&&i.defaultProps){o=ce({},o),i=i.defaultProps;for(var f in i)o[f]===void 0&&(o[f]=i[f]);return o}return o}function Xo(i,o,f,m){o=i.memoizedState,f=f(m,o),f=f==null?o:ce({},o,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var Yo={isMounted:function(i){return(i=i._reactInternals)?Es(i)===i:!1},enqueueSetState:function(i,o,f){i=i._reactInternals;var m=Pr(),x=ta(i),C=oi(m,x);C.payload=o,f!=null&&(C.callback=f),o=ai(i,C,x),o!==null&&(Ai(o,i,x,m),yu(o,i,x))},enqueueReplaceState:function(i,o,f){i=i._reactInternals;var m=Pr(),x=ta(i),C=oi(m,x);C.tag=1,C.payload=o,f!=null&&(C.callback=f),o=ai(i,C,x),o!==null&&(Ai(o,i,x,m),yu(o,i,x))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var f=Pr(),m=ta(i),x=oi(f,m);x.tag=2,o!=null&&(x.callback=o),o=ai(i,x,m),o!==null&&(Ai(o,i,m,f),yu(o,i,m))}};function Eu(i,o,f,m,x,C,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,C,A):o.prototype&&o.prototype.isPureReactComponent?!Is(f,m)||!Is(x,C):!0}function vh(i,o,f){var m=!1,x=ni,C=o.contextType;return typeof C=="object"&&C!==null?C=Zn(C):(x=zn(o)?ns:An.current,m=o.contextTypes,C=(m=m!=null)?Us(i,x):ni),o=new o(f,C),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Yo,i.stateNode=o,o._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=x,i.__reactInternalMemoizedMaskedChildContext=C),o}function hd(i,o,f,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(f,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(f,m),o.state!==i&&Yo.enqueueReplaceState(o,o.state,null)}function Pu(i,o,f,m){var x=i.stateNode;x.props=f,x.state=i.memoizedState,x.refs={},el(i);var C=o.contextType;typeof C=="object"&&C!==null?x.context=Zn(C):(C=zn(o)?ns:An.current,x.context=Us(i,C)),x.state=i.memoizedState,C=o.getDerivedStateFromProps,typeof C=="function"&&(Xo(i,o,C,f),x.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(o=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),o!==x.state&&Yo.enqueueReplaceState(x,x.state,null),Bo(i,f,x,m),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308)}function Ks(i,o){try{var f="",m=o;do f+=tt(m),m=m.return;while(m);var x=f}catch(C){x=`
Error generating stack: `+C.message+`
`+C.stack}return{value:i,source:o,stack:x,digest:null}}function Tu(i,o,f){return{value:i,source:null,stack:f??null,digest:o??null}}function Ko(i,o){try{console.error(o.value)}catch(f){setTimeout(function(){throw f})}}var vm=typeof WeakMap=="function"?WeakMap:Map;function xh(i,o,f){f=oi(-1,f),f.tag=3,f.payload={element:null};var m=o.value;return f.callback=function(){Eh||(Eh=!0,km=m),Ko(i,o)},f}function a(i,o,f){f=oi(-1,f),f.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var x=o.value;f.payload=function(){return m(x)},f.callback=function(){Ko(i,o)}}var C=i.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(f.callback=function(){Ko(i,o),typeof m!="function"&&(Jo===null?Jo=new Set([this]):Jo.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})}),f}function u(i,o,f){var m=i.pingCache;if(m===null){m=i.pingCache=new vm;var x=new Set;m.set(o,x)}else x=m.get(o),x===void 0&&(x=new Set,m.set(o,x));x.has(f)||(x.add(f),i=tS.bind(null,i,o,f),o.then(i,i))}function p(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function v(i,o,f,m,x){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(o=oi(-1,1),o.tag=2,ai(f,o,1))),f.lanes|=1),i):(i.flags|=65536,i.lanes=x,i)}var S=D.ReactCurrentOwner,T=!1;function O(i,o,f,m){o.child=i===null?Mr(o,null,f,m):$s(o,i.child,f,m)}function W(i,o,f,m,x){f=f.render;var C=o.ref;return Pi(o,x),m=Vo(i,o,f,m,C,x),f=Wo(),i!==null&&!T?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~x,Hn(i,o,x)):(Ct&&f&&Do(o),o.flags|=1,O(i,o,m,x),o.child)}function ne(i,o,f,m,x){if(i===null){var C=f.type;return typeof C=="function"&&!Lm(C)&&C.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(o.tag=15,o.type=C,Se(i,o,C,m,x)):(i=Nh(f.type,null,m,o,o.mode,x),i.ref=o.ref,i.return=o,o.child=i)}if(C=i.child,(i.lanes&x)===0){var A=C.memoizedProps;if(f=f.compare,f=f!==null?f:Is,f(A,m)&&i.ref===o.ref)return Hn(i,o,x)}return o.flags|=1,i=ra(C,m),i.ref=o.ref,i.return=o,o.child=i}function Se(i,o,f,m,x){if(i!==null){var C=i.memoizedProps;if(Is(C,m)&&i.ref===o.ref)if(T=!1,o.pendingProps=m=C,(i.lanes&x)!==0)(i.flags&131072)!==0&&(T=!0);else return o.lanes=i.lanes,Hn(i,o,x)}return ke(i,o,f,m,x)}function Le(i,o,f){var m=o.pendingProps,x=m.children,C=i!==null?i.memoizedState:null;if(m.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(ku,Vr),Vr|=f;else{if((f&1073741824)===0)return i=C!==null?C.baseLanes|f:f,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,bt(ku,Vr),Vr|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=C!==null?C.baseLanes:f,bt(ku,Vr),Vr|=m}else C!==null?(m=C.baseLanes|f,o.memoizedState=null):m=f,bt(ku,Vr),Vr|=m;return O(i,o,x,f),o.child}function Je(i,o){var f=o.ref;(i===null&&f!==null||i!==null&&i.ref!==f)&&(o.flags|=512,o.flags|=2097152)}function ke(i,o,f,m,x){var C=zn(f)?ns:An.current;return C=Us(o,C),Pi(o,x),f=Vo(i,o,f,m,C,x),m=Wo(),i!==null&&!T?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~x,Hn(i,o,x)):(Ct&&m&&Do(o),o.flags|=1,O(i,o,f,x),o.child)}function Mt(i,o,f,m,x){if(zn(f)){var C=!0;Hs(o)}else C=!1;if(Pi(o,x),o.stateNode===null)ht(i,o),vh(o,f,m),Pu(o,f,m,x),m=!0;else if(i===null){var A=o.stateNode,j=o.memoizedProps;A.props=j;var G=A.context,te=f.contextType;typeof te=="object"&&te!==null?te=Zn(te):(te=zn(f)?ns:An.current,te=Us(o,te));var pe=f.getDerivedStateFromProps,xe=typeof pe=="function"||typeof A.getSnapshotBeforeUpdate=="function";xe||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(j!==m||G!==te)&&hd(o,A,m,te),si=!1;var fe=o.memoizedState;A.state=fe,Bo(o,m,A,x),G=o.memoizedState,j!==m||fe!==G||Fn.current||si?(typeof pe=="function"&&(Xo(o,f,pe,m),G=o.memoizedState),(j=si||Eu(o,f,j,m,fe,G,te))?(xe||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(o.flags|=4194308)):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=G),A.props=m,A.state=G,A.context=te,m=j):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{A=o.stateNode,gu(i,o),j=o.memoizedProps,te=o.type===o.elementType?j:Mn(o.type,j),A.props=te,xe=o.pendingProps,fe=A.context,G=f.contextType,typeof G=="object"&&G!==null?G=Zn(G):(G=zn(f)?ns:An.current,G=Us(o,G));var Ie=f.getDerivedStateFromProps;(pe=typeof Ie=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(j!==xe||fe!==G)&&hd(o,A,m,G),si=!1,fe=o.memoizedState,A.state=fe,Bo(o,m,A,x);var je=o.memoizedState;j!==xe||fe!==je||Fn.current||si?(typeof Ie=="function"&&(Xo(o,f,Ie,m),je=o.memoizedState),(te=si||Eu(o,f,te,m,fe,je,G)||!1)?(pe||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(m,je,G),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(m,je,G)),typeof A.componentDidUpdate=="function"&&(o.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof A.componentDidUpdate!="function"||j===i.memoizedProps&&fe===i.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||j===i.memoizedProps&&fe===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=je),A.props=m,A.state=je,A.context=G,m=te):(typeof A.componentDidUpdate!="function"||j===i.memoizedProps&&fe===i.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||j===i.memoizedProps&&fe===i.memoizedState||(o.flags|=1024),m=!1)}return Et(i,o,f,m,C,x)}function Et(i,o,f,m,x,C){Je(i,o);var A=(o.flags&128)!==0;if(!m&&!A)return x&&ah(o,f,!1),Hn(i,o,C);m=o.stateNode,S.current=o;var j=A&&typeof f.getDerivedStateFromError!="function"?null:m.render();return o.flags|=1,i!==null&&A?(o.child=$s(o,i.child,null,C),o.child=$s(o,null,j,C)):O(i,o,j,C),o.memoizedState=m.state,x&&ah(o,f,!0),o.child}function er(i){var o=i.stateNode;o.pendingContext?td(i,o.pendingContext,o.pendingContext!==o.context):o.context&&td(i,o.context,!1),as(i,o.containerInfo)}function li(i,o,f,m,x){return qs(),Ka(x),o.flags|=256,O(i,o,f,m),o.child}var ee={dehydrated:null,treeContext:null,retryLane:0};function q(i){return{baseLanes:i,cachePool:null,transitions:null}}function oe(i,o,f){var m=o.pendingProps,x=At.current,C=!1,A=(o.flags&128)!==0,j;if((j=A)||(j=i!==null&&i.memoizedState===null?!1:(x&2)!==0),j?(C=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(x|=1),bt(At,x&1),i===null)return jo(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(A=m.children,i=m.fallback,C?(m=o.mode,C=o.child,A={mode:"hidden",children:A},(m&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=A):C=Ah(A,m,0,null),i=ll(i,m,f,null),C.return=o,i.return=o,C.sibling=i,o.child=C,o.child.memoizedState=q(f),o.memoizedState=ee,i):Ne(o,A));if(x=i.memoizedState,x!==null&&(j=x.dehydrated,j!==null))return rt(i,o,A,m,j,x,f);if(C){C=m.fallback,A=o.mode,x=i.child,j=x.sibling;var G={mode:"hidden",children:m.children};return(A&1)===0&&o.child!==x?(m=o.child,m.childLanes=0,m.pendingProps=G,o.deletions=null):(m=ra(x,G),m.subtreeFlags=x.subtreeFlags&14680064),j!==null?C=ra(j,C):(C=ll(C,A,f,null),C.flags|=2),C.return=o,m.return=o,m.sibling=C,o.child=m,m=C,C=o.child,A=i.child.memoizedState,A=A===null?q(f):{baseLanes:A.baseLanes|f,cachePool:null,transitions:A.transitions},C.memoizedState=A,C.childLanes=i.childLanes&~f,o.memoizedState=ee,m}return C=i.child,i=C.sibling,m=ra(C,{mode:"visible",children:m.children}),(o.mode&1)===0&&(m.lanes=f),m.return=o,m.sibling=null,i!==null&&(f=o.deletions,f===null?(o.deletions=[i],o.flags|=16):f.push(i)),o.child=m,o.memoizedState=null,m}function Ne(i,o){return o=Ah({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Ge(i,o,f,m){return m!==null&&Ka(m),$s(o,i.child,null,f),i=Ne(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function rt(i,o,f,m,x,C,A){if(f)return o.flags&256?(o.flags&=-257,m=Tu(Error(t(422))),Ge(i,o,A,m)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(C=m.fallback,x=o.mode,m=Ah({mode:"visible",children:m.children},x,0,null),C=ll(C,x,A,null),C.flags|=2,m.return=o,C.return=o,m.sibling=C,o.child=m,(o.mode&1)!==0&&$s(o,i.child,null,A),o.child.memoizedState=q(A),o.memoizedState=ee,C);if((o.mode&1)===0)return Ge(i,o,A,null);if(x.data==="$!"){if(m=x.nextSibling&&x.nextSibling.dataset,m)var j=m.dgst;return m=j,C=Error(t(419)),m=Tu(C,m,void 0),Ge(i,o,A,m)}if(j=(A&i.childLanes)!==0,T||j){if(m=Vn,m!==null){switch(A&-A){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(m.suspendedLanes|A))!==0?0:x,x!==0&&x!==C.retryLane&&(C.retryLane=x,Cr(i,x),Ai(m,i,x,-1))}return Om(),m=Tu(Error(t(421))),Ge(i,o,A,m)}return x.data==="$?"?(o.flags|=128,o.child=i.child,o=nS.bind(null,i),x._reactRetry=o,null):(i=C.treeContext,Te=ei(x.nextSibling),wr=o,Ct=!0,Sr=null,i!==null&&(Yn[Kn++]=xr,Yn[Kn++]=Gt,Yn[Kn++]=os,xr=i.id,Gt=i.overflow,os=o),o=Ne(o,m.children),o.flags|=4096,o)}function et(i,o,f){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),mu(i.return,o,f)}function pt(i,o,f,m,x){var C=i.memoizedState;C===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:x}:(C.isBackwards=o,C.rendering=null,C.renderingStartTime=0,C.last=m,C.tail=f,C.tailMode=x)}function gn(i,o,f){var m=o.pendingProps,x=m.revealOrder,C=m.tail;if(O(i,o,m.children,f),m=At.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&et(i,f,o);else if(i.tag===19)et(i,f,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(bt(At,m),(o.mode&1)===0)o.memoizedState=null;else switch(x){case"forwards":for(f=o.child,x=null;f!==null;)i=f.alternate,i!==null&&Uo(i)===null&&(x=f),f=f.sibling;f=x,f===null?(x=o.child,o.child=null):(x=f.sibling,f.sibling=null),pt(o,!1,x,f,C);break;case"backwards":for(f=null,x=o.child,o.child=null;x!==null;){if(i=x.alternate,i!==null&&Uo(i)===null){o.child=x;break}i=x.sibling,x.sibling=f,f=x,x=i}pt(o,!0,f,null,C);break;case"together":pt(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ht(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Hn(i,o,f){if(i!==null&&(o.dependencies=i.dependencies),il|=o.lanes,(f&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,f=ra(i,i.pendingProps),o.child=f,f.return=o;i.sibling!==null;)i=i.sibling,f=f.sibling=ra(i,i.pendingProps),f.return=o;f.sibling=null}return o.child}function xm(i,o,f){switch(o.tag){case 3:er(o),qs();break;case 5:Go(o);break;case 1:zn(o.type)&&Hs(o);break;case 4:as(o,o.stateNode.containerInfo);break;case 10:var m=o.type._context,x=o.memoizedProps.value;bt(Za,m._currentValue),m._currentValue=x;break;case 13:if(m=o.memoizedState,m!==null)return m.dehydrated!==null?(bt(At,At.current&1),o.flags|=128,null):(f&o.child.childLanes)!==0?oe(i,o,f):(bt(At,At.current&1),i=Hn(i,o,f),i!==null?i.sibling:null);bt(At,At.current&1);break;case 19:if(m=(f&o.childLanes)!==0,(i.flags&128)!==0){if(m)return gn(i,o,f);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),bt(At,At.current),m)break;return null;case 22:case 23:return o.lanes=0,Le(i,o,f)}return Hn(i,o,f)}var p1,wm,m1,g1;p1=function(i,o){for(var f=o.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===o)break;for(;f.sibling===null;){if(f.return===null||f.return===o)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},wm=function(){},m1=function(i,o,f,m){var x=i.memoizedProps;if(x!==m){i=o.stateNode,pn(kt.current);var C=null;switch(f){case"input":x=Dn(i,x),m=Dn(i,m),C=[];break;case"select":x=ce({},x,{value:void 0}),m=ce({},m,{value:void 0}),C=[];break;case"textarea":x=vc(i,x),m=vc(i,m),C=[];break;default:typeof x.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=zs)}wc(f,m);var A;f=null;for(te in x)if(!m.hasOwnProperty(te)&&x.hasOwnProperty(te)&&x[te]!=null)if(te==="style"){var j=x[te];for(A in j)j.hasOwnProperty(A)&&(f||(f={}),f[A]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(s.hasOwnProperty(te)?C||(C=[]):(C=C||[]).push(te,null));for(te in m){var G=m[te];if(j=x?.[te],m.hasOwnProperty(te)&&G!==j&&(G!=null||j!=null))if(te==="style")if(j){for(A in j)!j.hasOwnProperty(A)||G&&G.hasOwnProperty(A)||(f||(f={}),f[A]="");for(A in G)G.hasOwnProperty(A)&&j[A]!==G[A]&&(f||(f={}),f[A]=G[A])}else f||(C||(C=[]),C.push(te,f)),f=G;else te==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,j=j?j.__html:void 0,G!=null&&j!==G&&(C=C||[]).push(te,G)):te==="children"?typeof G!="string"&&typeof G!="number"||(C=C||[]).push(te,""+G):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(s.hasOwnProperty(te)?(G!=null&&te==="onScroll"&&Rt("scroll",i),C||j===G||(C=[])):(C=C||[]).push(te,G))}f&&(C=C||[]).push("style",f);var te=C;(o.updateQueue=te)&&(o.flags|=4)}},g1=function(i,o,f,m){f!==m&&(o.flags|=4)};function pd(i,o){if(!Ct)switch(i.tailMode){case"hidden":o=i.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function cr(i){var o=i.alternate!==null&&i.alternate.child===i.child,f=0,m=0;if(o)for(var x=i.child;x!==null;)f|=x.lanes|x.childLanes,m|=x.subtreeFlags&14680064,m|=x.flags&14680064,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)f|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=m,i.childLanes=f,o}function W4(i,o,f){var m=o.pendingProps;switch(En(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(o),null;case 1:return zn(o.type)&&Oo(),cr(o),null;case 3:return m=o.stateNode,Ht(),Nt(Fn),Nt(An),Bn(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(Ya(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Sr!==null&&(Am(Sr),Sr=null))),wm(i,o),cr(o),null;case 5:Ti(o);var x=pn(Jt.current);if(f=o.type,i!==null&&o.stateNode!=null)m1(i,o,f,m,x),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!m){if(o.stateNode===null)throw Error(t(166));return cr(o),null}if(i=pn(kt.current),Ya(o)){m=o.stateNode,f=o.type;var C=o.memoizedProps;switch(m[Ar]=o,m[qa]=C,i=(o.mode&1)!==0,f){case"dialog":Rt("cancel",m),Rt("close",m);break;case"iframe":case"object":case"embed":Rt("load",m);break;case"video":case"audio":for(x=0;x<Ji.length;x++)Rt(Ji[x],m);break;case"source":Rt("error",m);break;case"img":case"image":case"link":Rt("error",m),Rt("load",m);break;case"details":Rt("toggle",m);break;case"input":br(m,C),Rt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!C.multiple},Rt("invalid",m);break;case"textarea":Sf(m,C),Rt("invalid",m)}wc(f,C),x=null;for(var A in C)if(C.hasOwnProperty(A)){var j=C[A];A==="children"?typeof j=="string"?m.textContent!==j&&(C.suppressHydrationWarning!==!0&&Wa(m.textContent,j,i),x=["children",j]):typeof j=="number"&&m.textContent!==""+j&&(C.suppressHydrationWarning!==!0&&Wa(m.textContent,j,i),x=["children",""+j]):s.hasOwnProperty(A)&&j!=null&&A==="onScroll"&&Rt("scroll",m)}switch(f){case"input":Me(m),wf(m,C,!0);break;case"textarea":Me(m),_f(m);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(m.onclick=zs)}m=x,o.updateQueue=m,m!==null&&(o.flags|=4)}else{A=x.nodeType===9?x:x.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Cf(f)),i==="http://www.w3.org/1999/xhtml"?f==="script"?(i=A.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=A.createElement(f,{is:m.is}):(i=A.createElement(f),f==="select"&&(A=i,m.multiple?A.multiple=!0:m.size&&(A.size=m.size))):i=A.createElementNS(i,f),i[Ar]=o,i[qa]=m,p1(i,o,!1,!1),o.stateNode=i;e:{switch(A=kl(f,m),f){case"dialog":Rt("cancel",i),Rt("close",i),x=m;break;case"iframe":case"object":case"embed":Rt("load",i),x=m;break;case"video":case"audio":for(x=0;x<Ji.length;x++)Rt(Ji[x],i);x=m;break;case"source":Rt("error",i),x=m;break;case"img":case"image":case"link":Rt("error",i),Rt("load",i),x=m;break;case"details":Rt("toggle",i),x=m;break;case"input":br(i,m),x=Dn(i,m),Rt("invalid",i);break;case"option":x=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},x=ce({},m,{value:void 0}),Rt("invalid",i);break;case"textarea":Sf(i,m),x=vc(i,m),Rt("invalid",i);break;default:x=m}wc(f,x),j=x;for(C in j)if(j.hasOwnProperty(C)){var G=j[C];C==="style"?Tf(i,G):C==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&Ef(i,G)):C==="children"?typeof G=="string"?(f!=="textarea"||G!=="")&&ka(i,G):typeof G=="number"&&ka(i,""+G):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(s.hasOwnProperty(C)?G!=null&&C==="onScroll"&&Rt("scroll",i):G!=null&&L(i,C,G,A))}switch(f){case"input":Me(i),wf(i,m,!1);break;case"textarea":Me(i),_f(i);break;case"option":m.value!=null&&i.setAttribute("value",""+Ue(m.value));break;case"select":i.multiple=!!m.multiple,C=m.value,C!=null?fo(i,!!m.multiple,C,!1):m.defaultValue!=null&&fo(i,!!m.multiple,m.defaultValue,!0);break;default:typeof x.onClick=="function"&&(i.onclick=zs)}switch(f){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return cr(o),null;case 6:if(i&&o.stateNode!=null)g1(i,o,i.memoizedProps,m);else{if(typeof m!="string"&&o.stateNode===null)throw Error(t(166));if(f=pn(Jt.current),pn(kt.current),Ya(o)){if(m=o.stateNode,f=o.memoizedProps,m[Ar]=o,(C=m.nodeValue!==f)&&(i=wr,i!==null))switch(i.tag){case 3:Wa(m.nodeValue,f,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Wa(m.nodeValue,f,(i.mode&1)!==0)}C&&(o.flags|=4)}else m=(f.nodeType===9?f:f.ownerDocument).createTextNode(m),m[Ar]=o,o.stateNode=m}return cr(o),null;case 13:if(Nt(At),m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ct&&Te!==null&&(o.mode&1)!==0&&(o.flags&128)===0)rd(),qs(),o.flags|=98560,C=!1;else if(C=Ya(o),m!==null&&m.dehydrated!==null){if(i===null){if(!C)throw Error(t(318));if(C=o.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(t(317));C[Ar]=o}else qs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;cr(o),C=!1}else Sr!==null&&(Am(Sr),Sr=null),C=!0;if(!C)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=f,o):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(At.current&1)!==0?In===0&&(In=3):Om())),o.updateQueue!==null&&(o.flags|=4),cr(o),null);case 4:return Ht(),wm(i,o),i===null&&js(o.stateNode.containerInfo),cr(o),null;case 10:return pu(o.type._context),cr(o),null;case 17:return zn(o.type)&&Oo(),cr(o),null;case 19:if(Nt(At),C=o.memoizedState,C===null)return cr(o),null;if(m=(o.flags&128)!==0,A=C.rendering,A===null)if(m)pd(C,!1);else{if(In!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(A=Uo(i),A!==null){for(o.flags|=128,pd(C,!1),m=A.updateQueue,m!==null&&(o.updateQueue=m,o.flags|=4),o.subtreeFlags=0,m=f,f=o.child;f!==null;)C=f,i=m,C.flags&=14680066,A=C.alternate,A===null?(C.childLanes=0,C.lanes=i,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=A.childLanes,C.lanes=A.lanes,C.child=A.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=A.memoizedProps,C.memoizedState=A.memoizedState,C.updateQueue=A.updateQueue,C.type=A.type,i=A.dependencies,C.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),f=f.sibling;return bt(At,At.current&1|2),o.child}i=i.sibling}C.tail!==null&&Kt()>Ru&&(o.flags|=128,m=!0,pd(C,!1),o.lanes=4194304)}else{if(!m)if(i=Uo(A),i!==null){if(o.flags|=128,m=!0,f=i.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),pd(C,!0),C.tail===null&&C.tailMode==="hidden"&&!A.alternate&&!Ct)return cr(o),null}else 2*Kt()-C.renderingStartTime>Ru&&f!==1073741824&&(o.flags|=128,m=!0,pd(C,!1),o.lanes=4194304);C.isBackwards?(A.sibling=o.child,o.child=A):(f=C.last,f!==null?f.sibling=A:o.child=A,C.last=A)}return C.tail!==null?(o=C.tail,C.rendering=o,C.tail=o.sibling,C.renderingStartTime=Kt(),o.sibling=null,f=At.current,bt(At,m?f&1|2:f&1),o):(cr(o),null);case 22:case 23:return Im(),m=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(o.flags|=8192),m&&(o.mode&1)!==0?(Vr&1073741824)!==0&&(cr(o),o.subtreeFlags&6&&(o.flags|=8192)):cr(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function Q4(i,o){switch(En(o),o.tag){case 1:return zn(o.type)&&Oo(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ht(),Nt(Fn),Nt(An),Bn(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Ti(o),null;case 13:if(Nt(At),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));qs()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Nt(At),null;case 4:return Ht(),null;case 10:return pu(o.type._context),null;case 22:case 23:return Im(),null;case 24:return null;default:return null}}var wh=!1,dr=!1,q4=typeof WeakSet=="function"?WeakSet:Set,De=null;function bu(i,o){var f=i.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(m){un(i,o,m)}else f.current=null}function Sm(i,o,f){try{f()}catch(m){un(i,o,m)}}var y1=!1;function $4(i,o){if(Kc=Bl,i=fn(),No(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var x=m.anchorOffset,C=m.focusNode;m=m.focusOffset;try{f.nodeType,C.nodeType}catch{f=null;break e}var A=0,j=-1,G=-1,te=0,pe=0,xe=i,fe=null;t:for(;;){for(var Ie;xe!==f||x!==0&&xe.nodeType!==3||(j=A+x),xe!==C||m!==0&&xe.nodeType!==3||(G=A+m),xe.nodeType===3&&(A+=xe.nodeValue.length),(Ie=xe.firstChild)!==null;)fe=xe,xe=Ie;for(;;){if(xe===i)break t;if(fe===f&&++te===x&&(j=A),fe===C&&++pe===m&&(G=A),(Ie=xe.nextSibling)!==null)break;xe=fe,fe=xe.parentNode}xe=Ie}f=j===-1||G===-1?null:{start:j,end:G}}else f=null}f=f||{start:0,end:0}}else f=null;for(Zc={focusedElem:i,selectionRange:f},Bl=!1,De=o;De!==null;)if(o=De,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,De=i;else for(;De!==null;){o=De;try{var je=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(je!==null){var Fe=je.memoizedProps,yn=je.memoizedState,Y=o.stateNode,V=Y.getSnapshotBeforeUpdate(o.elementType===o.type?Fe:Mn(o.type,Fe),yn);Y.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var J=o.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(_e){un(o,o.return,_e)}if(i=o.sibling,i!==null){i.return=o.return,De=i;break}De=o.return}return je=y1,y1=!1,je}function md(i,o,f){var m=o.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&i)===i){var C=x.destroy;x.destroy=void 0,C!==void 0&&Sm(o,f,C)}x=x.next}while(x!==m)}}function Sh(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var f=o=o.next;do{if((f.tag&i)===i){var m=f.create;f.destroy=m()}f=f.next}while(f!==o)}}function _m(i){var o=i.ref;if(o!==null){var f=i.stateNode;i.tag,i=f,typeof o=="function"?o(i):o.current=i}}function v1(i){var o=i.alternate;o!==null&&(i.alternate=null,v1(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Ar],delete o[qa],delete o[ou],delete o[sh],delete o[oh])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function x1(i){return i.tag===5||i.tag===3||i.tag===4}function w1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||x1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Cm(i,o,f){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?f.nodeType===8?f.parentNode.insertBefore(i,o):f.insertBefore(i,o):(f.nodeType===8?(o=f.parentNode,o.insertBefore(i,f)):(o=f,o.appendChild(i)),f=f._reactRootContainer,f!=null||o.onclick!==null||(o.onclick=zs));else if(m!==4&&(i=i.child,i!==null))for(Cm(i,o,f),i=i.sibling;i!==null;)Cm(i,o,f),i=i.sibling}function Em(i,o,f){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?f.insertBefore(i,o):f.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(Em(i,o,f),i=i.sibling;i!==null;)Em(i,o,f),i=i.sibling}var tr=null,Ri=!1;function Zo(i,o,f){for(f=f.child;f!==null;)S1(i,o,f),f=f.sibling}function S1(i,o,f){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(gi,f)}catch{}switch(f.tag){case 5:dr||bu(f,o);case 6:var m=tr,x=Ri;tr=null,Zo(i,o,f),tr=m,Ri=x,tr!==null&&(Ri?(i=tr,f=f.stateNode,i.nodeType===8?i.parentNode.removeChild(f):i.removeChild(f)):tr.removeChild(f.stateNode));break;case 18:tr!==null&&(Ri?(i=tr,f=f.stateNode,i.nodeType===8?su(i.parentNode,f):i.nodeType===1&&su(i,f),or(i)):su(tr,f.stateNode));break;case 4:m=tr,x=Ri,tr=f.stateNode.containerInfo,Ri=!0,Zo(i,o,f),tr=m,Ri=x;break;case 0:case 11:case 14:case 15:if(!dr&&(m=f.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){x=m=m.next;do{var C=x,A=C.destroy;C=C.tag,A!==void 0&&((C&2)!==0||(C&4)!==0)&&Sm(f,o,A),x=x.next}while(x!==m)}Zo(i,o,f);break;case 1:if(!dr&&(bu(f,o),m=f.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=f.memoizedProps,m.state=f.memoizedState,m.componentWillUnmount()}catch(j){un(f,o,j)}Zo(i,o,f);break;case 21:Zo(i,o,f);break;case 22:f.mode&1?(dr=(m=dr)||f.memoizedState!==null,Zo(i,o,f),dr=m):Zo(i,o,f);break;default:Zo(i,o,f)}}function _1(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var f=i.stateNode;f===null&&(f=i.stateNode=new q4),o.forEach(function(m){var x=rS.bind(null,i,m);f.has(m)||(f.add(m),m.then(x,x))})}}function Ni(i,o){var f=o.deletions;if(f!==null)for(var m=0;m<f.length;m++){var x=f[m];try{var C=i,A=o,j=A;e:for(;j!==null;){switch(j.tag){case 5:tr=j.stateNode,Ri=!1;break e;case 3:tr=j.stateNode.containerInfo,Ri=!0;break e;case 4:tr=j.stateNode.containerInfo,Ri=!0;break e}j=j.return}if(tr===null)throw Error(t(160));S1(C,A,x),tr=null,Ri=!1;var G=x.alternate;G!==null&&(G.return=null),x.return=null}catch(te){un(x,o,te)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)C1(o,i),o=o.sibling}function C1(i,o){var f=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Ni(o,i),fs(i),m&4){try{md(3,i,i.return),Sh(3,i)}catch(Fe){un(i,i.return,Fe)}try{md(5,i,i.return)}catch(Fe){un(i,i.return,Fe)}}break;case 1:Ni(o,i),fs(i),m&512&&f!==null&&bu(f,f.return);break;case 5:if(Ni(o,i),fs(i),m&512&&f!==null&&bu(f,f.return),i.flags&32){var x=i.stateNode;try{ka(x,"")}catch(Fe){un(i,i.return,Fe)}}if(m&4&&(x=i.stateNode,x!=null)){var C=i.memoizedProps,A=f!==null?f.memoizedProps:C,j=i.type,G=i.updateQueue;if(i.updateQueue=null,G!==null)try{j==="input"&&C.type==="radio"&&C.name!=null&&co(x,C),kl(j,A);var te=kl(j,C);for(A=0;A<G.length;A+=2){var pe=G[A],xe=G[A+1];pe==="style"?Tf(x,xe):pe==="dangerouslySetInnerHTML"?Ef(x,xe):pe==="children"?ka(x,xe):L(x,pe,xe,te)}switch(j){case"input":_s(x,C);break;case"textarea":ho(x,C);break;case"select":var fe=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!C.multiple;var Ie=C.value;Ie!=null?fo(x,!!C.multiple,Ie,!1):fe!==!!C.multiple&&(C.defaultValue!=null?fo(x,!!C.multiple,C.defaultValue,!0):fo(x,!!C.multiple,C.multiple?[]:"",!1))}x[qa]=C}catch(Fe){un(i,i.return,Fe)}}break;case 6:if(Ni(o,i),fs(i),m&4){if(i.stateNode===null)throw Error(t(162));x=i.stateNode,C=i.memoizedProps;try{x.nodeValue=C}catch(Fe){un(i,i.return,Fe)}}break;case 3:if(Ni(o,i),fs(i),m&4&&f!==null&&f.memoizedState.isDehydrated)try{or(o.containerInfo)}catch(Fe){un(i,i.return,Fe)}break;case 4:Ni(o,i),fs(i);break;case 13:Ni(o,i),fs(i),x=i.child,x.flags&8192&&(C=x.memoizedState!==null,x.stateNode.isHidden=C,!C||x.alternate!==null&&x.alternate.memoizedState!==null||(bm=Kt())),m&4&&_1(i);break;case 22:if(pe=f!==null&&f.memoizedState!==null,i.mode&1?(dr=(te=dr)||pe,Ni(o,i),dr=te):Ni(o,i),fs(i),m&8192){if(te=i.memoizedState!==null,(i.stateNode.isHidden=te)&&!pe&&(i.mode&1)!==0)for(De=i,pe=i.child;pe!==null;){for(xe=De=pe;De!==null;){switch(fe=De,Ie=fe.child,fe.tag){case 0:case 11:case 14:case 15:md(4,fe,fe.return);break;case 1:bu(fe,fe.return);var je=fe.stateNode;if(typeof je.componentWillUnmount=="function"){m=fe,f=fe.return;try{o=m,je.props=o.memoizedProps,je.state=o.memoizedState,je.componentWillUnmount()}catch(Fe){un(m,f,Fe)}}break;case 5:bu(fe,fe.return);break;case 22:if(fe.memoizedState!==null){T1(xe);continue}}Ie!==null?(Ie.return=fe,De=Ie):T1(xe)}pe=pe.sibling}e:for(pe=null,xe=i;;){if(xe.tag===5){if(pe===null){pe=xe;try{x=xe.stateNode,te?(C=x.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(j=xe.stateNode,G=xe.memoizedProps.style,A=G!=null&&G.hasOwnProperty("display")?G.display:null,j.style.display=Pf("display",A))}catch(Fe){un(i,i.return,Fe)}}}else if(xe.tag===6){if(pe===null)try{xe.stateNode.nodeValue=te?"":xe.memoizedProps}catch(Fe){un(i,i.return,Fe)}}else if((xe.tag!==22&&xe.tag!==23||xe.memoizedState===null||xe===i)&&xe.child!==null){xe.child.return=xe,xe=xe.child;continue}if(xe===i)break e;for(;xe.sibling===null;){if(xe.return===null||xe.return===i)break e;pe===xe&&(pe=null),xe=xe.return}pe===xe&&(pe=null),xe.sibling.return=xe.return,xe=xe.sibling}}break;case 19:Ni(o,i),fs(i),m&4&&_1(i);break;case 21:break;default:Ni(o,i),fs(i)}}function fs(i){var o=i.flags;if(o&2){try{e:{for(var f=i.return;f!==null;){if(x1(f)){var m=f;break e}f=f.return}throw Error(t(160))}switch(m.tag){case 5:var x=m.stateNode;m.flags&32&&(ka(x,""),m.flags&=-33);var C=w1(i);Em(i,C,x);break;case 3:case 4:var A=m.stateNode.containerInfo,j=w1(i);Cm(i,j,A);break;default:throw Error(t(161))}}catch(G){un(i,i.return,G)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function X4(i,o,f){De=i,E1(i)}function E1(i,o,f){for(var m=(i.mode&1)!==0;De!==null;){var x=De,C=x.child;if(x.tag===22&&m){var A=x.memoizedState!==null||wh;if(!A){var j=x.alternate,G=j!==null&&j.memoizedState!==null||dr;j=wh;var te=dr;if(wh=A,(dr=G)&&!te)for(De=x;De!==null;)A=De,G=A.child,A.tag===22&&A.memoizedState!==null?b1(x):G!==null?(G.return=A,De=G):b1(x);for(;C!==null;)De=C,E1(C),C=C.sibling;De=x,wh=j,dr=te}P1(i)}else(x.subtreeFlags&8772)!==0&&C!==null?(C.return=x,De=C):P1(i)}}function P1(i){for(;De!==null;){var o=De;if((o.flags&8772)!==0){var f=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:dr||Sh(5,o);break;case 1:var m=o.stateNode;if(o.flags&4&&!dr)if(f===null)m.componentDidMount();else{var x=o.elementType===o.type?f.memoizedProps:Mn(o.type,f.memoizedProps);m.componentDidUpdate(x,f.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var C=o.updateQueue;C!==null&&Xt(o,C,m);break;case 3:var A=o.updateQueue;if(A!==null){if(f=null,o.child!==null)switch(o.child.tag){case 5:f=o.child.stateNode;break;case 1:f=o.child.stateNode}Xt(o,A,f)}break;case 5:var j=o.stateNode;if(f===null&&o.flags&4){f=j;var G=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&f.focus();break;case"img":G.src&&(f.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var te=o.alternate;if(te!==null){var pe=te.memoizedState;if(pe!==null){var xe=pe.dehydrated;xe!==null&&or(xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}dr||o.flags&512&&_m(o)}catch(fe){un(o,o.return,fe)}}if(o===i){De=null;break}if(f=o.sibling,f!==null){f.return=o.return,De=f;break}De=o.return}}function T1(i){for(;De!==null;){var o=De;if(o===i){De=null;break}var f=o.sibling;if(f!==null){f.return=o.return,De=f;break}De=o.return}}function b1(i){for(;De!==null;){var o=De;try{switch(o.tag){case 0:case 11:case 15:var f=o.return;try{Sh(4,o)}catch(G){un(o,f,G)}break;case 1:var m=o.stateNode;if(typeof m.componentDidMount=="function"){var x=o.return;try{m.componentDidMount()}catch(G){un(o,x,G)}}var C=o.return;try{_m(o)}catch(G){un(o,C,G)}break;case 5:var A=o.return;try{_m(o)}catch(G){un(o,A,G)}}}catch(G){un(o,o.return,G)}if(o===i){De=null;break}var j=o.sibling;if(j!==null){j.return=o.return,De=j;break}De=o.return}}var Y4=Math.ceil,_h=D.ReactCurrentDispatcher,Pm=D.ReactCurrentOwner,ui=D.ReactCurrentBatchConfig,xt=0,Vn=null,Pn=null,nr=0,Vr=0,ku=Ci(0),In=0,gd=null,il=0,Ch=0,Tm=0,yd=null,Or=null,bm=0,Ru=1/0,Zs=null,Eh=!1,km=null,Jo=null,Ph=!1,ea=null,Th=0,vd=0,Rm=null,bh=-1,kh=0;function Pr(){return(xt&6)!==0?Kt():bh!==-1?bh:bh=Kt()}function ta(i){return(i.mode&1)===0?1:(xt&2)!==0&&nr!==0?nr&-nr:id.transition!==null?(kh===0&&(kh=Rc()),kh):(i=yt,i!==0||(i=window.event,i=i===void 0?16:Uf(i.type)),i)}function Ai(i,o,f,m){if(50<vd)throw vd=0,Rm=null,Error(t(185));Ma(i,f,m),((xt&2)===0||i!==Vn)&&(i===Vn&&((xt&2)===0&&(Ch|=f),In===4&&na(i,nr)),Lr(i,m),f===1&&xt===0&&(o.mode&1)===0&&(Ru=Kt()+500,Lo&&rs()))}function Lr(i,o){var f=i.callbackNode;jf(i,o);var m=Ts(i,i===Vn?nr:0);if(m===0)f!==null&&Lf(f),i.callbackNode=null,i.callbackPriority=0;else if(o=m&-m,i.callbackPriority!==o){if(f!=null&&Lf(f),o===1)i.tag===0?Ei(R1.bind(null,i)):Xa(R1.bind(null,i)),rh(function(){(xt&6)===0&&rs()}),f=null;else{switch(Ia(m)){case 1:f=Ps;break;case 4:f=Il;break;case 16:f=yo;break;case 536870912:f=Ol;break;default:f=yo}f=j1(f,k1.bind(null,i))}i.callbackPriority=o,i.callbackNode=f}}function k1(i,o){if(bh=-1,kh=0,(xt&6)!==0)throw Error(t(327));var f=i.callbackNode;if(Nu()&&i.callbackNode!==f)return null;var m=Ts(i,i===Vn?nr:0);if(m===0)return null;if((m&30)!==0||(m&i.expiredLanes)!==0||o)o=Rh(i,m);else{o=m;var x=xt;xt|=2;var C=A1();(Vn!==i||nr!==o)&&(Zs=null,Ru=Kt()+500,ol(i,o));do try{J4();break}catch(j){N1(i,j)}while(!0);hu(),_h.current=C,xt=x,Pn!==null?o=0:(Vn=null,nr=0,o=In)}if(o!==0){if(o===2&&(x=vo(i),x!==0&&(m=x,o=Nm(i,x))),o===1)throw f=gd,ol(i,0),na(i,m),Lr(i,Kt()),f;if(o===6)na(i,m);else{if(x=i.current.alternate,(m&30)===0&&!K4(x)&&(o=Rh(i,m),o===2&&(C=vo(i),C!==0&&(m=C,o=Nm(i,C))),o===1))throw f=gd,ol(i,0),na(i,m),Lr(i,Kt()),f;switch(i.finishedWork=x,i.finishedLanes=m,o){case 0:case 1:throw Error(t(345));case 2:al(i,Or,Zs);break;case 3:if(na(i,m),(m&130023424)===m&&(o=bm+500-Kt(),10<o)){if(Ts(i,0)!==0)break;if(x=i.suspendedLanes,(x&m)!==m){Pr(),i.pingedLanes|=i.suspendedLanes&x;break}i.timeoutHandle=vr(al.bind(null,i,Or,Zs),o);break}al(i,Or,Zs);break;case 4:if(na(i,m),(m&4194240)===m)break;for(o=i.eventTimes,x=-1;0<m;){var A=31-ct(m);C=1<<A,A=o[A],A>x&&(x=A),m&=~C}if(m=x,m=Kt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*Y4(m/1960))-m,10<m){i.timeoutHandle=vr(al.bind(null,i,Or,Zs),m);break}al(i,Or,Zs);break;case 5:al(i,Or,Zs);break;default:throw Error(t(329))}}}return Lr(i,Kt()),i.callbackNode===f?k1.bind(null,i):null}function Nm(i,o){var f=yd;return i.current.memoizedState.isDehydrated&&(ol(i,o).flags|=256),i=Rh(i,o),i!==2&&(o=Or,Or=f,o!==null&&Am(o)),i}function Am(i){Or===null?Or=i:Or.push.apply(Or,i)}function K4(i){for(var o=i;;){if(o.flags&16384){var f=o.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var m=0;m<f.length;m++){var x=f[m],C=x.getSnapshot;x=x.value;try{if(!lr(C(),x))return!1}catch{return!1}}}if(f=o.child,o.subtreeFlags&16384&&f!==null)f.return=o,o=f;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function na(i,o){for(o&=~Tm,o&=~Ch,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var f=31-ct(o),m=1<<f;i[f]=-1,o&=~m}}function R1(i){if((xt&6)!==0)throw Error(t(327));Nu();var o=Ts(i,0);if((o&1)===0)return Lr(i,Kt()),null;var f=Rh(i,o);if(i.tag!==0&&f===2){var m=vo(i);m!==0&&(o=m,f=Nm(i,m))}if(f===1)throw f=gd,ol(i,0),na(i,o),Lr(i,Kt()),f;if(f===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,al(i,Or,Zs),Lr(i,Kt()),null}function Mm(i,o){var f=xt;xt|=1;try{return i(o)}finally{xt=f,xt===0&&(Ru=Kt()+500,Lo&&rs())}}function sl(i){ea!==null&&ea.tag===0&&(xt&6)===0&&Nu();var o=xt;xt|=1;var f=ui.transition,m=yt;try{if(ui.transition=null,yt=1,i)return i()}finally{yt=m,ui.transition=f,xt=o,(xt&6)===0&&rs()}}function Im(){Vr=ku.current,Nt(ku)}function ol(i,o){i.finishedWork=null,i.finishedLanes=0;var f=i.timeoutHandle;if(f!==-1&&(i.timeoutHandle=-1,ed(f)),Pn!==null)for(f=Pn.return;f!==null;){var m=f;switch(En(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Oo();break;case 3:Ht(),Nt(Fn),Nt(An),Bn();break;case 5:Ti(m);break;case 4:Ht();break;case 13:Nt(At);break;case 19:Nt(At);break;case 10:pu(m.type._context);break;case 22:case 23:Im()}f=f.return}if(Vn=i,Pn=i=ra(i.current,null),nr=Vr=o,In=0,gd=null,Tm=Ch=il=0,Or=yd=null,ii!==null){for(o=0;o<ii.length;o++)if(f=ii[o],m=f.interleaved,m!==null){f.interleaved=null;var x=m.next,C=f.pending;if(C!==null){var A=C.next;C.next=x,m.next=A}f.pending=m}ii=null}return i}function N1(i,o){do{var f=Pn;try{if(hu(),Ho.current=$o,Hr){for(var m=Tt.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}Hr=!1}if(Jn=0,an=Yt=Tt=null,ls=!1,Ir=0,Pm.current=null,f===null||f.return===null){In=1,gd=o,Pn=null;break}e:{var C=i,A=f.return,j=f,G=o;if(o=nr,j.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var te=G,pe=j,xe=pe.tag;if((pe.mode&1)===0&&(xe===0||xe===11||xe===15)){var fe=pe.alternate;fe?(pe.updateQueue=fe.updateQueue,pe.memoizedState=fe.memoizedState,pe.lanes=fe.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var Ie=p(A);if(Ie!==null){Ie.flags&=-257,v(Ie,A,j,C,o),Ie.mode&1&&u(C,te,o),o=Ie,G=te;var je=o.updateQueue;if(je===null){var Fe=new Set;Fe.add(G),o.updateQueue=Fe}else je.add(G);break e}else{if((o&1)===0){u(C,te,o),Om();break e}G=Error(t(426))}}else if(Ct&&j.mode&1){var yn=p(A);if(yn!==null){(yn.flags&65536)===0&&(yn.flags|=256),v(yn,A,j,C,o),Ka(Ks(G,j));break e}}C=G=Ks(G,j),In!==4&&(In=2),yd===null?yd=[C]:yd.push(C),C=A;do{switch(C.tag){case 3:C.flags|=65536,o&=-o,C.lanes|=o;var Y=xh(C,G,o);tl(C,Y);break e;case 1:j=G;var V=C.type,J=C.stateNode;if((C.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Jo===null||!Jo.has(J)))){C.flags|=65536,o&=-o,C.lanes|=o;var _e=a(C,j,o);tl(C,_e);break e}}C=C.return}while(C!==null)}I1(f)}catch(ze){o=ze,Pn===f&&f!==null&&(Pn=f=f.return);continue}break}while(!0)}function A1(){var i=_h.current;return _h.current=$o,i===null?$o:i}function Om(){(In===0||In===3||In===2)&&(In=4),Vn===null||(il&268435455)===0&&(Ch&268435455)===0||na(Vn,nr)}function Rh(i,o){var f=xt;xt|=2;var m=A1();(Vn!==i||nr!==o)&&(Zs=null,ol(i,o));do try{Z4();break}catch(x){N1(i,x)}while(!0);if(hu(),xt=f,_h.current=m,Pn!==null)throw Error(t(261));return Vn=null,nr=0,In}function Z4(){for(;Pn!==null;)M1(Pn)}function J4(){for(;Pn!==null&&!lm();)M1(Pn)}function M1(i){var o=D1(i.alternate,i,Vr);i.memoizedProps=i.pendingProps,o===null?I1(i):Pn=o,Pm.current=null}function I1(i){var o=i;do{var f=o.alternate;if(i=o.return,(o.flags&32768)===0){if(f=W4(f,o,Vr),f!==null){Pn=f;return}}else{if(f=Q4(f,o),f!==null){f.flags&=32767,Pn=f;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{In=6,Pn=null;return}}if(o=o.sibling,o!==null){Pn=o;return}Pn=o=i}while(o!==null);In===0&&(In=5)}function al(i,o,f){var m=yt,x=ui.transition;try{ui.transition=null,yt=1,eS(i,o,f,m)}finally{ui.transition=x,yt=m}return null}function eS(i,o,f,m){do Nu();while(ea!==null);if((xt&6)!==0)throw Error(t(327));f=i.finishedWork;var x=i.finishedLanes;if(f===null)return null;if(i.finishedWork=null,i.finishedLanes=0,f===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var C=f.lanes|f.childLanes;if(dm(i,C),i===Vn&&(Pn=Vn=null,nr=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Ph||(Ph=!0,j1(yo,function(){return Nu(),null})),C=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||C){C=ui.transition,ui.transition=null;var A=yt;yt=1;var j=xt;xt|=4,Pm.current=null,$4(i,f),C1(f,i),Ga(Zc),Bl=!!Kc,Zc=Kc=null,i.current=f,X4(f),um(),xt=j,yt=A,ui.transition=C}else i.current=f;if(Ph&&(Ph=!1,ea=i,Th=x),C=i.pendingLanes,C===0&&(Jo=null),Ot(f.stateNode),Lr(i,Kt()),o!==null)for(m=i.onRecoverableError,f=0;f<o.length;f++)x=o[f],m(x.value,{componentStack:x.stack,digest:x.digest});if(Eh)throw Eh=!1,i=km,km=null,i;return(Th&1)!==0&&i.tag!==0&&Nu(),C=i.pendingLanes,(C&1)!==0?i===Rm?vd++:(vd=0,Rm=i):vd=0,rs(),null}function Nu(){if(ea!==null){var i=Ia(Th),o=ui.transition,f=yt;try{if(ui.transition=null,yt=16>i?16:i,ea===null)var m=!1;else{if(i=ea,ea=null,Th=0,(xt&6)!==0)throw Error(t(331));var x=xt;for(xt|=4,De=i.current;De!==null;){var C=De,A=C.child;if((De.flags&16)!==0){var j=C.deletions;if(j!==null){for(var G=0;G<j.length;G++){var te=j[G];for(De=te;De!==null;){var pe=De;switch(pe.tag){case 0:case 11:case 15:md(8,pe,C)}var xe=pe.child;if(xe!==null)xe.return=pe,De=xe;else for(;De!==null;){pe=De;var fe=pe.sibling,Ie=pe.return;if(v1(pe),pe===te){De=null;break}if(fe!==null){fe.return=Ie,De=fe;break}De=Ie}}}var je=C.alternate;if(je!==null){var Fe=je.child;if(Fe!==null){je.child=null;do{var yn=Fe.sibling;Fe.sibling=null,Fe=yn}while(Fe!==null)}}De=C}}if((C.subtreeFlags&2064)!==0&&A!==null)A.return=C,De=A;else e:for(;De!==null;){if(C=De,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:md(9,C,C.return)}var Y=C.sibling;if(Y!==null){Y.return=C.return,De=Y;break e}De=C.return}}var V=i.current;for(De=V;De!==null;){A=De;var J=A.child;if((A.subtreeFlags&2064)!==0&&J!==null)J.return=A,De=J;else e:for(A=V;De!==null;){if(j=De,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:Sh(9,j)}}catch(ze){un(j,j.return,ze)}if(j===A){De=null;break e}var _e=j.sibling;if(_e!==null){_e.return=j.return,De=_e;break e}De=j.return}}if(xt=x,rs(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(gi,i)}catch{}m=!0}return m}finally{yt=f,ui.transition=o}}return!1}function O1(i,o,f){o=Ks(f,o),o=xh(i,o,1),i=ai(i,o,1),o=Pr(),i!==null&&(Ma(i,1,o),Lr(i,o))}function un(i,o,f){if(i.tag===3)O1(i,i,f);else for(;o!==null;){if(o.tag===3){O1(o,i,f);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Jo===null||!Jo.has(m))){i=Ks(f,i),i=a(o,i,1),o=ai(o,i,1),i=Pr(),o!==null&&(Ma(o,1,i),Lr(o,i));break}}o=o.return}}function tS(i,o,f){var m=i.pingCache;m!==null&&m.delete(o),o=Pr(),i.pingedLanes|=i.suspendedLanes&f,Vn===i&&(nr&f)===f&&(In===4||In===3&&(nr&130023424)===nr&&500>Kt()-bm?ol(i,0):Tm|=f),Lr(i,o)}function L1(i,o){o===0&&((i.mode&1)===0?o=1:(o=yi,yi<<=1,(yi&130023424)===0&&(yi=4194304)));var f=Pr();i=Cr(i,o),i!==null&&(Ma(i,o,f),Lr(i,f))}function nS(i){var o=i.memoizedState,f=0;o!==null&&(f=o.retryLane),L1(i,f)}function rS(i,o){var f=0;switch(i.tag){case 13:var m=i.stateNode,x=i.memoizedState;x!==null&&(f=x.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(o),L1(i,f)}var D1;D1=function(i,o,f){if(i!==null)if(i.memoizedProps!==o.pendingProps||Fn.current)T=!0;else{if((i.lanes&f)===0&&(o.flags&128)===0)return T=!1,xm(i,o,f);T=(i.flags&131072)!==0}else T=!1,Ct&&(o.flags&1048576)!==0&&lh(o,ss,o.index);switch(o.lanes=0,o.tag){case 2:var m=o.type;ht(i,o),i=o.pendingProps;var x=Us(o,An.current);Pi(o,f),x=Vo(null,o,m,i,x,f);var C=Wo();return o.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,zn(m)?(C=!0,Hs(o)):C=!1,o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,el(o),x.updater=Yo,o.stateNode=x,x._reactInternals=o,Pu(o,m,i,f),o=Et(null,o,m,!0,C,f)):(o.tag=0,Ct&&C&&Do(o),O(null,o,x,f),o=o.child),o;case 16:m=o.elementType;e:{switch(ht(i,o),i=o.pendingProps,x=m._init,m=x(m._payload),o.type=m,x=o.tag=sS(m),i=Mn(m,i),x){case 0:o=ke(null,o,m,i,f);break e;case 1:o=Mt(null,o,m,i,f);break e;case 11:o=W(null,o,m,i,f);break e;case 14:o=ne(null,o,m,Mn(m.type,i),f);break e}throw Error(t(306,m,""))}return o;case 0:return m=o.type,x=o.pendingProps,x=o.elementType===m?x:Mn(m,x),ke(i,o,m,x,f);case 1:return m=o.type,x=o.pendingProps,x=o.elementType===m?x:Mn(m,x),Mt(i,o,m,x,f);case 3:e:{if(er(o),i===null)throw Error(t(387));m=o.pendingProps,C=o.memoizedState,x=C.element,gu(i,o),Bo(o,m,null,f);var A=o.memoizedState;if(m=A.element,C.isDehydrated)if(C={element:m,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},o.updateQueue.baseState=C,o.memoizedState=C,o.flags&256){x=Ks(Error(t(423)),o),o=li(i,o,m,f,x);break e}else if(m!==x){x=Ks(Error(t(424)),o),o=li(i,o,m,f,x);break e}else for(Te=ei(o.stateNode.containerInfo.firstChild),wr=o,Ct=!0,Sr=null,f=Mr(o,null,m,f),o.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(qs(),m===x){o=Hn(i,o,f);break e}O(i,o,m,f)}o=o.child}return o;case 5:return Go(o),i===null&&jo(o),m=o.type,x=o.pendingProps,C=i!==null?i.memoizedProps:null,A=x.children,Jc(m,x)?A=null:C!==null&&Jc(m,C)&&(o.flags|=32),Je(i,o),O(i,o,A,f),o.child;case 6:return i===null&&jo(o),null;case 13:return oe(i,o,f);case 4:return as(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=$s(o,null,m,f):O(i,o,m,f),o.child;case 11:return m=o.type,x=o.pendingProps,x=o.elementType===m?x:Mn(m,x),W(i,o,m,x,f);case 7:return O(i,o,o.pendingProps,f),o.child;case 8:return O(i,o,o.pendingProps.children,f),o.child;case 12:return O(i,o,o.pendingProps.children,f),o.child;case 10:e:{if(m=o.type._context,x=o.pendingProps,C=o.memoizedProps,A=x.value,bt(Za,m._currentValue),m._currentValue=A,C!==null)if(lr(C.value,A)){if(C.children===x.children&&!Fn.current){o=Hn(i,o,f);break e}}else for(C=o.child,C!==null&&(C.return=o);C!==null;){var j=C.dependencies;if(j!==null){A=C.child;for(var G=j.firstContext;G!==null;){if(G.context===m){if(C.tag===1){G=oi(-1,f&-f),G.tag=2;var te=C.updateQueue;if(te!==null){te=te.shared;var pe=te.pending;pe===null?G.next=G:(G.next=pe.next,pe.next=G),te.pending=G}}C.lanes|=f,G=C.alternate,G!==null&&(G.lanes|=f),mu(C.return,f,o),j.lanes|=f;break}G=G.next}}else if(C.tag===10)A=C.type===o.type?null:C.child;else if(C.tag===18){if(A=C.return,A===null)throw Error(t(341));A.lanes|=f,j=A.alternate,j!==null&&(j.lanes|=f),mu(A,f,o),A=C.sibling}else A=C.child;if(A!==null)A.return=C;else for(A=C;A!==null;){if(A===o){A=null;break}if(C=A.sibling,C!==null){C.return=A.return,A=C;break}A=A.return}C=A}O(i,o,x.children,f),o=o.child}return o;case 9:return x=o.type,m=o.pendingProps.children,Pi(o,f),x=Zn(x),m=m(x),o.flags|=1,O(i,o,m,f),o.child;case 14:return m=o.type,x=Mn(m,o.pendingProps),x=Mn(m.type,x),ne(i,o,m,x,f);case 15:return Se(i,o,o.type,o.pendingProps,f);case 17:return m=o.type,x=o.pendingProps,x=o.elementType===m?x:Mn(m,x),ht(i,o),o.tag=1,zn(m)?(i=!0,Hs(o)):i=!1,Pi(o,f),vh(o,m,x),Pu(o,m,x,f),Et(null,o,m,!0,i,f);case 19:return gn(i,o,f);case 22:return Le(i,o,f)}throw Error(t(156,o.tag))};function j1(i,o){return Of(i,o)}function iS(i,o,f,m){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ci(i,o,f,m){return new iS(i,o,f,m)}function Lm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function sS(i){if(typeof i=="function")return Lm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===ae)return 11;if(i===de)return 14}return 2}function ra(i,o){var f=i.alternate;return f===null?(f=ci(i.tag,o,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=o,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&14680064,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,o=i.dependencies,f.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f}function Nh(i,o,f,m,x,C){var A=2;if(m=i,typeof i=="function")Lm(i)&&(A=1);else if(typeof i=="string")A=5;else e:switch(i){case H:return ll(f.children,x,C,o);case K:A=8,x|=8;break;case re:return i=ci(12,f,o,x|2),i.elementType=re,i.lanes=C,i;case ye:return i=ci(13,f,o,x),i.elementType=ye,i.lanes=C,i;case se:return i=ci(19,f,o,x),i.elementType=se,i.lanes=C,i;case me:return Ah(f,x,C,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ue:A=10;break e;case ve:A=9;break e;case ae:A=11;break e;case de:A=14;break e;case ie:A=16,m=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=ci(A,f,o,x),o.elementType=i,o.type=m,o.lanes=C,o}function ll(i,o,f,m){return i=ci(7,i,m,o),i.lanes=f,i}function Ah(i,o,f,m){return i=ci(22,i,m,o),i.elementType=me,i.lanes=f,i.stateNode={isHidden:!1},i}function Dm(i,o,f){return i=ci(6,i,null,o),i.lanes=f,i}function jm(i,o,f){return o=ci(4,i.children!==null?i.children:[],i.key,o),o.lanes=f,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function oS(i,o,f,m,x){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hr(0),this.expirationTimes=hr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hr(0),this.identifierPrefix=m,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Fm(i,o,f,m,x,C,A,j,G){return i=new oS(i,o,f,j,G),o===1?(o=1,C===!0&&(o|=8)):o=0,C=ci(3,null,null,o),i.current=C,C.stateNode=i,C.memoizedState={element:m,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},el(C),i}function aS(i,o,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:m==null?null:""+m,children:i,containerInfo:o,implementation:f}}function F1(i){if(!i)return ni;i=i._reactInternals;e:{if(Es(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(zn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var f=i.type;if(zn(f))return lu(i,f,o)}return o}function z1(i,o,f,m,x,C,A,j,G){return i=Fm(f,m,!0,i,x,C,A,j,G),i.context=F1(null),f=i.current,m=Pr(),x=ta(f),C=oi(m,x),C.callback=o??null,ai(f,C,x),i.current.lanes=x,Ma(i,x,m),Lr(i,m),i}function Mh(i,o,f,m){var x=o.current,C=Pr(),A=ta(x);return f=F1(f),o.context===null?o.context=f:o.pendingContext=f,o=oi(C,A),o.payload={element:i},m=m===void 0?null:m,m!==null&&(o.callback=m),i=ai(x,o,A),i!==null&&(Ai(i,x,A,C),yu(i,x,A)),A}function Ih(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function B1(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<o?f:o}}function zm(i,o){B1(i,o),(i=i.alternate)&&B1(i,o)}function lS(){return null}var G1=typeof reportError=="function"?reportError:function(i){console.error(i)};function Bm(i){this._internalRoot=i}Oh.prototype.render=Bm.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Mh(i,o,null,null)},Oh.prototype.unmount=Bm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;sl(function(){Mh(null,i,null,null)}),o[ti]=null}};function Oh(i){this._internalRoot=i}Oh.prototype.unstable_scheduleHydration=function(i){if(i){var o=zf();i={blockedOn:null,target:i,priority:o};for(var f=0;f<Jr.length&&o!==0&&o<Jr[f].priority;f++);Jr.splice(f,0,i),f===0&&jl(i)}};function Gm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Lh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function U1(){}function uS(i,o,f,m,x){if(x){if(typeof m=="function"){var C=m;m=function(){var te=Ih(A);C.call(te)}}var A=z1(o,m,i,0,null,!1,!1,"",U1);return i._reactRootContainer=A,i[ti]=A.current,js(i.nodeType===8?i.parentNode:i),sl(),A}for(;x=i.lastChild;)i.removeChild(x);if(typeof m=="function"){var j=m;m=function(){var te=Ih(G);j.call(te)}}var G=Fm(i,0,!1,null,null,!1,!1,"",U1);return i._reactRootContainer=G,i[ti]=G.current,js(i.nodeType===8?i.parentNode:i),sl(function(){Mh(o,G,f,m)}),G}function Dh(i,o,f,m,x){var C=f._reactRootContainer;if(C){var A=C;if(typeof x=="function"){var j=x;x=function(){var G=Ih(A);j.call(G)}}Mh(o,A,i,x)}else A=uS(f,o,i,x,m);return Ih(A)}xo=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var f=wn(o.pendingLanes);f!==0&&(Nc(o,f|1),Lr(o,Kt()),(xt&6)===0&&(Ru=Kt()+500,rs()))}break;case 13:sl(function(){var m=Cr(i,1);if(m!==null){var x=Pr();Ai(m,i,1,x)}}),zm(i,1)}},wo=function(i){if(i.tag===13){var o=Cr(i,134217728);if(o!==null){var f=Pr();Ai(o,i,134217728,f)}zm(i,134217728)}},Ff=function(i){if(i.tag===13){var o=ta(i),f=Cr(i,o);if(f!==null){var m=Pr();Ai(f,i,o,m)}zm(i,o)}},zf=function(){return yt},Ll=function(i,o){var f=yt;try{return yt=i,o()}finally{yt=f}},Cc=function(i,o,f){switch(o){case"input":if(_s(i,f),o=f.name,f.type==="radio"&&o!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<f.length;o++){var m=f[o];if(m!==i&&m.form===i.form){var x=Cn(m);if(!x)throw Error(t(90));He(m),_s(m,x)}}}break;case"textarea":ho(i,f);break;case"select":o=f.value,o!=null&&fo(i,!!f.multiple,o,!1)}},kf=Mm,Rl=sl;var cS={usingClientEntryPoint:!1,Events:[$a,hn,Cn,Ec,Pc,Mm]},xd={findFiberByHostInstance:ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dS={bundleType:xd.bundleType,version:xd.version,rendererPackageName:xd.rendererPackageName,rendererConfig:xd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Mf(i),i===null?null:i.stateNode},findFiberByHostInstance:xd.findFiberByHostInstance||lS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jh.isDisabled&&jh.supportsFiber)try{gi=jh.inject(dS),bn=jh}catch{}}return Dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cS,Dr.createPortal=function(i,o){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gm(o))throw Error(t(200));return aS(i,o,null,f)},Dr.createRoot=function(i,o){if(!Gm(i))throw Error(t(299));var f=!1,m="",x=G1;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(x=o.onRecoverableError)),o=Fm(i,1,!1,null,null,f,!1,m,x),i[ti]=o.current,js(i.nodeType===8?i.parentNode:i),new Bm(o)},Dr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Mf(o),i=i===null?null:i.stateNode,i},Dr.flushSync=function(i){return sl(i)},Dr.hydrate=function(i,o,f){if(!Lh(o))throw Error(t(200));return Dh(null,i,o,!0,f)},Dr.hydrateRoot=function(i,o,f){if(!Gm(i))throw Error(t(405));var m=f!=null&&f.hydratedSources||null,x=!1,C="",A=G1;if(f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(C=f.identifierPrefix),f.onRecoverableError!==void 0&&(A=f.onRecoverableError)),o=z1(o,null,i,1,f??null,x,!1,C,A),i[ti]=o.current,js(i),m)for(i=0;i<m.length;i++)f=m[i],x=f._getVersion,x=x(f._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[f,x]:o.mutableSourceEagerHydrationData.push(f,x);return new Oh(o)},Dr.render=function(i,o,f){if(!Lh(o))throw Error(t(200));return Dh(null,i,o,!1,f)},Dr.unmountComponentAtNode=function(i){if(!Lh(i))throw Error(t(40));return i._reactRootContainer?(sl(function(){Dh(null,null,i,!1,function(){i._reactRootContainer=null,i[ti]=null})}),!0):!1},Dr.unstable_batchedUpdates=Mm,Dr.unstable_renderSubtreeIntoContainer=function(i,o,f,m){if(!Lh(f))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Dh(i,o,f,!1,m)},Dr.version="18.3.1-next-f1338f8080-20240426",Dr}var Y1;function Xv(){if(Y1)return Vm.exports;Y1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vm.exports=vS(),Vm.exports}var K1;function xS(){if(K1)return Fh;K1=1;var n=Xv();return Fh.createRoot=n.createRoot,Fh.hydrateRoot=n.hydrateRoot,Fh}var wS=xS();function SS(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,r,s,l,c=[],d="",h=n.split("/");for(h[0]||h.shift();s=h.shift();)t=s[0],t==="*"?(c.push(t),d+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):t===":"?(r=s.indexOf("?",1),l=s.indexOf(".",1),c.push(s.substring(1,~r?r:~l?l:s.length)),d+=~r&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(d+=(~r?"?":"")+"\\"+s.substring(l))):d+="/"+s;return{keys:c,pattern:new RegExp("^"+d+(e?"(?=$|/)":"/?$"),"i")}}var b=uc();const nn=Mp(b),Yv=hS({__proto__:null,default:nn},[b]);var qm={exports:{}},$m={};var Z1;function _S(){if(Z1)return $m;Z1=1;var n=uc();function e(w,_){return w===_&&(w!==0||1/w===1/_)||w!==w&&_!==_}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,s=n.useEffect,l=n.useLayoutEffect,c=n.useDebugValue;function d(w,_){var k=_(),R=r({inst:{value:k,getSnapshot:_}}),P=R[0].inst,N=R[1];return l(function(){P.value=k,P.getSnapshot=_,h(P)&&N({inst:P})},[w,k,_]),s(function(){return h(P)&&N({inst:P}),w(function(){h(P)&&N({inst:P})})},[w]),c(k),k}function h(w){var _=w.getSnapshot;w=w.value;try{var k=_();return!t(w,k)}catch{return!0}}function g(w,_){return _()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:d;return $m.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:y,$m}var J1;function CS(){return J1||(J1=1,qm.exports=_S()),qm.exports}var ES=CS();const PS=Yv.useInsertionEffect,TS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bS=TS?b.useLayoutEffect:b.useEffect,kS=PS||bS,Kv=n=>{const e=b.useRef([n,(...t)=>e[0](...t)]).current;return kS(()=>{e[0]=n}),e[1]},RS="popstate",y0="pushState",v0="replaceState",NS="hashchange",ey=[RS,y0,v0,NS],AS=n=>{for(const e of ey)addEventListener(e,n);return()=>{for(const e of ey)removeEventListener(e,n)}},Zv=(n,e)=>ES.useSyncExternalStore(AS,n,e),MS=()=>location.search,IS=({ssrSearch:n=""}={})=>Zv(MS,()=>n),ty=()=>location.pathname,OS=({ssrPath:n}={})=>Zv(ty,n?()=>n:ty),LS=(n,{replace:e=!1,state:t=null}={})=>history[e?v0:y0](t,"",n),DS=(n={})=>[OS(n),LS],ny=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[ny]>"u"){for(const n of[y0,v0]){const e=history[n];history[n]=function(){const t=e.apply(this,arguments),r=new Event(n);return r.arguments=arguments,dispatchEvent(r),t}}Object.defineProperty(window,ny,{value:!0})}const jS=(n,e)=>e.toLowerCase().indexOf(n.toLowerCase())?"~"+e:e.slice(n.length)||"/",Jv=(n="")=>n==="/"?"":n,FS=(n,e)=>n[0]==="~"?n.slice(1):Jv(e)+n,zS=(n="",e)=>jS(ry(Jv(n)),ry(e)),ry=n=>{try{return decodeURI(n)}catch{return n}},e2={hook:DS,searchHook:IS,parser:SS,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:n=>n},t2=b.createContext(e2),Ip=()=>b.useContext(t2),n2={},r2=b.createContext(n2),BS=()=>b.useContext(r2),x0=n=>{const[e,t]=n.hook(n);return[zS(n.base,e),Kv((r,s)=>t(FS(r,n.base),s))]},i2=(n,e,t,r)=>{const{pattern:s,keys:l}=e instanceof RegExp?{keys:!1,pattern:e}:n(e||"*",r),c=s.exec(t)||[],[d,...h]=c;return d!==void 0?[!0,(()=>{const g=l!==!1?Object.fromEntries(l.map((w,_)=>[w,h[_]])):c.groups;let y={...h};return g&&Object.assign(y,g),y})(),...r?[d]:[]]:[!1,null]},GS=({children:n,...e})=>{const t=Ip(),r=e.hook?e2:t;let s=r;const[l,c]=e.ssrPath?.split("?")??[];c&&(e.ssrSearch=c,e.ssrPath=l),e.hrefs=e.hrefs??e.hook?.hrefs;let d=b.useRef({}),h=d.current,g=h;for(let y in r){const w=y==="base"?r[y]+(e[y]||""):e[y]||r[y];h===g&&w!==g[y]&&(d.current=g={...g}),g[y]=w,w!==r[y]&&(s=g)}return b.createElement(t2.Provider,{value:s,children:n})},iy=({children:n,component:e},t)=>e?b.createElement(e,{params:t}):typeof n=="function"?n(t):n,US=n=>{let e=b.useRef(n2),t=e.current;for(const r in n)n[r]!==t[r]&&(t=n);return Object.keys(n).length===0&&(t=n),e.current=t},sy=({path:n,nest:e,match:t,...r})=>{const s=Ip(),[l]=x0(s),[c,d,h]=t??i2(s.parser,n,l,e),g=US({...BS(),...d});if(!c)return null;const y=h?b.createElement(GS,{base:h},iy(r,g)):iy(r,g);return b.createElement(r2.Provider,{value:g,children:y})};b.forwardRef((n,e)=>{const t=Ip(),[r,s]=x0(t),{to:l="",href:c=l,onClick:d,asChild:h,children:g,className:y,replace:w,state:_,...k}=n,R=Kv(N=>{N.ctrlKey||N.metaKey||N.altKey||N.shiftKey||N.button!==0||(d?.(N),N.defaultPrevented||(N.preventDefault(),s(c,n)))}),P=t.hrefs(c[0]==="~"?c.slice(1):t.base+c,t);return h&&b.isValidElement(g)?b.cloneElement(g,{onClick:R,href:P}):b.createElement("a",{...k,onClick:R,href:P,className:y?.call?y(r===c):y,children:g,ref:e})});const s2=n=>Array.isArray(n)?n.flatMap(e=>s2(e&&e.type===b.Fragment?e.props.children:e)):[n],HS=({children:n,location:e})=>{const t=Ip(),[r]=x0(t);for(const s of s2(n)){let l=0;if(b.isValidElement(s)&&(l=i2(t.parser,s.props.path,e||r,s.props.nest))[0])return b.cloneElement(s,{match:l})}return null};var cc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hl=typeof window>"u"||"Deno"in globalThis;function fi(){}function VS(n,e){return typeof n=="function"?n(e):n}function kg(n){return typeof n=="number"&&n>=0&&n!==1/0}function o2(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Gu(n,e){return typeof n=="function"?n(e):n}function Oi(n,e){return typeof n=="function"?n(e):n}function oy(n,e){const{type:t="all",exact:r,fetchStatus:s,predicate:l,queryKey:c,stale:d}=n;if(c){if(r){if(e.queryHash!==w0(c,e.options))return!1}else if(!qd(e.queryKey,c))return!1}if(t!=="all"){const h=e.isActive();if(t==="active"&&!h||t==="inactive"&&h)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||s&&s!==e.state.fetchStatus||l&&!l(e))}function ay(n,e){const{exact:t,status:r,predicate:s,mutationKey:l}=n;if(l){if(!e.options.mutationKey)return!1;if(t){if(pl(e.options.mutationKey)!==pl(l))return!1}else if(!qd(e.options.mutationKey,l))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function w0(n,e){return(e?.queryKeyHashFn||pl)(n)}function pl(n){return JSON.stringify(n,(e,t)=>Rg(t)?Object.keys(t).sort().reduce((r,s)=>(r[s]=t[s],r),{}):t)}function qd(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!qd(n[t],e[t])):!1}function a2(n,e){if(n===e)return n;const t=ly(n)&&ly(e);if(t||Rg(n)&&Rg(e)){const r=t?n:Object.keys(n),s=r.length,l=t?e:Object.keys(e),c=l.length,d=t?[]:{};let h=0;for(let g=0;g<c;g++){const y=t?g:l[g];(!t&&r.includes(y)||t)&&n[y]===void 0&&e[y]===void 0?(d[y]=void 0,h++):(d[y]=a2(n[y],e[y]),d[y]===n[y]&&n[y]!==void 0&&h++)}return s===c&&h===s?n:d}return e}function dp(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function ly(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Rg(n){if(!uy(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!uy(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function uy(n){return Object.prototype.toString.call(n)==="[object Object]"}function WS(n){return new Promise(e=>{setTimeout(e,n)})}function Ng(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?a2(n,e):e}function QS(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function qS(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var S0=Symbol();function l2(n,e){return!n.queryFn&&e?.initialPromise?()=>e.initialPromise:!n.queryFn||n.queryFn===S0?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var $S=class extends cc{#e;#t;#r;constructor(){super(),this.#r=n=>{if(!hl&&window.addEventListener){const e=()=>n();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#r=n,this.#t?.(),this.#t=n(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(n){this.#e!==n&&(this.#e=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(e=>{e(n)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},_0=new $S,XS=class extends cc{#e=!0;#t;#r;constructor(){super(),this.#r=n=>{if(!hl&&window.addEventListener){const e=()=>n(!0),t=()=>n(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#r=n,this.#t?.(),this.#t=n(this.setOnline.bind(this))}setOnline(n){this.#e!==n&&(this.#e=n,this.listeners.forEach(t=>{t(n)}))}isOnline(){return this.#e}},fp=new XS;function Ag(){let n,e;const t=new Promise((s,l)=>{n=s,e=l});t.status="pending",t.catch(()=>{});function r(s){Object.assign(t,s),delete t.resolve,delete t.reject}return t.resolve=s=>{r({status:"fulfilled",value:s}),n(s)},t.reject=s=>{r({status:"rejected",reason:s}),e(s)},t}function YS(n){return Math.min(1e3*2**n,3e4)}function u2(n){return(n??"online")==="online"?fp.isOnline():!0}var c2=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function Xm(n){return n instanceof c2}function d2(n){let e=!1,t=0,r=!1,s;const l=Ag(),c=P=>{r||(_(new c2(P)),n.abort?.())},d=()=>{e=!0},h=()=>{e=!1},g=()=>_0.isFocused()&&(n.networkMode==="always"||fp.isOnline())&&n.canRun(),y=()=>u2(n.networkMode)&&n.canRun(),w=P=>{r||(r=!0,n.onSuccess?.(P),s?.(),l.resolve(P))},_=P=>{r||(r=!0,n.onError?.(P),s?.(),l.reject(P))},k=()=>new Promise(P=>{s=N=>{(r||g())&&P(N)},n.onPause?.()}).then(()=>{s=void 0,r||n.onContinue?.()}),R=()=>{if(r)return;let P;const N=t===0?n.initialPromise:void 0;try{P=N??n.fn()}catch(M){P=Promise.reject(M)}Promise.resolve(P).then(w).catch(M=>{if(r)return;const I=n.retry??(hl?0:3),L=n.retryDelay??YS,D=typeof L=="function"?L(t,M):L,z=I===!0||typeof I=="number"&&t<I||typeof I=="function"&&I(t,M);if(e||!z){_(M);return}t++,n.onFail?.(t,M),WS(D).then(()=>g()?void 0:k()).then(()=>{e?_(M):R()})})};return{promise:l,cancel:c,continue:()=>(s?.(),l),cancelRetry:d,continueRetry:h,canStart:y,start:()=>(y()?R():k().then(R),l)}}function KS(){let n=[],e=0,t=d=>{d()},r=d=>{d()},s=d=>setTimeout(d,0);const l=d=>{e?n.push(d):s(()=>{t(d)})},c=()=>{const d=n;n=[],d.length&&s(()=>{r(()=>{d.forEach(h=>{t(h)})})})};return{batch:d=>{let h;e++;try{h=d()}finally{e--,e||c()}return h},batchCalls:d=>(...h)=>{l(()=>{d(...h)})},schedule:l,setNotifyFunction:d=>{t=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{s=d}}}var On=KS(),f2=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),kg(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(hl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},ZS=class extends f2{#e;#t;#r;#n;#o;#s;constructor(n){super(),this.#s=!1,this.#o=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.#r=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.#e=JS(this.options),this.state=n.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(n){this.options={...this.#o,...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(n,e){const t=Ng(this.state.data,n,this.options);return this.#i({data:t,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),t}setState(n,e){this.#i({type:"setState",state:n,setStateOptions:e})}cancel(n){const e=this.#n?.promise;return this.#n?.cancel(n),e?e.then(fi).catch(fi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(n=>Oi(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===S0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!o2(this.state.dataUpdatedAt,n)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(e=>e!==n),this.observers.length||(this.#n&&(this.#s?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(n,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(n&&this.setOptions(n),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const t=new AbortController,r=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#s=!0,t.signal)})},s=()=>{const d=l2(this.options,e),h={queryKey:this.queryKey,meta:this.meta};return r(h),this.#s=!1,this.options.persister?this.options.persister(d,h,this):d(h)},l={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};r(l),this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#i({type:"fetch",meta:l.fetchOptions?.meta});const c=d=>{Xm(d)&&d.silent||this.#i({type:"error",error:d}),Xm(d)||(this.#r.config.onError?.(d,this),this.#r.config.onSettled?.(this.state.data,d,this)),this.scheduleGc()};return this.#n=d2({initialPromise:e?.initialPromise,fn:l.fetchFn,abort:t.abort.bind(t),onSuccess:d=>{if(d===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(h){c(h);return}this.#r.config.onSuccess?.(d,this),this.#r.config.onSettled?.(d,this.state.error,this),this.scheduleGc()},onError:c,onFail:(d,h)=>{this.#i({type:"failed",failureCount:d,error:h})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}),this.#n.start()}#i(n){const e=t=>{switch(n.type){case"failed":return{...t,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...h2(t.data,this.options),fetchMeta:n.meta??null};case"success":return{...t,data:n.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=n.error;return Xm(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...n.state}}};this.state=e(this.state),On.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:n})})}};function h2(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:u2(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function JS(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var e3=class extends cc{constructor(n={}){super(),this.config=n,this.#e=new Map}#e;build(n,e,t){const r=e.queryKey,s=e.queryHash??w0(r,e);let l=this.get(s);return l||(l=new ZS({cache:this,queryKey:r,queryHash:s,options:n.defaultQueryOptions(e),state:t,defaultOptions:n.getQueryDefaults(r)}),this.add(l)),l}add(n){this.#e.has(n.queryHash)||(this.#e.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#e.get(n.queryHash);e&&(n.destroy(),e===n&&this.#e.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){On.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#e.get(n)}getAll(){return[...this.#e.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(t=>oy(e,t))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(t=>oy(n,t)):e}notify(n){On.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){On.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){On.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},t3=class extends f2{#e;#t;#r;constructor(n){super(),this.mutationId=n.mutationId,this.#t=n.mutationCache,this.#e=[],this.state=n.state||p2(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){this.#e.includes(n)||(this.#e.push(n),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){this.#e=this.#e.filter(e=>e!==n),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(n){this.#r=d2({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(r,s)=>{this.#n({type:"failed",failureCount:r,error:s})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",t=!this.#r.canStart();try{if(!e){this.#n({type:"pending",variables:n,isPaused:t}),await this.#t.config.onMutate?.(n,this);const s=await this.options.onMutate?.(n);s!==this.state.context&&this.#n({type:"pending",context:s,variables:n,isPaused:t})}const r=await this.#r.start();return await this.#t.config.onSuccess?.(r,n,this.state.context,this),await this.options.onSuccess?.(r,n,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,n,this.state.context),this.#n({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,n,this.state.context,this),await this.options.onError?.(r,n,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,n,this.state.context),r}finally{this.#n({type:"error",error:r})}}finally{this.#t.runNext(this)}}#n(n){const e=t=>{switch(n.type){case"failed":return{...t,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...t,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:n.error,failureCount:t.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=e(this.state),On.batch(()=>{this.#e.forEach(t=>{t.onMutationUpdate(n)}),this.#t.notify({mutation:this,type:"updated",action:n})})}};function p2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var n3=class extends cc{constructor(n={}){super(),this.config=n,this.#e=new Map,this.#t=Date.now()}#e;#t;build(n,e,t){const r=new t3({mutationCache:this,mutationId:++this.#t,options:n.defaultMutationOptions(e),state:t});return this.add(r),r}add(n){const e=zh(n),t=this.#e.get(e)??[];t.push(n),this.#e.set(e,t),this.notify({type:"added",mutation:n})}remove(n){const e=zh(n);if(this.#e.has(e)){const t=this.#e.get(e)?.filter(r=>r!==n);t&&(t.length===0?this.#e.delete(e):this.#e.set(e,t))}this.notify({type:"removed",mutation:n})}canRun(n){const e=this.#e.get(zh(n))?.find(t=>t.state.status==="pending");return!e||e===n}runNext(n){return this.#e.get(zh(n))?.find(t=>t!==n&&t.state.isPaused)?.continue()??Promise.resolve()}clear(){On.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}getAll(){return[...this.#e.values()].flat()}find(n){const e={exact:!0,...n};return this.getAll().find(t=>ay(e,t))}findAll(n={}){return this.getAll().filter(e=>ay(n,e))}notify(n){On.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return On.batch(()=>Promise.all(n.map(e=>e.continue().catch(fi))))}};function zh(n){return n.options.scope?.id??String(n.mutationId)}function cy(n){return{onFetch:(e,t)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,l=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},h=0;const g=async()=>{let y=!1;const w=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},_=l2(e.options,e.fetchOptions),k=async(R,P,N)=>{if(y)return Promise.reject();if(P==null&&R.pages.length)return Promise.resolve(R);const M={queryKey:e.queryKey,pageParam:P,direction:N?"backward":"forward",meta:e.options.meta};w(M);const I=await _(M),{maxPages:L}=e.options,D=N?qS:QS;return{pages:D(R.pages,I,L),pageParams:D(R.pageParams,P,L)}};if(s&&l.length){const R=s==="backward",P=R?r3:dy,N={pages:l,pageParams:c},M=P(r,N);d=await k(N,M,R)}else{const R=n??l.length;do{const P=h===0?c[0]??r.initialPageParam:dy(r,d);if(h>0&&P==null)break;d=await k(d,P),h++}while(h<R)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(g,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t):e.fetchFn=g}}}function dy(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function r3(n,{pages:e,pageParams:t}){return e.length>0?n.getPreviousPageParam?.(e[0],e,t[0],t):void 0}var i3=class{#e;#t;#r;#n;#o;#s;#i;#a;constructor(n={}){this.#e=n.queryCache||new e3,this.#t=n.mutationCache||new n3,this.#r=n.defaultOptions||{},this.#n=new Map,this.#o=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#i=_0.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=fp.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#i?.(),this.#i=void 0,this.#a?.(),this.#a=void 0)}isFetching(n){return this.#e.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#t.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.getQueryData(n.queryKey);if(e===void 0)return this.fetchQuery(n);{const t=this.defaultQueryOptions(n),r=this.#e.build(this,t);return n.revalidateIfStale&&r.isStaleByTime(Gu(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(n){return this.#e.findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),l=this.#e.get(r.queryHash)?.state.data,c=VS(e,l);if(c!==void 0)return this.#e.build(this,r).setData(c,{...t,manual:!0})}setQueriesData(n,e,t){return On.batch(()=>this.#e.findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state}removeQueries(n){const e=this.#e;On.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=this.#e,r={type:"active",...n};return On.batch(()=>(t.findAll(n).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(n={},e={}){const t={revert:!0,...e},r=On.batch(()=>this.#e.findAll(n).map(s=>s.cancel(t)));return Promise.all(r).then(fi).catch(fi)}invalidateQueries(n={},e={}){return On.batch(()=>{if(this.#e.findAll(n).forEach(r=>{r.invalidate()}),n.refetchType==="none")return Promise.resolve();const t={...n,type:n.refetchType??n.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(n={},e){const t={...e,cancelRefetch:e?.cancelRefetch??!0},r=On.batch(()=>this.#e.findAll(n).filter(s=>!s.isDisabled()).map(s=>{let l=s.fetch(void 0,t);return t.throwOnError||(l=l.catch(fi)),s.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(r).then(fi)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=this.#e.build(this,e);return t.isStaleByTime(Gu(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(fi).catch(fi)}fetchInfiniteQuery(n){return n.behavior=cy(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(fi).catch(fi)}ensureInfiniteQueryData(n){return n.behavior=cy(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return fp.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(n){this.#r=n}setQueryDefaults(n,e){this.#n.set(pl(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#n.values()];let t={};return e.forEach(r=>{qd(n,r.queryKey)&&(t={...t,...r.defaultOptions})}),t}setMutationDefaults(n,e){this.#o.set(pl(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#o.values()];let t={};return e.forEach(r=>{qd(n,r.mutationKey)&&(t={...t,...r.defaultOptions})}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#r.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=w0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===S0&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#r.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},s3=class extends cc{constructor(n,e){super(),this.options=e,this.#e=n,this.#a=null,this.#i=Ag(),this.options.experimental_prefetchInRender||this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#r=void 0;#n=void 0;#o;#s;#i;#a;#m;#f;#h;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),fy(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Mg(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Mg(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#S(),this.#t.removeObserver(this)}setOptions(n,e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Oi(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),t._defaulted&&!dp(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const s=this.hasListeners();s&&hy(this.#t,r,this.options,t)&&this.#d(),this.updateResult(e),s&&(this.#t!==r||Oi(this.options.enabled,this.#t)!==Oi(t.enabled,this.#t)||Gu(this.options.staleTime,this.#t)!==Gu(t.staleTime,this.#t))&&this.#g();const l=this.#y();s&&(this.#t!==r||Oi(this.options.enabled,this.#t)!==Oi(t.enabled,this.#t)||l!==this.#l)&&this.#v(l)}getOptimisticResult(n){const e=this.#e.getQueryCache().build(this.#e,n),t=this.createResult(e,n);return a3(this,t)&&(this.#n=t,this.#s=this.options,this.#o=this.#t.state),t}getCurrentResult(){return this.#n}trackResult(n,e){const t={};return Object.keys(n).forEach(r=>{Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),e?.(r),n[r])})}),t}trackProp(n){this.#p.add(n)}getCurrentQuery(){return this.#t}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const e=this.#e.defaultQueryOptions(n),t=this.#e.getQueryCache().build(this.#e,e);return t.fetch().then(()=>this.createResult(t,e))}fetch(n){return this.#d({...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(n){this.#_();let e=this.#t.fetch(this.options,n);return n?.throwOnError||(e=e.catch(fi)),e}#g(){this.#w();const n=Gu(this.options.staleTime,this.#t);if(hl||this.#n.isStale||!kg(n))return;const t=o2(this.#n.dataUpdatedAt,n)+1;this.#u=setTimeout(()=>{this.#n.isStale||this.updateResult()},t)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(n){this.#S(),this.#l=n,!(hl||Oi(this.options.enabled,this.#t)===!1||!kg(this.#l)||this.#l===0)&&(this.#c=setInterval(()=>{(this.options.refetchIntervalInBackground||_0.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#v(this.#y())}#w(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#S(){this.#c&&(clearInterval(this.#c),this.#c=void 0)}createResult(n,e){const t=this.#t,r=this.options,s=this.#n,l=this.#o,c=this.#s,h=n!==t?n.state:this.#r,{state:g}=n;let y={...g},w=!1,_;if(e._optimisticResults){const H=this.hasListeners(),K=!H&&fy(n,e),re=H&&hy(n,t,e,r);(K||re)&&(y={...y,...h2(g.data,n.options)}),e._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:k,errorUpdatedAt:R,status:P}=y;if(e.select&&y.data!==void 0)if(s&&y.data===l?.data&&e.select===this.#m)_=this.#f;else try{this.#m=e.select,_=e.select(y.data),_=Ng(s?.data,_,e),this.#f=_,this.#a=null}catch(H){this.#a=H}else _=y.data;if(e.placeholderData!==void 0&&_===void 0&&P==="pending"){let H;if(s?.isPlaceholderData&&e.placeholderData===c?.placeholderData)H=s.data;else if(H=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,e.select&&H!==void 0)try{H=e.select(H),this.#a=null}catch(K){this.#a=K}H!==void 0&&(P="success",_=Ng(s?.data,H,e),w=!0)}this.#a&&(k=this.#a,_=this.#f,R=Date.now(),P="error");const N=y.fetchStatus==="fetching",M=P==="pending",I=P==="error",L=M&&N,D=_!==void 0,U={status:P,fetchStatus:y.fetchStatus,isPending:M,isSuccess:P==="success",isError:I,isInitialLoading:L,isLoading:L,data:_,dataUpdatedAt:y.dataUpdatedAt,error:k,errorUpdatedAt:R,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>h.dataUpdateCount||y.errorUpdateCount>h.errorUpdateCount,isFetching:N,isRefetching:N&&!M,isLoadingError:I&&!D,isPaused:y.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:I&&D,isStale:C0(n,e),refetch:this.refetch,promise:this.#i};if(this.options.experimental_prefetchInRender){const H=ue=>{U.status==="error"?ue.reject(U.error):U.data!==void 0&&ue.resolve(U.data)},K=()=>{const ue=this.#i=U.promise=Ag();H(ue)},re=this.#i;switch(re.status){case"pending":n.queryHash===t.queryHash&&H(re);break;case"fulfilled":(U.status==="error"||U.data!==re.value)&&K();break;case"rejected":(U.status!=="error"||U.error!==re.reason)&&K();break}}return U}updateResult(n){const e=this.#n,t=this.createResult(this.#t,this.options);if(this.#o=this.#t.state,this.#s=this.options,this.#o.data!==void 0&&(this.#h=this.#t),dp(t,e))return;this.#n=t;const r={},s=()=>{if(!e)return!0;const{notifyOnChangeProps:l}=this.options,c=typeof l=="function"?l():l;if(c==="all"||!c&&!this.#p.size)return!0;const d=new Set(c??this.#p);return this.options.throwOnError&&d.add("error"),Object.keys(this.#n).some(h=>{const g=h;return this.#n[g]!==e[g]&&d.has(g)})};n?.listeners!==!1&&s()&&(r.listeners=!0),this.#C({...r,...n})}#_(){const n=this.#e.getQueryCache().build(this.#e,this.options);if(n===this.#t)return;const e=this.#t;this.#t=n,this.#r=n.state,this.hasListeners()&&(e?.removeObserver(this),n.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#C(n){On.batch(()=>{n.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function o3(n,e){return Oi(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function fy(n,e){return o3(n,e)||n.state.data!==void 0&&Mg(n,e,e.refetchOnMount)}function Mg(n,e,t){if(Oi(e.enabled,n)!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&C0(n,e)}return!1}function hy(n,e,t,r){return(n!==e||Oi(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&C0(n,t)}function C0(n,e){return Oi(e.enabled,n)!==!1&&n.isStaleByTime(Gu(e.staleTime,n))}function a3(n,e){return!dp(n.getCurrentResult(),e)}var l3=class extends cc{#e;#t=void 0;#r;#n;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#e.defaultMutationOptions(e),dp(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&pl(t.mutationKey)!==pl(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#o(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#o(),this.#s()}mutate(e,t){return this.#n=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#o(){const e=this.#r?.state??p2();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){On.batch(()=>{if(this.#n&&this.hasListeners()){const t=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,t,r),this.#n.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#n.onError?.(e.error,t,r),this.#n.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(t=>{t(this.#t)})})}},m2=b.createContext(void 0),E0=n=>{const e=b.useContext(m2);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},u3=({client:n,children:e})=>(b.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),E.jsx(m2.Provider,{value:n,children:e})),g2=b.createContext(!1),c3=()=>b.useContext(g2);g2.Provider;function d3(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var f3=b.createContext(d3()),h3=()=>b.useContext(f3);function y2(n,e){return typeof n=="function"?n(...e):!!n}function Ig(){}var p3=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},m3=n=>{b.useEffect(()=>{n.clearReset()},[n])},g3=({result:n,errorResetBoundary:e,throwOnError:t,query:r})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&y2(t,[n.error,r]),y3=n=>{n.suspense&&(n.staleTime===void 0&&(n.staleTime=1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},v3=(n,e)=>n.isLoading&&n.isFetching&&!e,x3=(n,e)=>n?.suspense&&e.isPending,py=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function w3(n,e,t){const r=E0(),s=c3(),l=h3(),c=r.defaultQueryOptions(n);r.getDefaultOptions().queries?._experimental_beforeQuery?.(c),c._optimisticResults=s?"isRestoring":"optimistic",y3(c),p3(c,l),m3(l);const d=!r.getQueryCache().get(c.queryHash),[h]=b.useState(()=>new e(r,c)),g=h.getOptimisticResult(c);if(b.useSyncExternalStore(b.useCallback(y=>{const w=s?Ig:h.subscribe(On.batchCalls(y));return h.updateResult(),w},[h,s]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),b.useEffect(()=>{h.setOptions(c,{listeners:!1})},[c,h]),x3(c,g))throw py(c,h,l);if(g3({result:g,errorResetBoundary:l,throwOnError:c.throwOnError,query:r.getQueryCache().get(c.queryHash)}))throw g.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(c,g),c.experimental_prefetchInRender&&!hl&&v3(g,s)&&(d?py(c,h,l):r.getQueryCache().get(c.queryHash)?.promise)?.catch(Ig).finally(()=>{h.updateResult()}),c.notifyOnChangeProps?g:h.trackResult(g)}function S3(n,e){return w3(n,s3)}function _3(n,e){const t=E0(),[r]=b.useState(()=>new l3(t,n));b.useEffect(()=>{r.setOptions(n)},[r,n]);const s=b.useSyncExternalStore(b.useCallback(c=>r.subscribe(On.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),l=b.useCallback((c,d)=>{r.mutate(c,d).catch(Ig)},[r]);if(s.error&&y2(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:l,mutateAsync:s.mutate}}async function C3(n){if(!n.ok){const e=await n.text()||n.statusText;throw new Error(`${n.status}: ${e}`)}}const E3=({on401:n})=>async({queryKey:e})=>{const t=await fetch(e.join("/"),{credentials:"include"});return await C3(t),await t.json()},P3=new i3({defaultOptions:{queries:{queryFn:E3({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),T3=1,b3=1e6;let Ym=0;function k3(){return Ym=(Ym+1)%Number.MAX_SAFE_INTEGER,Ym.toString()}const Km=new Map,my=n=>{if(Km.has(n))return;const e=setTimeout(()=>{Km.delete(n),zd({type:"REMOVE_TOAST",toastId:n})},b3);Km.set(n,e)},R3=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,T3)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?my(t):n.toasts.forEach(r=>{my(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},rp=[];let ip={toasts:[]};function zd(n){ip=R3(ip,n),rp.forEach(e=>{e(ip)})}function N3({...n}){const e=k3(),t=s=>zd({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>zd({type:"DISMISS_TOAST",toastId:e});return zd({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:t}}function P0(){const[n,e]=b.useState(ip);return b.useEffect(()=>(rp.push(e),()=>{const t=rp.indexOf(e);t>-1&&rp.splice(t,1)}),[n]),{...n,toast:N3,dismiss:t=>zd({type:"DISMISS_TOAST",toastId:t})}}var dc=Xv();const A3=Mp(dc);function qe(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n?.(s),t===!1||!s.defaultPrevented)return e?.(s)}}function gy(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function v2(...n){return e=>{let t=!1;const r=n.map(s=>{const l=gy(s,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let s=0;s<r.length;s++){const l=r[s];typeof l=="function"?l():gy(n[s],null)}}}}function _t(...n){return b.useCallback(v2(...n),n)}function M3(n,e){const t=b.createContext(e),r=l=>{const{children:c,...d}=l,h=b.useMemo(()=>d,Object.values(d));return E.jsx(t.Provider,{value:h,children:c})};r.displayName=n+"Provider";function s(l){const c=b.useContext(t);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${n}\``)}return[r,s]}function oo(n,e=[]){let t=[];function r(l,c){const d=b.createContext(c),h=t.length;t=[...t,c];const g=w=>{const{scope:_,children:k,...R}=w,P=_?.[n]?.[h]||d,N=b.useMemo(()=>R,Object.values(R));return E.jsx(P.Provider,{value:N,children:k})};g.displayName=l+"Provider";function y(w,_){const k=_?.[n]?.[h]||d,R=b.useContext(k);if(R)return R;if(c!==void 0)return c;throw new Error(`\`${w}\` must be used within \`${l}\``)}return[g,y]}const s=()=>{const l=t.map(c=>b.createContext(c));return function(d){const h=d?.[n]||l;return b.useMemo(()=>({[`__scope${n}`]:{...d,[n]:h}}),[d,h])}};return s.scopeName=n,[r,I3(s,...e)]}function I3(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(l){const c=r.reduce((d,{useScope:h,scopeName:g})=>{const w=h(l)[`__scope${g}`];return{...d,...w}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}function tc(n){const e=L3(n),t=b.forwardRef((r,s)=>{const{children:l,...c}=r,d=b.Children.toArray(l),h=d.find(j3);if(h){const g=h.props.children,y=d.map(w=>w===h?b.Children.count(g)>1?b.Children.only(null):b.isValidElement(g)?g.props.children:null:w);return E.jsx(e,{...c,ref:s,children:b.isValidElement(g)?b.cloneElement(g,void 0,y):null})}return E.jsx(e,{...c,ref:s,children:l})});return t.displayName=`${n}.Slot`,t}var O3=tc("Slot");function L3(n){const e=b.forwardRef((t,r)=>{const{children:s,...l}=t;if(b.isValidElement(s)){const c=z3(s),d=F3(l,s.props);return s.type!==b.Fragment&&(d.ref=r?v2(r,c):c),b.cloneElement(s,d)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var x2=Symbol("radix.slottable");function D3(n){const e=({children:t})=>E.jsx(E.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=x2,e}function j3(n){return b.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===x2}function F3(n,e){const t={...e};for(const r in e){const s=n[r],l=e[r];/^on[A-Z]/.test(r)?s&&l?t[r]=(...d)=>{l(...d),s(...d)}:s&&(t[r]=s):r==="style"?t[r]={...s,...l}:r==="className"&&(t[r]=[s,l].filter(Boolean).join(" "))}return{...n,...t}}function z3(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function w2(n){const e=n+"CollectionProvider",[t,r]=oo(e),[s,l]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=P=>{const{scope:N,children:M}=P,I=nn.useRef(null),L=nn.useRef(new Map).current;return E.jsx(s,{scope:N,itemMap:L,collectionRef:I,children:M})};c.displayName=e;const d=n+"CollectionSlot",h=tc(d),g=nn.forwardRef((P,N)=>{const{scope:M,children:I}=P,L=l(d,M),D=_t(N,L.collectionRef);return E.jsx(h,{ref:D,children:I})});g.displayName=d;const y=n+"CollectionItemSlot",w="data-radix-collection-item",_=tc(y),k=nn.forwardRef((P,N)=>{const{scope:M,children:I,...L}=P,D=nn.useRef(null),z=_t(N,D),U=l(y,M);return nn.useEffect(()=>(U.itemMap.set(D,{ref:D,...L}),()=>{U.itemMap.delete(D)})),E.jsx(_,{[w]:"",ref:z,children:I})});k.displayName=y;function R(P){const N=l(n+"CollectionConsumer",P);return nn.useCallback(()=>{const I=N.collectionRef.current;if(!I)return[];const L=Array.from(I.querySelectorAll(`[${w}]`));return Array.from(N.itemMap.values()).sort((U,H)=>L.indexOf(U.ref.current)-L.indexOf(H.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:c,Slot:g,ItemSlot:k},R,r]}var B3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],st=B3.reduce((n,e)=>{const t=tc(`Primitive.${e}`),r=b.forwardRef((s,l)=>{const{asChild:c,...d}=s,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(h,{...d,ref:l})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function S2(n,e){n&&dc.flushSync(()=>n.dispatchEvent(e))}function Tn(n){const e=b.useRef(n);return b.useEffect(()=>{e.current=n}),b.useMemo(()=>(...t)=>e.current?.(...t),[])}function G3(n,e=globalThis?.document){const t=Tn(n);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var U3="DismissableLayer",Og="dismissableLayer.update",H3="dismissableLayer.pointerDownOutside",V3="dismissableLayer.focusOutside",yy,_2=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hf=b.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...h}=n,g=b.useContext(_2),[y,w]=b.useState(null),_=y?.ownerDocument??globalThis?.document,[,k]=b.useState({}),R=_t(e,H=>w(H)),P=Array.from(g.layers),[N]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),M=P.indexOf(N),I=y?P.indexOf(y):-1,L=g.layersWithOutsidePointerEventsDisabled.size>0,D=I>=M,z=Q3(H=>{const K=H.target,re=[...g.branches].some(ue=>ue.contains(K));!D||re||(s?.(H),c?.(H),H.defaultPrevented||d?.())},_),U=q3(H=>{const K=H.target;[...g.branches].some(ue=>ue.contains(K))||(l?.(H),c?.(H),H.defaultPrevented||d?.())},_);return G3(H=>{I===g.layers.size-1&&(r?.(H),!H.defaultPrevented&&d&&(H.preventDefault(),d()))},_),b.useEffect(()=>{if(y)return t&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(yy=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(y)),g.layers.add(y),vy(),()=>{t&&g.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=yy)}},[y,_,t,g]),b.useEffect(()=>()=>{y&&(g.layers.delete(y),g.layersWithOutsidePointerEventsDisabled.delete(y),vy())},[y,g]),b.useEffect(()=>{const H=()=>k({});return document.addEventListener(Og,H),()=>document.removeEventListener(Og,H)},[]),E.jsx(st.div,{...h,ref:R,style:{pointerEvents:L?D?"auto":"none":void 0,...n.style},onFocusCapture:qe(n.onFocusCapture,U.onFocusCapture),onBlurCapture:qe(n.onBlurCapture,U.onBlurCapture),onPointerDownCapture:qe(n.onPointerDownCapture,z.onPointerDownCapture)})});hf.displayName=U3;var W3="DismissableLayerBranch",C2=b.forwardRef((n,e)=>{const t=b.useContext(_2),r=b.useRef(null),s=_t(e,r);return b.useEffect(()=>{const l=r.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),E.jsx(st.div,{...n,ref:s})});C2.displayName=W3;function Q3(n,e=globalThis?.document){const t=Tn(n),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const l=d=>{if(d.target&&!r.current){let h=function(){E2(H3,t,g,{discrete:!0})};const g={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function q3(n,e=globalThis?.document){const t=Tn(n),r=b.useRef(!1);return b.useEffect(()=>{const s=l=>{l.target&&!r.current&&E2(V3,t,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function vy(){const n=new CustomEvent(Og);document.dispatchEvent(n)}function E2(n,e,t,{discrete:r}){const s=t.originalEvent.target,l=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?S2(s,l):s.dispatchEvent(l)}var $3=hf,X3=C2,ir=globalThis?.document?b.useLayoutEffect:()=>{},Y3="Portal",Op=b.forwardRef((n,e)=>{const{container:t,...r}=n,[s,l]=b.useState(!1);ir(()=>l(!0),[]);const c=t||s&&globalThis?.document?.body;return c?A3.createPortal(E.jsx(st.div,{...r,ref:e}),c):null});Op.displayName=Y3;function K3(n,e){return b.useReducer((t,r)=>e[t][r]??t,n)}var Bi=n=>{const{present:e,children:t}=n,r=Z3(e),s=typeof t=="function"?t({present:r.isPresent}):b.Children.only(t),l=_t(r.ref,J3(s));return typeof t=="function"||r.isPresent?b.cloneElement(s,{ref:l}):null};Bi.displayName="Presence";function Z3(n){const[e,t]=b.useState(),r=b.useRef({}),s=b.useRef(n),l=b.useRef("none"),c=n?"mounted":"unmounted",[d,h]=K3(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const g=Bh(r.current);l.current=d==="mounted"?g:"none"},[d]),ir(()=>{const g=r.current,y=s.current;if(y!==n){const _=l.current,k=Bh(g);n?h("MOUNT"):k==="none"||g?.display==="none"?h("UNMOUNT"):h(y&&_!==k?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,h]),ir(()=>{if(e){let g;const y=e.ownerDocument.defaultView??window,w=k=>{const P=Bh(r.current).includes(k.animationName);if(k.target===e&&P&&(h("ANIMATION_END"),!s.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",g=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},_=k=>{k.target===e&&(l.current=Bh(r.current))};return e.addEventListener("animationstart",_),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{y.clearTimeout(g),e.removeEventListener("animationstart",_),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:b.useCallback(g=>{g&&(r.current=getComputedStyle(g)),t(g)},[])}}function Bh(n){return n?.animationName||"none"}function J3(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function $d({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,s]=e_({defaultProp:e,onChange:t}),l=n!==void 0,c=l?n:r,d=Tn(t),h=b.useCallback(g=>{if(l){const w=typeof g=="function"?g(n):g;w!==n&&d(w)}else s(g)},[l,n,s,d]);return[c,h]}function e_({defaultProp:n,onChange:e}){const t=b.useState(n),[r]=t,s=b.useRef(r),l=Tn(e);return b.useEffect(()=>{s.current!==r&&(l(r),s.current=r)},[r,s,l]),t}var t_="VisuallyHidden",pf=b.forwardRef((n,e)=>E.jsx(st.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));pf.displayName=t_;var n_=pf,T0="ToastProvider",[b0,r_,i_]=w2("Toast"),[P2]=oo("Toast",[i_]),[s_,Lp]=P2(T0),T2=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:l=50,children:c}=n,[d,h]=b.useState(null),[g,y]=b.useState(0),w=b.useRef(!1),_=b.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${T0}\`. Expected non-empty \`string\`.`),E.jsx(b0.Provider,{scope:e,children:E.jsx(s_,{scope:e,label:t,duration:r,swipeDirection:s,swipeThreshold:l,toastCount:g,viewport:d,onViewportChange:h,onToastAdd:b.useCallback(()=>y(k=>k+1),[]),onToastRemove:b.useCallback(()=>y(k=>k-1),[]),isFocusedToastEscapeKeyDownRef:w,isClosePausedRef:_,children:c})})};T2.displayName=T0;var b2="ToastViewport",o_=["F8"],Lg="toast.viewportPause",Dg="toast.viewportResume",k2=b.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=o_,label:s="Notifications ({hotkey})",...l}=n,c=Lp(b2,t),d=r_(t),h=b.useRef(null),g=b.useRef(null),y=b.useRef(null),w=b.useRef(null),_=_t(e,w,c.onViewportChange),k=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=c.toastCount>0;b.useEffect(()=>{const N=M=>{r.length!==0&&r.every(L=>M[L]||M.code===L)&&w.current?.focus()};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[r]),b.useEffect(()=>{const N=h.current,M=w.current;if(R&&N&&M){const I=()=>{if(!c.isClosePausedRef.current){const U=new CustomEvent(Lg);M.dispatchEvent(U),c.isClosePausedRef.current=!0}},L=()=>{if(c.isClosePausedRef.current){const U=new CustomEvent(Dg);M.dispatchEvent(U),c.isClosePausedRef.current=!1}},D=U=>{!N.contains(U.relatedTarget)&&L()},z=()=>{N.contains(document.activeElement)||L()};return N.addEventListener("focusin",I),N.addEventListener("focusout",D),N.addEventListener("pointermove",I),N.addEventListener("pointerleave",z),window.addEventListener("blur",I),window.addEventListener("focus",L),()=>{N.removeEventListener("focusin",I),N.removeEventListener("focusout",D),N.removeEventListener("pointermove",I),N.removeEventListener("pointerleave",z),window.removeEventListener("blur",I),window.removeEventListener("focus",L)}}},[R,c.isClosePausedRef]);const P=b.useCallback(({tabbingDirection:N})=>{const I=d().map(L=>{const D=L.ref.current,z=[D,...x_(D)];return N==="forwards"?z:z.reverse()});return(N==="forwards"?I.reverse():I).flat()},[d]);return b.useEffect(()=>{const N=w.current;if(N){const M=I=>{const L=I.altKey||I.ctrlKey||I.metaKey;if(I.key==="Tab"&&!L){const z=document.activeElement,U=I.shiftKey;if(I.target===N&&U){g.current?.focus();return}const re=P({tabbingDirection:U?"backwards":"forwards"}),ue=re.findIndex(ve=>ve===z);Zm(re.slice(ue+1))?I.preventDefault():U?g.current?.focus():y.current?.focus()}};return N.addEventListener("keydown",M),()=>N.removeEventListener("keydown",M)}},[d,P]),E.jsxs(X3,{ref:h,role:"region","aria-label":s.replace("{hotkey}",k),tabIndex:-1,style:{pointerEvents:R?void 0:"none"},children:[R&&E.jsx(jg,{ref:g,onFocusFromOutsideViewport:()=>{const N=P({tabbingDirection:"forwards"});Zm(N)}}),E.jsx(b0.Slot,{scope:t,children:E.jsx(st.ol,{tabIndex:-1,...l,ref:_})}),R&&E.jsx(jg,{ref:y,onFocusFromOutsideViewport:()=>{const N=P({tabbingDirection:"backwards"});Zm(N)}})]})});k2.displayName=b2;var R2="ToastFocusProxy",jg=b.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...s}=n,l=Lp(R2,t);return E.jsx(pf,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:c=>{const d=c.relatedTarget;!l.viewport?.contains(d)&&r()}})});jg.displayName=R2;var Dp="Toast",a_="toast.swipeStart",l_="toast.swipeMove",u_="toast.swipeCancel",c_="toast.swipeEnd",N2=b.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:s,onOpenChange:l,...c}=n,[d=!0,h]=$d({prop:r,defaultProp:s,onChange:l});return E.jsx(Bi,{present:t||d,children:E.jsx(h_,{open:d,...c,ref:e,onClose:()=>h(!1),onPause:Tn(n.onPause),onResume:Tn(n.onResume),onSwipeStart:qe(n.onSwipeStart,g=>{g.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:qe(n.onSwipeMove,g=>{const{x:y,y:w}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","move"),g.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${w}px`)}),onSwipeCancel:qe(n.onSwipeCancel,g=>{g.currentTarget.setAttribute("data-swipe","cancel"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:qe(n.onSwipeEnd,g=>{const{x:y,y:w}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","end"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${w}px`),h(!1)})})})});N2.displayName=Dp;var[d_,f_]=P2(Dp,{onClose(){}}),h_=b.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:s,open:l,onClose:c,onEscapeKeyDown:d,onPause:h,onResume:g,onSwipeStart:y,onSwipeMove:w,onSwipeCancel:_,onSwipeEnd:k,...R}=n,P=Lp(Dp,t),[N,M]=b.useState(null),I=_t(e,se=>M(se)),L=b.useRef(null),D=b.useRef(null),z=s||P.duration,U=b.useRef(0),H=b.useRef(z),K=b.useRef(0),{onToastAdd:re,onToastRemove:ue}=P,ve=Tn(()=>{N?.contains(document.activeElement)&&P.viewport?.focus(),c()}),ae=b.useCallback(se=>{!se||se===1/0||(window.clearTimeout(K.current),U.current=new Date().getTime(),K.current=window.setTimeout(ve,se))},[ve]);b.useEffect(()=>{const se=P.viewport;if(se){const de=()=>{ae(H.current),g?.()},ie=()=>{const me=new Date().getTime()-U.current;H.current=H.current-me,window.clearTimeout(K.current),h?.()};return se.addEventListener(Lg,ie),se.addEventListener(Dg,de),()=>{se.removeEventListener(Lg,ie),se.removeEventListener(Dg,de)}}},[P.viewport,z,h,g,ae]),b.useEffect(()=>{l&&!P.isClosePausedRef.current&&ae(z)},[l,z,P.isClosePausedRef,ae]),b.useEffect(()=>(re(),()=>ue()),[re,ue]);const ye=b.useMemo(()=>N?j2(N):null,[N]);return P.viewport?E.jsxs(E.Fragment,{children:[ye&&E.jsx(p_,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:ye}),E.jsx(d_,{scope:t,onClose:ve,children:dc.createPortal(E.jsx(b0.ItemSlot,{scope:t,children:E.jsx($3,{asChild:!0,onEscapeKeyDown:qe(d,()=>{P.isFocusedToastEscapeKeyDownRef.current||ve(),P.isFocusedToastEscapeKeyDownRef.current=!1}),children:E.jsx(st.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":P.swipeDirection,...R,ref:I,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:qe(n.onKeyDown,se=>{se.key==="Escape"&&(d?.(se.nativeEvent),se.nativeEvent.defaultPrevented||(P.isFocusedToastEscapeKeyDownRef.current=!0,ve()))}),onPointerDown:qe(n.onPointerDown,se=>{se.button===0&&(L.current={x:se.clientX,y:se.clientY})}),onPointerMove:qe(n.onPointerMove,se=>{if(!L.current)return;const de=se.clientX-L.current.x,ie=se.clientY-L.current.y,me=!!D.current,Q=["left","right"].includes(P.swipeDirection),le=["left","up"].includes(P.swipeDirection)?Math.min:Math.max,ce=Q?le(0,de):0,B=Q?0:le(0,ie),X=se.pointerType==="touch"?10:2,Ae={x:ce,y:B},Ve={originalEvent:se,delta:Ae};me?(D.current=Ae,Gh(l_,w,Ve,{discrete:!1})):xy(Ae,P.swipeDirection,X)?(D.current=Ae,Gh(a_,y,Ve,{discrete:!1}),se.target.setPointerCapture(se.pointerId)):(Math.abs(de)>X||Math.abs(ie)>X)&&(L.current=null)}),onPointerUp:qe(n.onPointerUp,se=>{const de=D.current,ie=se.target;if(ie.hasPointerCapture(se.pointerId)&&ie.releasePointerCapture(se.pointerId),D.current=null,L.current=null,de){const me=se.currentTarget,Q={originalEvent:se,delta:de};xy(de,P.swipeDirection,P.swipeThreshold)?Gh(c_,k,Q,{discrete:!0}):Gh(u_,_,Q,{discrete:!0}),me.addEventListener("click",le=>le.preventDefault(),{once:!0})}})})})}),P.viewport)})]}):null}),p_=n=>{const{__scopeToast:e,children:t,...r}=n,s=Lp(Dp,e),[l,c]=b.useState(!1),[d,h]=b.useState(!1);return y_(()=>c(!0)),b.useEffect(()=>{const g=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(g)},[]),d?null:E.jsx(Op,{asChild:!0,children:E.jsx(pf,{...r,children:l&&E.jsxs(E.Fragment,{children:[s.label," ",t]})})})},m_="ToastTitle",A2=b.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return E.jsx(st.div,{...r,ref:e})});A2.displayName=m_;var g_="ToastDescription",M2=b.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return E.jsx(st.div,{...r,ref:e})});M2.displayName=g_;var I2="ToastAction",O2=b.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?E.jsx(D2,{altText:t,asChild:!0,children:E.jsx(k0,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${I2}\`. Expected non-empty \`string\`.`),null)});O2.displayName=I2;var L2="ToastClose",k0=b.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,s=f_(L2,t);return E.jsx(D2,{asChild:!0,children:E.jsx(st.button,{type:"button",...r,ref:e,onClick:qe(n.onClick,s.onClose)})})});k0.displayName=L2;var D2=b.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...s}=n;return E.jsx(st.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function j2(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),v_(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",l=r.dataset.radixToastAnnounceExclude==="";if(!s)if(l){const c=r.dataset.radixToastAnnounceAlt;c&&e.push(c)}else e.push(...j2(r))}}),e}function Gh(n,e,t,{discrete:r}){const s=t.originalEvent.currentTarget,l=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?S2(s,l):s.dispatchEvent(l)}var xy=(n,e,t=0)=>{const r=Math.abs(n.x),s=Math.abs(n.y),l=r>s;return e==="left"||e==="right"?l&&r>t:!l&&s>t};function y_(n=()=>{}){const e=Tn(n);ir(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function v_(n){return n.nodeType===n.ELEMENT_NODE}function x_(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Zm(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var w_=T2,F2=k2,z2=N2,B2=A2,G2=M2,U2=O2,H2=k0;function V2(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=V2(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function W2(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=V2(n))&&(r&&(r+=" "),r+=e);return r}const wy=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Sy=W2,jp=(n,e)=>t=>{var r;if(e?.variants==null)return Sy(n,t?.class,t?.className);const{variants:s,defaultVariants:l}=e,c=Object.keys(s).map(g=>{const y=t?.[g],w=l?.[g];if(y===null)return null;const _=wy(y)||wy(w);return s[g][_]}),d=t&&Object.entries(t).reduce((g,y)=>{let[w,_]=y;return _===void 0||(g[w]=_),g},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((g,y)=>{let{class:w,className:_,...k}=y;return Object.entries(k).every(R=>{let[P,N]=R;return Array.isArray(N)?N.includes({...l,...d}[P]):{...l,...d}[P]===N})?[...g,w,_]:g},[]);return Sy(n,c,h,t?.class,t?.className)};const S_=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q2=(...n)=>n.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ");var __={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const C_=b.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:l,iconNode:c,...d},h)=>b.createElement("svg",{ref:h,...__,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Q2("lucide",s),...d},[...c.map(([g,y])=>b.createElement(g,y)),...Array.isArray(l)?l:[l]]));const rn=(n,e)=>{const t=b.forwardRef(({className:r,...s},l)=>b.createElement(C_,{ref:l,iconNode:e,className:Q2(`lucide-${S_(n)}`,r),...s}));return t.displayName=`${n}`,t};const E_=rn("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const R0=rn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const N0=rn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const P_=rn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const q2=rn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const $2=rn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const T_=rn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const _y=rn("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);const b_=rn("Dna",[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]]);const A0=rn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const k_=rn("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Fg=rn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const R_=rn("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const Cy=rn("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const N_=rn("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const A_=rn("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);const M_=rn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const I_=rn("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const X2=rn("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const O_=rn("SquareSplitHorizontal",[["path",{d:"M8 19H5c-1 0-2-1-2-2V7c0-1 1-2 2-2h3",key:"lubmu8"}],["path",{d:"M16 5h3c1 0 2 1 2 2v10c0 1-1 2-2 2h-3",key:"1ag34g"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);const L_=rn("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const Ey=rn("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const Y2=rn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),M0="-",D_=n=>{const e=F_(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:c=>{const d=c.split(M0);return d[0]===""&&d.length!==1&&d.shift(),K2(d,e)||j_(c)},getConflictingClassGroupIds:(c,d)=>{const h=t[c]||[];return d&&r[c]?[...h,...r[c]]:h}}},K2=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?K2(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const l=n.join(M0);return e.validators.find(({validator:c})=>c(l))?.classGroupId},Py=/^\[(.+)\]$/,j_=n=>{if(Py.test(n)){const e=Py.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},F_=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return B_(Object.entries(n.classGroups),t).forEach(([l,c])=>{zg(c,r,l,e)}),r},zg=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const l=s===""?e:Ty(e,s);l.classGroupId=t;return}if(typeof s=="function"){if(z_(s)){zg(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([l,c])=>{zg(c,Ty(e,l),t,r)})})},Ty=(n,e)=>{let t=n;return e.split(M0).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},z_=n=>n.isThemeGetter,B_=(n,e)=>e?n.map(([t,r])=>{const s=r.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([c,d])=>[e+c,d])):l);return[t,s]}):n,G_=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(l,c)=>{t.set(l,c),e++,e>n&&(e=0,r=t,t=new Map)};return{get(l){let c=t.get(l);if(c!==void 0)return c;if((c=r.get(l))!==void 0)return s(l,c),c},set(l,c){t.has(l)?t.set(l,c):s(l,c)}}},Z2="!",U_=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,s=e[0],l=e.length,c=d=>{const h=[];let g=0,y=0,w;for(let N=0;N<d.length;N++){let M=d[N];if(g===0){if(M===s&&(r||d.slice(N,N+l)===e)){h.push(d.slice(y,N)),y=N+l;continue}if(M==="/"){w=N;continue}}M==="["?g++:M==="]"&&g--}const _=h.length===0?d:d.substring(y),k=_.startsWith(Z2),R=k?_.substring(1):_,P=w&&w>y?w-y:void 0;return{modifiers:h,hasImportantModifier:k,baseClassName:R,maybePostfixModifierPosition:P}};return t?d=>t({className:d,parseClassName:c}):c},H_=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},V_=n=>({cache:G_(n.cacheSize),parseClassName:U_(n),...D_(n)}),W_=/\s+/,Q_=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s}=e,l=[],c=n.trim().split(W_);let d="";for(let h=c.length-1;h>=0;h-=1){const g=c[h],{modifiers:y,hasImportantModifier:w,baseClassName:_,maybePostfixModifierPosition:k}=t(g);let R=!!k,P=r(R?_.substring(0,k):_);if(!P){if(!R){d=g+(d.length>0?" "+d:d);continue}if(P=r(_),!P){d=g+(d.length>0?" "+d:d);continue}R=!1}const N=H_(y).join(":"),M=w?N+Z2:N,I=M+P;if(l.includes(I))continue;l.push(I);const L=s(P,R);for(let D=0;D<L.length;++D){const z=L[D];l.push(M+z)}d=g+(d.length>0?" "+d:d)}return d};function q_(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=J2(e))&&(r&&(r+=" "),r+=t);return r}const J2=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=J2(n[r]))&&(t&&(t+=" "),t+=e);return t};function $_(n,...e){let t,r,s,l=c;function c(h){const g=e.reduce((y,w)=>w(y),n());return t=V_(g),r=t.cache.get,s=t.cache.set,l=d,d(h)}function d(h){const g=r(h);if(g)return g;const y=Q_(h,t);return s(h,y),y}return function(){return l(q_.apply(null,arguments))}}const $t=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},ex=/^\[(?:([a-z-]+):)?(.+)\]$/i,X_=/^\d+\/\d+$/,Y_=new Set(["px","full","screen"]),K_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Z_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,J_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,e6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,t6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Js=n=>Uu(n)||Y_.has(n)||X_.test(n),sa=n=>fc(n,"length",u6),Uu=n=>!!n&&!Number.isNaN(Number(n)),Jm=n=>fc(n,"number",Uu),Sd=n=>!!n&&Number.isInteger(Number(n)),n6=n=>n.endsWith("%")&&Uu(n.slice(0,-1)),at=n=>ex.test(n),oa=n=>K_.test(n),r6=new Set(["length","size","percentage"]),i6=n=>fc(n,r6,tx),s6=n=>fc(n,"position",tx),o6=new Set(["image","url"]),a6=n=>fc(n,o6,d6),l6=n=>fc(n,"",c6),_d=()=>!0,fc=(n,e,t)=>{const r=ex.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},u6=n=>Z_.test(n)&&!J_.test(n),tx=()=>!1,c6=n=>e6.test(n),d6=n=>t6.test(n),f6=()=>{const n=$t("colors"),e=$t("spacing"),t=$t("blur"),r=$t("brightness"),s=$t("borderColor"),l=$t("borderRadius"),c=$t("borderSpacing"),d=$t("borderWidth"),h=$t("contrast"),g=$t("grayscale"),y=$t("hueRotate"),w=$t("invert"),_=$t("gap"),k=$t("gradientColorStops"),R=$t("gradientColorStopPositions"),P=$t("inset"),N=$t("margin"),M=$t("opacity"),I=$t("padding"),L=$t("saturate"),D=$t("scale"),z=$t("sepia"),U=$t("skew"),H=$t("space"),K=$t("translate"),re=()=>["auto","contain","none"],ue=()=>["auto","hidden","clip","visible","scroll"],ve=()=>["auto",at,e],ae=()=>[at,e],ye=()=>["",Js,sa],se=()=>["auto",Uu,at],de=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ie=()=>["solid","dashed","dotted","double","none"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],le=()=>["","0",at],ce=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[Uu,at];return{cacheSize:500,separator:":",theme:{colors:[_d],spacing:[Js,sa],blur:["none","",oa,at],brightness:B(),borderColor:[n],borderRadius:["none","","full",oa,at],borderSpacing:ae(),borderWidth:ye(),contrast:B(),grayscale:le(),hueRotate:B(),invert:le(),gap:ae(),gradientColorStops:[n],gradientColorStopPositions:[n6,sa],inset:ve(),margin:ve(),opacity:B(),padding:ae(),saturate:B(),scale:B(),sepia:le(),skew:B(),space:ae(),translate:ae()},classGroups:{aspect:[{aspect:["auto","square","video",at]}],container:["container"],columns:[{columns:[oa]}],"break-after":[{"break-after":ce()}],"break-before":[{"break-before":ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...de(),at]}],overflow:[{overflow:ue()}],"overflow-x":[{"overflow-x":ue()}],"overflow-y":[{"overflow-y":ue()}],overscroll:[{overscroll:re()}],"overscroll-x":[{"overscroll-x":re()}],"overscroll-y":[{"overscroll-y":re()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[P]}],"inset-x":[{"inset-x":[P]}],"inset-y":[{"inset-y":[P]}],start:[{start:[P]}],end:[{end:[P]}],top:[{top:[P]}],right:[{right:[P]}],bottom:[{bottom:[P]}],left:[{left:[P]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Sd,at]}],basis:[{basis:ve()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",at]}],grow:[{grow:le()}],shrink:[{shrink:le()}],order:[{order:["first","last","none",Sd,at]}],"grid-cols":[{"grid-cols":[_d]}],"col-start-end":[{col:["auto",{span:["full",Sd,at]},at]}],"col-start":[{"col-start":se()}],"col-end":[{"col-end":se()}],"grid-rows":[{"grid-rows":[_d]}],"row-start-end":[{row:["auto",{span:[Sd,at]},at]}],"row-start":[{"row-start":se()}],"row-end":[{"row-end":se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",at]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",at]}],gap:[{gap:[_]}],"gap-x":[{"gap-x":[_]}],"gap-y":[{"gap-y":[_]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[I]}],px:[{px:[I]}],py:[{py:[I]}],ps:[{ps:[I]}],pe:[{pe:[I]}],pt:[{pt:[I]}],pr:[{pr:[I]}],pb:[{pb:[I]}],pl:[{pl:[I]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[H]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[H]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",at,e]}],"min-w":[{"min-w":[at,e,"min","max","fit"]}],"max-w":[{"max-w":[at,e,"none","full","min","max","fit","prose",{screen:[oa]},oa]}],h:[{h:[at,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[at,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[at,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[at,e,"auto","min","max","fit"]}],"font-size":[{text:["base",oa,sa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jm]}],"font-family":[{font:[_d]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",at]}],"line-clamp":[{"line-clamp":["none",Uu,Jm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Js,at]}],"list-image":[{"list-image":["none",at]}],"list-style-type":[{list:["none","disc","decimal",at]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[M]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[M]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Js,sa]}],"underline-offset":[{"underline-offset":["auto",Js,at]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ae()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",at]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",at]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[M]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...de(),s6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",i6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},a6]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[R]}],"gradient-via-pos":[{via:[R]}],"gradient-to-pos":[{to:[R]}],"gradient-from":[{from:[k]}],"gradient-via":[{via:[k]}],"gradient-to":[{to:[k]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[M]}],"border-style":[{border:[...ie(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[M]}],"divide-style":[{divide:ie()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ie()]}],"outline-offset":[{"outline-offset":[Js,at]}],"outline-w":[{outline:[Js,sa]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[M]}],"ring-offset-w":[{"ring-offset":[Js,sa]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",oa,l6]}],"shadow-color":[{shadow:[_d]}],opacity:[{opacity:[M]}],"mix-blend":[{"mix-blend":[...me(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":me()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",oa,at]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[w]}],saturate:[{saturate:[L]}],sepia:[{sepia:[z]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[M]}],"backdrop-saturate":[{"backdrop-saturate":[L]}],"backdrop-sepia":[{"backdrop-sepia":[z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",at]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",at]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",at]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[Sd,at]}],"translate-x":[{"translate-x":[K]}],"translate-y":[{"translate-y":[K]}],"skew-x":[{"skew-x":[U]}],"skew-y":[{"skew-y":[U]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",at]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",at]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ae()}],"scroll-mx":[{"scroll-mx":ae()}],"scroll-my":[{"scroll-my":ae()}],"scroll-ms":[{"scroll-ms":ae()}],"scroll-me":[{"scroll-me":ae()}],"scroll-mt":[{"scroll-mt":ae()}],"scroll-mr":[{"scroll-mr":ae()}],"scroll-mb":[{"scroll-mb":ae()}],"scroll-ml":[{"scroll-ml":ae()}],"scroll-p":[{"scroll-p":ae()}],"scroll-px":[{"scroll-px":ae()}],"scroll-py":[{"scroll-py":ae()}],"scroll-ps":[{"scroll-ps":ae()}],"scroll-pe":[{"scroll-pe":ae()}],"scroll-pt":[{"scroll-pt":ae()}],"scroll-pr":[{"scroll-pr":ae()}],"scroll-pb":[{"scroll-pb":ae()}],"scroll-pl":[{"scroll-pl":ae()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",at]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Js,sa,Jm]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},h6=$_(f6);function mt(...n){return h6(W2(n))}const p6=w_,nx=b.forwardRef(({className:n,...e},t)=>E.jsx(F2,{ref:t,className:mt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));nx.displayName=F2.displayName;const m6=jp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),rx=b.forwardRef(({className:n,variant:e,...t},r)=>E.jsx(z2,{ref:r,className:mt(m6({variant:e}),n),...t}));rx.displayName=z2.displayName;const g6=b.forwardRef(({className:n,...e},t)=>E.jsx(U2,{ref:t,className:mt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));g6.displayName=U2.displayName;const ix=b.forwardRef(({className:n,...e},t)=>E.jsx(H2,{ref:t,className:mt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:E.jsx(Y2,{className:"h-4 w-4"})}));ix.displayName=H2.displayName;const sx=b.forwardRef(({className:n,...e},t)=>E.jsx(B2,{ref:t,className:mt("text-sm font-semibold",n),...e}));sx.displayName=B2.displayName;const ox=b.forwardRef(({className:n,...e},t)=>E.jsx(G2,{ref:t,className:mt("text-sm opacity-90",n),...e}));ox.displayName=G2.displayName;function y6(){const{toasts:n}=P0();return E.jsxs(p6,{children:[n.map(function({id:e,title:t,description:r,action:s,...l}){return E.jsxs(rx,{...l,children:[E.jsxs("div",{className:"grid gap-1",children:[t&&E.jsx(sx,{children:t}),r&&E.jsx(ox,{children:r})]}),s,E.jsx(ix,{})]},e)}),E.jsx(nx,{})]})}var v6=Yv[" useId ".trim().toString()]||(()=>{}),x6=0;function Hu(n){const[e,t]=b.useState(v6());return ir(()=>{t(r=>r??String(x6++))},[n]),e?`radix-${e}`:""}const w6=["top","right","bottom","left"],pa=Math.min,Wr=Math.max,hp=Math.round,Uh=Math.floor,ps=n=>({x:n,y:n}),S6={left:"right",right:"left",bottom:"top",top:"bottom"},_6={start:"end",end:"start"};function Bg(n,e,t){return Wr(n,pa(e,t))}function ro(n,e){return typeof n=="function"?n(e):n}function io(n){return n.split("-")[0]}function hc(n){return n.split("-")[1]}function I0(n){return n==="x"?"y":"x"}function O0(n){return n==="y"?"height":"width"}function ma(n){return["top","bottom"].includes(io(n))?"y":"x"}function L0(n){return I0(ma(n))}function C6(n,e,t){t===void 0&&(t=!1);const r=hc(n),s=L0(n),l=O0(s);let c=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=pp(c)),[c,pp(c)]}function E6(n){const e=pp(n);return[Gg(n),e,Gg(e)]}function Gg(n){return n.replace(/start|end/g,e=>_6[e])}function P6(n,e,t){const r=["left","right"],s=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(n){case"top":case"bottom":return t?e?s:r:e?r:s;case"left":case"right":return e?l:c;default:return[]}}function T6(n,e,t,r){const s=hc(n);let l=P6(io(n),t==="start",r);return s&&(l=l.map(c=>c+"-"+s),e&&(l=l.concat(l.map(Gg)))),l}function pp(n){return n.replace(/left|right|bottom|top/g,e=>S6[e])}function b6(n){return{top:0,right:0,bottom:0,left:0,...n}}function ax(n){return typeof n!="number"?b6(n):{top:n,right:n,bottom:n,left:n}}function mp(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function by(n,e,t){let{reference:r,floating:s}=n;const l=ma(e),c=L0(e),d=O0(c),h=io(e),g=l==="y",y=r.x+r.width/2-s.width/2,w=r.y+r.height/2-s.height/2,_=r[d]/2-s[d]/2;let k;switch(h){case"top":k={x:y,y:r.y-s.height};break;case"bottom":k={x:y,y:r.y+r.height};break;case"right":k={x:r.x+r.width,y:w};break;case"left":k={x:r.x-s.width,y:w};break;default:k={x:r.x,y:r.y}}switch(hc(e)){case"start":k[c]-=_*(t&&g?-1:1);break;case"end":k[c]+=_*(t&&g?-1:1);break}return k}const k6=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:l=[],platform:c}=t,d=l.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let g=await c.getElementRects({reference:n,floating:e,strategy:s}),{x:y,y:w}=by(g,r,h),_=r,k={},R=0;for(let P=0;P<d.length;P++){const{name:N,fn:M}=d[P],{x:I,y:L,data:D,reset:z}=await M({x:y,y:w,initialPlacement:r,placement:_,strategy:s,middlewareData:k,rects:g,platform:c,elements:{reference:n,floating:e}});y=I??y,w=L??w,k={...k,[N]:{...k[N],...D}},z&&R<=50&&(R++,typeof z=="object"&&(z.placement&&(_=z.placement),z.rects&&(g=z.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:s}):z.rects),{x:y,y:w}=by(g,_,h)),P=-1)}return{x:y,y:w,placement:_,strategy:s,middlewareData:k}};async function Xd(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:l,rects:c,elements:d,strategy:h}=n,{boundary:g="clippingAncestors",rootBoundary:y="viewport",elementContext:w="floating",altBoundary:_=!1,padding:k=0}=ro(e,n),R=ax(k),N=d[_?w==="floating"?"reference":"floating":w],M=mp(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(N)))==null||t?N:N.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:g,rootBoundary:y,strategy:h})),I=w==="floating"?{x:r,y:s,width:c.floating.width,height:c.floating.height}:c.reference,L=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),D=await(l.isElement==null?void 0:l.isElement(L))?await(l.getScale==null?void 0:l.getScale(L))||{x:1,y:1}:{x:1,y:1},z=mp(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:I,offsetParent:L,strategy:h}):I);return{top:(M.top-z.top+R.top)/D.y,bottom:(z.bottom-M.bottom+R.bottom)/D.y,left:(M.left-z.left+R.left)/D.x,right:(z.right-M.right+R.right)/D.x}}const R6=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:l,platform:c,elements:d,middlewareData:h}=e,{element:g,padding:y=0}=ro(n,e)||{};if(g==null)return{};const w=ax(y),_={x:t,y:r},k=L0(s),R=O0(k),P=await c.getDimensions(g),N=k==="y",M=N?"top":"left",I=N?"bottom":"right",L=N?"clientHeight":"clientWidth",D=l.reference[R]+l.reference[k]-_[k]-l.floating[R],z=_[k]-l.reference[k],U=await(c.getOffsetParent==null?void 0:c.getOffsetParent(g));let H=U?U[L]:0;(!H||!await(c.isElement==null?void 0:c.isElement(U)))&&(H=d.floating[L]||l.floating[R]);const K=D/2-z/2,re=H/2-P[R]/2-1,ue=pa(w[M],re),ve=pa(w[I],re),ae=ue,ye=H-P[R]-ve,se=H/2-P[R]/2+K,de=Bg(ae,se,ye),ie=!h.arrow&&hc(s)!=null&&se!==de&&l.reference[R]/2-(se<ae?ue:ve)-P[R]/2<0,me=ie?se<ae?se-ae:se-ye:0;return{[k]:_[k]+me,data:{[k]:de,centerOffset:se-de-me,...ie&&{alignmentOffset:me}},reset:ie}}}),N6=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:l,rects:c,initialPlacement:d,platform:h,elements:g}=e,{mainAxis:y=!0,crossAxis:w=!0,fallbackPlacements:_,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:P=!0,...N}=ro(n,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const M=io(s),I=ma(d),L=io(d)===d,D=await(h.isRTL==null?void 0:h.isRTL(g.floating)),z=_||(L||!P?[pp(d)]:E6(d)),U=R!=="none";!_&&U&&z.push(...T6(d,P,R,D));const H=[d,...z],K=await Xd(e,N),re=[];let ue=((r=l.flip)==null?void 0:r.overflows)||[];if(y&&re.push(K[M]),w){const se=C6(s,c,D);re.push(K[se[0]],K[se[1]])}if(ue=[...ue,{placement:s,overflows:re}],!re.every(se=>se<=0)){var ve,ae;const se=(((ve=l.flip)==null?void 0:ve.index)||0)+1,de=H[se];if(de)return{data:{index:se,overflows:ue},reset:{placement:de}};let ie=(ae=ue.filter(me=>me.overflows[0]<=0).sort((me,Q)=>me.overflows[1]-Q.overflows[1])[0])==null?void 0:ae.placement;if(!ie)switch(k){case"bestFit":{var ye;const me=(ye=ue.filter(Q=>{if(U){const le=ma(Q.placement);return le===I||le==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(le=>le>0).reduce((le,ce)=>le+ce,0)]).sort((Q,le)=>Q[1]-le[1])[0])==null?void 0:ye[0];me&&(ie=me);break}case"initialPlacement":ie=d;break}if(s!==ie)return{reset:{placement:ie}}}return{}}}};function ky(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Ry(n){return w6.some(e=>n[e]>=0)}const A6=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...s}=ro(n,e);switch(r){case"referenceHidden":{const l=await Xd(e,{...s,elementContext:"reference"}),c=ky(l,t.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Ry(c)}}}case"escaped":{const l=await Xd(e,{...s,altBoundary:!0}),c=ky(l,t.floating);return{data:{escapedOffsets:c,escaped:Ry(c)}}}default:return{}}}}};async function M6(n,e){const{placement:t,platform:r,elements:s}=n,l=await(r.isRTL==null?void 0:r.isRTL(s.floating)),c=io(t),d=hc(t),h=ma(t)==="y",g=["left","top"].includes(c)?-1:1,y=l&&h?-1:1,w=ro(e,n);let{mainAxis:_,crossAxis:k,alignmentAxis:R}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return d&&typeof R=="number"&&(k=d==="end"?R*-1:R),h?{x:k*y,y:_*g}:{x:_*g,y:k*y}}const I6=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:l,placement:c,middlewareData:d}=e,h=await M6(e,n);return c===((t=d.offset)==null?void 0:t.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:l+h.y,data:{...h,placement:c}}}}},O6=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:N=>{let{x:M,y:I}=N;return{x:M,y:I}}},...h}=ro(n,e),g={x:t,y:r},y=await Xd(e,h),w=ma(io(s)),_=I0(w);let k=g[_],R=g[w];if(l){const N=_==="y"?"top":"left",M=_==="y"?"bottom":"right",I=k+y[N],L=k-y[M];k=Bg(I,k,L)}if(c){const N=w==="y"?"top":"left",M=w==="y"?"bottom":"right",I=R+y[N],L=R-y[M];R=Bg(I,R,L)}const P=d.fn({...e,[_]:k,[w]:R});return{...P,data:{x:P.x-t,y:P.y-r,enabled:{[_]:l,[w]:c}}}}}},L6=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:l,middlewareData:c}=e,{offset:d=0,mainAxis:h=!0,crossAxis:g=!0}=ro(n,e),y={x:t,y:r},w=ma(s),_=I0(w);let k=y[_],R=y[w];const P=ro(d,e),N=typeof P=="number"?{mainAxis:P,crossAxis:0}:{mainAxis:0,crossAxis:0,...P};if(h){const L=_==="y"?"height":"width",D=l.reference[_]-l.floating[L]+N.mainAxis,z=l.reference[_]+l.reference[L]-N.mainAxis;k<D?k=D:k>z&&(k=z)}if(g){var M,I;const L=_==="y"?"width":"height",D=["top","left"].includes(io(s)),z=l.reference[w]-l.floating[L]+(D&&((M=c.offset)==null?void 0:M[w])||0)+(D?0:N.crossAxis),U=l.reference[w]+l.reference[L]+(D?0:((I=c.offset)==null?void 0:I[w])||0)-(D?N.crossAxis:0);R<z?R=z:R>U&&(R=U)}return{[_]:k,[w]:R}}}},D6=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:l,platform:c,elements:d}=e,{apply:h=()=>{},...g}=ro(n,e),y=await Xd(e,g),w=io(s),_=hc(s),k=ma(s)==="y",{width:R,height:P}=l.floating;let N,M;w==="top"||w==="bottom"?(N=w,M=_===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(M=w,N=_==="end"?"top":"bottom");const I=P-y.top-y.bottom,L=R-y.left-y.right,D=pa(P-y[N],I),z=pa(R-y[M],L),U=!e.middlewareData.shift;let H=D,K=z;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(K=L),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(H=I),U&&!_){const ue=Wr(y.left,0),ve=Wr(y.right,0),ae=Wr(y.top,0),ye=Wr(y.bottom,0);k?K=R-2*(ue!==0||ve!==0?ue+ve:Wr(y.left,y.right)):H=P-2*(ae!==0||ye!==0?ae+ye:Wr(y.top,y.bottom))}await h({...e,availableWidth:K,availableHeight:H});const re=await c.getDimensions(d.floating);return R!==re.width||P!==re.height?{reset:{rects:!0}}:{}}}};function Fp(){return typeof window<"u"}function pc(n){return lx(n)?(n.nodeName||"").toLowerCase():"#document"}function $r(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function xs(n){var e;return(e=(lx(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function lx(n){return Fp()?n instanceof Node||n instanceof $r(n).Node:!1}function ji(n){return Fp()?n instanceof Element||n instanceof $r(n).Element:!1}function gs(n){return Fp()?n instanceof HTMLElement||n instanceof $r(n).HTMLElement:!1}function Ny(n){return!Fp()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof $r(n).ShadowRoot}function mf(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=Fi(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function j6(n){return["table","td","th"].includes(pc(n))}function zp(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function D0(n){const e=j0(),t=ji(n)?Fi(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function F6(n){let e=ga(n);for(;gs(e)&&!nc(e);){if(D0(e))return e;if(zp(e))return null;e=ga(e)}return null}function j0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function nc(n){return["html","body","#document"].includes(pc(n))}function Fi(n){return $r(n).getComputedStyle(n)}function Bp(n){return ji(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ga(n){if(pc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Ny(n)&&n.host||xs(n);return Ny(e)?e.host:e}function ux(n){const e=ga(n);return nc(e)?n.ownerDocument?n.ownerDocument.body:n.body:gs(e)&&mf(e)?e:ux(e)}function Yd(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=ux(n),l=s===((r=n.ownerDocument)==null?void 0:r.body),c=$r(s);if(l){const d=Ug(c);return e.concat(c,c.visualViewport||[],mf(s)?s:[],d&&t?Yd(d):[])}return e.concat(s,Yd(s,[],t))}function Ug(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function cx(n){const e=Fi(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=gs(n),l=s?n.offsetWidth:t,c=s?n.offsetHeight:r,d=hp(t)!==l||hp(r)!==c;return d&&(t=l,r=c),{width:t,height:r,$:d}}function F0(n){return ji(n)?n:n.contextElement}function Vu(n){const e=F0(n);if(!gs(e))return ps(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:l}=cx(e);let c=(l?hp(t.width):t.width)/r,d=(l?hp(t.height):t.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const z6=ps(0);function dx(n){const e=$r(n);return!j0()||!e.visualViewport?z6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function B6(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==$r(n)?!1:e}function ml(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),l=F0(n);let c=ps(1);e&&(r?ji(r)&&(c=Vu(r)):c=Vu(n));const d=B6(l,t,r)?dx(l):ps(0);let h=(s.left+d.x)/c.x,g=(s.top+d.y)/c.y,y=s.width/c.x,w=s.height/c.y;if(l){const _=$r(l),k=r&&ji(r)?$r(r):r;let R=_,P=Ug(R);for(;P&&r&&k!==R;){const N=Vu(P),M=P.getBoundingClientRect(),I=Fi(P),L=M.left+(P.clientLeft+parseFloat(I.paddingLeft))*N.x,D=M.top+(P.clientTop+parseFloat(I.paddingTop))*N.y;h*=N.x,g*=N.y,y*=N.x,w*=N.y,h+=L,g+=D,R=$r(P),P=Ug(R)}}return mp({width:y,height:w,x:h,y:g})}function z0(n,e){const t=Bp(n).scrollLeft;return e?e.left+t:ml(xs(n)).left+t}function fx(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=r.left+e.scrollLeft-(t?0:z0(n,r)),l=r.top+e.scrollTop;return{x:s,y:l}}function G6(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const l=s==="fixed",c=xs(r),d=e?zp(e.floating):!1;if(r===c||d&&l)return t;let h={scrollLeft:0,scrollTop:0},g=ps(1);const y=ps(0),w=gs(r);if((w||!w&&!l)&&((pc(r)!=="body"||mf(c))&&(h=Bp(r)),gs(r))){const k=ml(r);g=Vu(r),y.x=k.x+r.clientLeft,y.y=k.y+r.clientTop}const _=c&&!w&&!l?fx(c,h,!0):ps(0);return{width:t.width*g.x,height:t.height*g.y,x:t.x*g.x-h.scrollLeft*g.x+y.x+_.x,y:t.y*g.y-h.scrollTop*g.y+y.y+_.y}}function U6(n){return Array.from(n.getClientRects())}function H6(n){const e=xs(n),t=Bp(n),r=n.ownerDocument.body,s=Wr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),l=Wr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-t.scrollLeft+z0(n);const d=-t.scrollTop;return Fi(r).direction==="rtl"&&(c+=Wr(e.clientWidth,r.clientWidth)-s),{width:s,height:l,x:c,y:d}}function V6(n,e){const t=$r(n),r=xs(n),s=t.visualViewport;let l=r.clientWidth,c=r.clientHeight,d=0,h=0;if(s){l=s.width,c=s.height;const g=j0();(!g||g&&e==="fixed")&&(d=s.offsetLeft,h=s.offsetTop)}return{width:l,height:c,x:d,y:h}}function W6(n,e){const t=ml(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,l=gs(n)?Vu(n):ps(1),c=n.clientWidth*l.x,d=n.clientHeight*l.y,h=s*l.x,g=r*l.y;return{width:c,height:d,x:h,y:g}}function Ay(n,e,t){let r;if(e==="viewport")r=V6(n,t);else if(e==="document")r=H6(xs(n));else if(ji(e))r=W6(e,t);else{const s=dx(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return mp(r)}function hx(n,e){const t=ga(n);return t===e||!ji(t)||nc(t)?!1:Fi(t).position==="fixed"||hx(t,e)}function Q6(n,e){const t=e.get(n);if(t)return t;let r=Yd(n,[],!1).filter(d=>ji(d)&&pc(d)!=="body"),s=null;const l=Fi(n).position==="fixed";let c=l?ga(n):n;for(;ji(c)&&!nc(c);){const d=Fi(c),h=D0(c);!h&&d.position==="fixed"&&(s=null),(l?!h&&!s:!h&&d.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||mf(c)&&!h&&hx(n,c))?r=r.filter(y=>y!==c):s=d,c=ga(c)}return e.set(n,r),r}function q6(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const c=[...t==="clippingAncestors"?zp(e)?[]:Q6(e,this._c):[].concat(t),r],d=c[0],h=c.reduce((g,y)=>{const w=Ay(e,y,s);return g.top=Wr(w.top,g.top),g.right=pa(w.right,g.right),g.bottom=pa(w.bottom,g.bottom),g.left=Wr(w.left,g.left),g},Ay(e,d,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function $6(n){const{width:e,height:t}=cx(n);return{width:e,height:t}}function X6(n,e,t){const r=gs(e),s=xs(e),l=t==="fixed",c=ml(n,!0,l,e);let d={scrollLeft:0,scrollTop:0};const h=ps(0);if(r||!r&&!l)if((pc(e)!=="body"||mf(s))&&(d=Bp(e)),r){const _=ml(e,!0,l,e);h.x=_.x+e.clientLeft,h.y=_.y+e.clientTop}else s&&(h.x=z0(s));const g=s&&!r&&!l?fx(s,d):ps(0),y=c.left+d.scrollLeft-h.x-g.x,w=c.top+d.scrollTop-h.y-g.y;return{x:y,y:w,width:c.width,height:c.height}}function eg(n){return Fi(n).position==="static"}function My(n,e){if(!gs(n)||Fi(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return xs(n)===t&&(t=t.ownerDocument.body),t}function px(n,e){const t=$r(n);if(zp(n))return t;if(!gs(n)){let s=ga(n);for(;s&&!nc(s);){if(ji(s)&&!eg(s))return s;s=ga(s)}return t}let r=My(n,e);for(;r&&j6(r)&&eg(r);)r=My(r,e);return r&&nc(r)&&eg(r)&&!D0(r)?t:r||F6(n)||t}const Y6=async function(n){const e=this.getOffsetParent||px,t=this.getDimensions,r=await t(n.floating);return{reference:X6(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function K6(n){return Fi(n).direction==="rtl"}const Z6={convertOffsetParentRelativeRectToViewportRelativeRect:G6,getDocumentElement:xs,getClippingRect:q6,getOffsetParent:px,getElementRects:Y6,getClientRects:U6,getDimensions:$6,getScale:Vu,isElement:ji,isRTL:K6};function mx(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function J6(n,e){let t=null,r;const s=xs(n);function l(){var d;clearTimeout(r),(d=t)==null||d.disconnect(),t=null}function c(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),l();const g=n.getBoundingClientRect(),{left:y,top:w,width:_,height:k}=g;if(d||e(),!_||!k)return;const R=Uh(w),P=Uh(s.clientWidth-(y+_)),N=Uh(s.clientHeight-(w+k)),M=Uh(y),L={rootMargin:-R+"px "+-P+"px "+-N+"px "+-M+"px",threshold:Wr(0,pa(1,h))||1};let D=!0;function z(U){const H=U[0].intersectionRatio;if(H!==h){if(!D)return c();H?c(!1,H):r=setTimeout(()=>{c(!1,1e-7)},1e3)}H===1&&!mx(g,n.getBoundingClientRect())&&c(),D=!1}try{t=new IntersectionObserver(z,{...L,root:s.ownerDocument})}catch{t=new IntersectionObserver(z,L)}t.observe(n)}return c(!0),l}function e8(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,g=F0(n),y=s||l?[...g?Yd(g):[],...Yd(e)]:[];y.forEach(M=>{s&&M.addEventListener("scroll",t,{passive:!0}),l&&M.addEventListener("resize",t)});const w=g&&d?J6(g,t):null;let _=-1,k=null;c&&(k=new ResizeObserver(M=>{let[I]=M;I&&I.target===g&&k&&(k.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var L;(L=k)==null||L.observe(e)})),t()}),g&&!h&&k.observe(g),k.observe(e));let R,P=h?ml(n):null;h&&N();function N(){const M=ml(n);P&&!mx(P,M)&&t(),P=M,R=requestAnimationFrame(N)}return t(),()=>{var M;y.forEach(I=>{s&&I.removeEventListener("scroll",t),l&&I.removeEventListener("resize",t)}),w?.(),(M=k)==null||M.disconnect(),k=null,h&&cancelAnimationFrame(R)}}const t8=I6,n8=O6,r8=N6,i8=D6,s8=A6,Iy=R6,o8=L6,a8=(n,e,t)=>{const r=new Map,s={platform:Z6,...t},l={...s.platform,_c:r};return k6(n,e,{...s,platform:l})};var sp=typeof document<"u"?b.useLayoutEffect:b.useEffect;function gp(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!gp(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const l=s[r];if(!(l==="_owner"&&n.$$typeof)&&!gp(n[l],e[l]))return!1}return!0}return n!==n&&e!==e}function gx(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Oy(n,e){const t=gx(n);return Math.round(e*t)/t}function tg(n){const e=b.useRef(n);return sp(()=>{e.current=n}),e}function l8(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:h,open:g}=n,[y,w]=b.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[_,k]=b.useState(r);gp(_,r)||k(r);const[R,P]=b.useState(null),[N,M]=b.useState(null),I=b.useCallback(Q=>{Q!==U.current&&(U.current=Q,P(Q))},[]),L=b.useCallback(Q=>{Q!==H.current&&(H.current=Q,M(Q))},[]),D=l||R,z=c||N,U=b.useRef(null),H=b.useRef(null),K=b.useRef(y),re=h!=null,ue=tg(h),ve=tg(s),ae=tg(g),ye=b.useCallback(()=>{if(!U.current||!H.current)return;const Q={placement:e,strategy:t,middleware:_};ve.current&&(Q.platform=ve.current),a8(U.current,H.current,Q).then(le=>{const ce={...le,isPositioned:ae.current!==!1};se.current&&!gp(K.current,ce)&&(K.current=ce,dc.flushSync(()=>{w(ce)}))})},[_,e,t,ve,ae]);sp(()=>{g===!1&&K.current.isPositioned&&(K.current.isPositioned=!1,w(Q=>({...Q,isPositioned:!1})))},[g]);const se=b.useRef(!1);sp(()=>(se.current=!0,()=>{se.current=!1}),[]),sp(()=>{if(D&&(U.current=D),z&&(H.current=z),D&&z){if(ue.current)return ue.current(D,z,ye);ye()}},[D,z,ye,ue,re]);const de=b.useMemo(()=>({reference:U,floating:H,setReference:I,setFloating:L}),[I,L]),ie=b.useMemo(()=>({reference:D,floating:z}),[D,z]),me=b.useMemo(()=>{const Q={position:t,left:0,top:0};if(!ie.floating)return Q;const le=Oy(ie.floating,y.x),ce=Oy(ie.floating,y.y);return d?{...Q,transform:"translate("+le+"px, "+ce+"px)",...gx(ie.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:le,top:ce}},[t,d,ie.floating,y.x,y.y]);return b.useMemo(()=>({...y,update:ye,refs:de,elements:ie,floatingStyles:me}),[y,ye,de,ie,me])}const u8=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Iy({element:r.current,padding:s}).fn(t):{}:r?Iy({element:r,padding:s}).fn(t):{}}}},c8=(n,e)=>({...t8(n),options:[n,e]}),d8=(n,e)=>({...n8(n),options:[n,e]}),f8=(n,e)=>({...o8(n),options:[n,e]}),h8=(n,e)=>({...r8(n),options:[n,e]}),p8=(n,e)=>({...i8(n),options:[n,e]}),m8=(n,e)=>({...s8(n),options:[n,e]}),g8=(n,e)=>({...u8(n),options:[n,e]});var y8="Arrow",yx=b.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...l}=n;return E.jsx(st.svg,{...l,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});yx.displayName=y8;var v8=yx;function vx(n){const[e,t]=b.useState(void 0);return ir(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const l=s[0];let c,d;if("borderBoxSize"in l){const h=l.borderBoxSize,g=Array.isArray(h)?h[0]:h;c=g.inlineSize,d=g.blockSize}else c=n.offsetWidth,d=n.offsetHeight;t({width:c,height:d})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var B0="Popper",[xx,Gp]=oo(B0),[x8,wx]=xx(B0),Sx=n=>{const{__scopePopper:e,children:t}=n,[r,s]=b.useState(null);return E.jsx(x8,{scope:e,anchor:r,onAnchorChange:s,children:t})};Sx.displayName=B0;var _x="PopperAnchor",Cx=b.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,l=wx(_x,t),c=b.useRef(null),d=_t(e,c);return b.useEffect(()=>{l.onAnchorChange(r?.current||c.current)}),r?null:E.jsx(st.div,{...s,ref:d})});Cx.displayName=_x;var G0="PopperContent",[w8,S8]=xx(G0),Ex=b.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:g=[],collisionPadding:y=0,sticky:w="partial",hideWhenDetached:_=!1,updatePositionStrategy:k="optimized",onPlaced:R,...P}=n,N=wx(G0,t),[M,I]=b.useState(null),L=_t(e,be=>I(be)),[D,z]=b.useState(null),U=vx(D),H=U?.width??0,K=U?.height??0,re=r+(l!=="center"?"-"+l:""),ue=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},ve=Array.isArray(g)?g:[g],ae=ve.length>0,ye={padding:ue,boundary:ve.filter(C8),altBoundary:ae},{refs:se,floatingStyles:de,placement:ie,isPositioned:me,middlewareData:Q}=l8({strategy:"fixed",placement:re,whileElementsMounted:(...be)=>e8(...be,{animationFrame:k==="always"}),elements:{reference:N.anchor},middleware:[c8({mainAxis:s+K,alignmentAxis:c}),h&&d8({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?f8():void 0,...ye}),h&&h8({...ye}),p8({...ye,apply:({elements:be,rects:Ue,availableWidth:Ze,availableHeight:Z})=>{const{width:Me,height:He}=Ue.reference,ot=be.floating.style;ot.setProperty("--radix-popper-available-width",`${Ze}px`),ot.setProperty("--radix-popper-available-height",`${Z}px`),ot.setProperty("--radix-popper-anchor-width",`${Me}px`),ot.setProperty("--radix-popper-anchor-height",`${He}px`)}}),D&&g8({element:D,padding:d}),E8({arrowWidth:H,arrowHeight:K}),_&&m8({strategy:"referenceHidden",...ye})]}),[le,ce]=bx(ie),B=Tn(R);ir(()=>{me&&B?.()},[me,B]);const X=Q.arrow?.x,Ae=Q.arrow?.y,Ve=Q.arrow?.centerOffset!==0,[tt,Ke]=b.useState();return ir(()=>{M&&Ke(window.getComputedStyle(M).zIndex)},[M]),E.jsx("div",{ref:se.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:me?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:tt,"--radix-popper-transform-origin":[Q.transformOrigin?.x,Q.transformOrigin?.y].join(" "),...Q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:E.jsx(w8,{scope:t,placedSide:le,onArrowChange:z,arrowX:X,arrowY:Ae,shouldHideArrow:Ve,children:E.jsx(st.div,{"data-side":le,"data-align":ce,...P,ref:L,style:{...P.style,animation:me?void 0:"none"}})})})});Ex.displayName=G0;var Px="PopperArrow",_8={top:"bottom",right:"left",bottom:"top",left:"right"},Tx=b.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,l=S8(Px,r),c=_8[l.placedSide];return E.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:E.jsx(v8,{...s,ref:t,style:{...s.style,display:"block"}})})});Tx.displayName=Px;function C8(n){return n!==null}var E8=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:s}=e,c=s.arrow?.centerOffset!==0,d=c?0:n.arrowWidth,h=c?0:n.arrowHeight,[g,y]=bx(t),w={start:"0%",center:"50%",end:"100%"}[y],_=(s.arrow?.x??0)+d/2,k=(s.arrow?.y??0)+h/2;let R="",P="";return g==="bottom"?(R=c?w:`${_}px`,P=`${-h}px`):g==="top"?(R=c?w:`${_}px`,P=`${r.floating.height+h}px`):g==="right"?(R=`${-h}px`,P=c?w:`${k}px`):g==="left"&&(R=`${r.floating.width+h}px`,P=c?w:`${k}px`),{data:{x:R,y:P}}}});function bx(n){const[e,t="center"]=n.split("-");return[e,t]}var P8=Sx,kx=Cx,Rx=Ex,Nx=Tx,[Up]=oo("Tooltip",[Gp]),U0=Gp(),Ax="TooltipProvider",T8=700,Ly="tooltip.open",[b8,Mx]=Up(Ax),Ix=n=>{const{__scopeTooltip:e,delayDuration:t=T8,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:l}=n,c=b.useRef(!0),d=b.useRef(!1),h=b.useRef(0);return b.useEffect(()=>{const g=h.current;return()=>window.clearTimeout(g)},[]),E.jsx(b8,{scope:e,isOpenDelayedRef:c,delayDuration:t,onOpen:b.useCallback(()=>{window.clearTimeout(h.current),c.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>c.current=!0,r)},[r]),isPointerInTransitRef:d,onPointerInTransitChange:b.useCallback(g=>{d.current=g},[]),disableHoverableContent:s,children:l})};Ix.displayName=Ax;var Ox="Tooltip",[HN,Hp]=Up(Ox),Hg="TooltipTrigger",k8=b.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=Hp(Hg,t),l=Mx(Hg,t),c=U0(t),d=b.useRef(null),h=_t(e,d,s.onTriggerChange),g=b.useRef(!1),y=b.useRef(!1),w=b.useCallback(()=>g.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",w),[w]),E.jsx(kx,{asChild:!0,...c,children:E.jsx(st.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:h,onPointerMove:qe(n.onPointerMove,_=>{_.pointerType!=="touch"&&!y.current&&!l.isPointerInTransitRef.current&&(s.onTriggerEnter(),y.current=!0)}),onPointerLeave:qe(n.onPointerLeave,()=>{s.onTriggerLeave(),y.current=!1}),onPointerDown:qe(n.onPointerDown,()=>{s.open&&s.onClose(),g.current=!0,document.addEventListener("pointerup",w,{once:!0})}),onFocus:qe(n.onFocus,()=>{g.current||s.onOpen()}),onBlur:qe(n.onBlur,s.onClose),onClick:qe(n.onClick,s.onClose)})})});k8.displayName=Hg;var R8="TooltipPortal",[VN,N8]=Up(R8,{forceMount:void 0}),rc="TooltipContent",Lx=b.forwardRef((n,e)=>{const t=N8(rc,n.__scopeTooltip),{forceMount:r=t.forceMount,side:s="top",...l}=n,c=Hp(rc,n.__scopeTooltip);return E.jsx(Bi,{present:r||c.open,children:c.disableHoverableContent?E.jsx(Dx,{side:s,...l,ref:e}):E.jsx(A8,{side:s,...l,ref:e})})}),A8=b.forwardRef((n,e)=>{const t=Hp(rc,n.__scopeTooltip),r=Mx(rc,n.__scopeTooltip),s=b.useRef(null),l=_t(e,s),[c,d]=b.useState(null),{trigger:h,onClose:g}=t,y=s.current,{onPointerInTransitChange:w}=r,_=b.useCallback(()=>{d(null),w(!1)},[w]),k=b.useCallback((R,P)=>{const N=R.currentTarget,M={x:R.clientX,y:R.clientY},I=D8(M,N.getBoundingClientRect()),L=j8(M,I),D=F8(P.getBoundingClientRect()),z=B8([...L,...D]);d(z),w(!0)},[w]);return b.useEffect(()=>()=>_(),[_]),b.useEffect(()=>{if(h&&y){const R=N=>k(N,y),P=N=>k(N,h);return h.addEventListener("pointerleave",R),y.addEventListener("pointerleave",P),()=>{h.removeEventListener("pointerleave",R),y.removeEventListener("pointerleave",P)}}},[h,y,k,_]),b.useEffect(()=>{if(c){const R=P=>{const N=P.target,M={x:P.clientX,y:P.clientY},I=h?.contains(N)||y?.contains(N),L=!z8(M,c);I?_():L&&(_(),g())};return document.addEventListener("pointermove",R),()=>document.removeEventListener("pointermove",R)}},[h,y,c,g,_]),E.jsx(Dx,{...n,ref:l})}),[M8,I8]=Up(Ox,{isInside:!1}),O8=D3("TooltipContent"),Dx=b.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":s,onEscapeKeyDown:l,onPointerDownOutside:c,...d}=n,h=Hp(rc,t),g=U0(t),{onClose:y}=h;return b.useEffect(()=>(document.addEventListener(Ly,y),()=>document.removeEventListener(Ly,y)),[y]),b.useEffect(()=>{if(h.trigger){const w=_=>{_.target?.contains(h.trigger)&&y()};return window.addEventListener("scroll",w,{capture:!0}),()=>window.removeEventListener("scroll",w,{capture:!0})}},[h.trigger,y]),E.jsx(hf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:w=>w.preventDefault(),onDismiss:y,children:E.jsxs(Rx,{"data-state":h.stateAttribute,...g,...d,ref:e,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[E.jsx(O8,{children:r}),E.jsx(M8,{scope:t,isInside:!0,children:E.jsx(n_,{id:h.contentId,role:"tooltip",children:s||r})})]})})});Lx.displayName=rc;var jx="TooltipArrow",L8=b.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=U0(t);return I8(jx,t).isInside?null:E.jsx(Nx,{...s,...r,ref:e})});L8.displayName=jx;function D8(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),s=Math.abs(e.right-n.x),l=Math.abs(e.left-n.x);switch(Math.min(t,r,s,l)){case l:return"left";case s:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function j8(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function F8(n){const{top:e,right:t,bottom:r,left:s}=n;return[{x:s,y:e},{x:t,y:e},{x:t,y:r},{x:s,y:r}]}function z8(n,e){const{x:t,y:r}=n;let s=!1;for(let l=0,c=e.length-1;l<e.length;c=l++){const d=e[l].x,h=e[l].y,g=e[c].x,y=e[c].y;h>r!=y>r&&t<(g-d)*(r-h)/(y-h)+d&&(s=!s)}return s}function B8(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),G8(e)}function G8(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const s=n[r];for(;e.length>=2;){const l=e[e.length-1],c=e[e.length-2];if((l.x-c.x)*(s.y-c.y)>=(l.y-c.y)*(s.x-c.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const s=n[r];for(;t.length>=2;){const l=t[t.length-1],c=t[t.length-2];if((l.x-c.x)*(s.y-c.y)>=(l.y-c.y)*(s.x-c.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var U8=Ix,Fx=Lx;const H8=U8,V8=b.forwardRef(({className:n,sideOffset:e=4,...t},r)=>E.jsx(Fx,{ref:r,sideOffset:e,className:mt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",n),...t}));V8.displayName=Fx.displayName;var vt;(function(n){n.assertEqual=s=>s;function e(s){}n.assertIs=e;function t(s){throw new Error}n.assertNever=t,n.arrayToEnum=s=>{const l={};for(const c of s)l[c]=c;return l},n.getValidEnumValues=s=>{const l=n.objectKeys(s).filter(d=>typeof s[s[d]]!="number"),c={};for(const d of l)c[d]=s[d];return n.objectValues(c)},n.objectValues=s=>n.objectKeys(s).map(function(l){return s[l]}),n.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const l=[];for(const c in s)Object.prototype.hasOwnProperty.call(s,c)&&l.push(c);return l},n.find=(s,l)=>{for(const c of s)if(l(c))return c},n.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,l=" | "){return s.map(c=>typeof c=="string"?`'${c}'`:c).join(l)}n.joinValues=r,n.jsonStringifyReplacer=(s,l)=>typeof l=="bigint"?l.toString():l})(vt||(vt={}));var Vg;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Vg||(Vg={}));const Oe=vt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),no=n=>{switch(typeof n){case"undefined":return Oe.undefined;case"string":return Oe.string;case"number":return isNaN(n)?Oe.nan:Oe.number;case"boolean":return Oe.boolean;case"function":return Oe.function;case"bigint":return Oe.bigint;case"symbol":return Oe.symbol;case"object":return Array.isArray(n)?Oe.array:n===null?Oe.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Oe.promise:typeof Map<"u"&&n instanceof Map?Oe.map:typeof Set<"u"&&n instanceof Set?Oe.set:typeof Date<"u"&&n instanceof Date?Oe.date:Oe.object;default:return Oe.unknown}},we=vt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),W8=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class Xr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(l){return l.message},r={_errors:[]},s=l=>{for(const c of l.issues)if(c.code==="invalid_union")c.unionErrors.map(s);else if(c.code==="invalid_return_type")s(c.returnTypeError);else if(c.code==="invalid_arguments")s(c.argumentsError);else if(c.path.length===0)r._errors.push(t(c));else{let d=r,h=0;for(;h<c.path.length;){const g=c.path[h];h===c.path.length-1?(d[g]=d[g]||{_errors:[]},d[g]._errors.push(t(c))):d[g]=d[g]||{_errors:[]},d=d[g],h++}}};return s(this),r}static assert(e){if(!(e instanceof Xr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,vt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Xr.create=n=>new Xr(n);const ic=(n,e)=>{let t;switch(n.code){case we.invalid_type:n.received===Oe.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case we.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,vt.jsonStringifyReplacer)}`;break;case we.unrecognized_keys:t=`Unrecognized key(s) in object: ${vt.joinValues(n.keys,", ")}`;break;case we.invalid_union:t="Invalid input";break;case we.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${vt.joinValues(n.options)}`;break;case we.invalid_enum_value:t=`Invalid enum value. Expected ${vt.joinValues(n.options)}, received '${n.received}'`;break;case we.invalid_arguments:t="Invalid function arguments";break;case we.invalid_return_type:t="Invalid function return type";break;case we.invalid_date:t="Invalid date";break;case we.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:vt.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case we.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case we.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case we.custom:t="Invalid input";break;case we.invalid_intersection_types:t="Intersection results could not be merged";break;case we.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case we.not_finite:t="Number must be finite";break;default:t=e.defaultError,vt.assertNever(n)}return{message:t}};let zx=ic;function Q8(n){zx=n}function yp(){return zx}const vp=n=>{const{data:e,path:t,errorMaps:r,issueData:s}=n,l=[...t,...s.path||[]],c={...s,path:l};if(s.message!==void 0)return{...s,path:l,message:s.message};let d="";const h=r.filter(g=>!!g).slice().reverse();for(const g of h)d=g(c,{data:e,defaultError:d}).message;return{...s,path:l,message:d}},q8=[];function Re(n,e){const t=yp(),r=vp({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===ic?void 0:ic].filter(s=>!!s)});n.common.issues.push(r)}class fr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const s of t){if(s.status==="aborted")return Xe;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const s of t){const l=await s.key,c=await s.value;r.push({key:l,value:c})}return fr.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const s of t){const{key:l,value:c}=s;if(l.status==="aborted"||c.status==="aborted")return Xe;l.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),l.value!=="__proto__"&&(typeof c.value<"u"||s.alwaysSet)&&(r[l.value]=c.value)}return{status:e.value,value:r}}}const Xe=Object.freeze({status:"aborted"}),zu=n=>({status:"dirty",value:n}),Tr=n=>({status:"valid",value:n}),Wg=n=>n.status==="aborted",Qg=n=>n.status==="dirty",gl=n=>n.status==="valid",Kd=n=>typeof Promise<"u"&&n instanceof Promise;function xp(n,e,t,r){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function Bx(n,e,t,r,s){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var Be;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e?.message})(Be||(Be={}));var Rd,Nd;class ys{constructor(e,t,r,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Dy=(n,e)=>{if(gl(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Xr(n.common.issues);return this._error=t,this._error}}};function it(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:s}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(c,d)=>{var h,g;const{message:y}=n;return c.code==="invalid_enum_value"?{message:y??d.defaultError}:typeof d.data>"u"?{message:(h=y??r)!==null&&h!==void 0?h:d.defaultError}:c.code!=="invalid_type"?{message:d.defaultError}:{message:(g=y??t)!==null&&g!==void 0?g:d.defaultError}},description:s}}class ut{get description(){return this._def.description}_getType(e){return no(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:no(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new fr,ctx:{common:e.parent.common,data:e.data,parsedType:no(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Kd(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const s={common:{issues:[],async:(r=t?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:no(e)},l=this._parseSync({data:e,path:s.path,parent:s});return Dy(s,l)}"~validate"(e){var t,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:no(e)};if(!this["~standard"].async)try{const l=this._parseSync({data:e,path:[],parent:s});return gl(l)?{value:l.value}:{issues:s.common.issues}}catch(l){!((r=(t=l?.message)===null||t===void 0?void 0:t.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(l=>gl(l)?{value:l.value}:{issues:s.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:no(e)},s=this._parse({data:e,path:r.path,parent:r}),l=await(Kd(s)?s:Promise.resolve(s));return Dy(r,l)}refine(e,t){const r=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,l)=>{const c=e(s),d=()=>l.addIssue({code:we.custom,...r(s)});return typeof Promise<"u"&&c instanceof Promise?c.then(h=>h?!0:(d(),!1)):c?!0:(d(),!1)})}refinement(e,t){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof t=="function"?t(r,s):t),!1))}_refinement(e){return new zi({schema:this,typeName:$e.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return ms.create(this,this._def)}nullable(){return wa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Di.create(this)}promise(){return oc.create(this,this._def)}or(e){return tf.create([this,e],this._def)}and(e){return nf.create(this,e,this._def)}transform(e){return new zi({...it(this._def),schema:this,typeName:$e.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new lf({...it(this._def),innerType:this,defaultValue:t,typeName:$e.ZodDefault})}brand(){return new H0({typeName:$e.ZodBranded,type:this,...it(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new uf({...it(this._def),innerType:this,catchValue:t,typeName:$e.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return gf.create(this,e)}readonly(){return cf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const $8=/^c[^\s-]{8,}$/i,X8=/^[0-9a-z]+$/,Y8=/^[0-9A-HJKMNP-TV-Z]{26}$/i,K8=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Z8=/^[a-z0-9_-]{21}$/i,J8=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,eC=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,tC=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ng;const rC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,iC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,sC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,oC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,aC=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,lC=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Gx="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",uC=new RegExp(`^${Gx}$`);function Ux(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function cC(n){return new RegExp(`^${Ux(n)}$`)}function Hx(n){let e=`${Gx}T${Ux(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function dC(n,e){return!!((e==="v4"||!e)&&rC.test(n)||(e==="v6"||!e)&&sC.test(n))}function fC(n,e){if(!J8.test(n))return!1;try{const[t]=n.split("."),r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function hC(n,e){return!!((e==="v4"||!e)&&iC.test(n)||(e==="v6"||!e)&&oC.test(n))}class Li extends ut{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Oe.string){const l=this._getOrReturnCtx(e);return Re(l,{code:we.invalid_type,expected:Oe.string,received:l.parsedType}),Xe}const r=new fr;let s;for(const l of this._def.checks)if(l.kind==="min")e.data.length<l.value&&(s=this._getOrReturnCtx(e,s),Re(s,{code:we.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),r.dirty());else if(l.kind==="max")e.data.length>l.value&&(s=this._getOrReturnCtx(e,s),Re(s,{code:we.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),r.dirty());else if(l.kind==="length"){const c=e.data.length>l.value,d=e.data.length<l.value;(c||d)&&(s=this._getOrReturnCtx(e,s),c?Re(s,{code:we.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):d&&Re(s,{code:we.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),r.dirty())}else if(l.kind==="email")tC.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"email",code:we.invalid_string,message:l.message}),r.dirty());else if(l.kind==="emoji")ng||(ng=new RegExp(nC,"u")),ng.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"emoji",code:we.invalid_string,message:l.message}),r.dirty());else if(l.kind==="uuid")K8.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"uuid",code:we.invalid_string,message:l.message}),r.dirty());else if(l.kind==="nanoid")Z8.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"nanoid",code:we.invalid_string,message:l.message}),r.dirty());else if(l.kind==="cuid")$8.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"cuid",code:we.invalid_string,message:l.message}),r.dirty());else if(l.kind==="cuid2")X8.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"cuid2",code:we.invalid_string,message:l.message}),r.dirty());else if(l.kind==="ulid")Y8.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"ulid",code:we.invalid_string,message:l.message}),r.dirty());else if(l.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Re(s,{validation:"url",code:we.invalid_string,message:l.message}),r.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"regex",code:we.invalid_string,message:l.message}),r.dirty())):l.kind==="trim"?e.data=e.data.trim():l.kind==="includes"?e.data.includes(l.value,l.position)||(s=this._getOrReturnCtx(e,s),Re(s,{code:we.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),r.dirty()):l.kind==="toLowerCase"?e.data=e.data.toLowerCase():l.kind==="toUpperCase"?e.data=e.data.toUpperCase():l.kind==="startsWith"?e.data.startsWith(l.value)||(s=this._getOrReturnCtx(e,s),Re(s,{code:we.invalid_string,validation:{startsWith:l.value},message:l.message}),r.dirty()):l.kind==="endsWith"?e.data.endsWith(l.value)||(s=this._getOrReturnCtx(e,s),Re(s,{code:we.invalid_string,validation:{endsWith:l.value},message:l.message}),r.dirty()):l.kind==="datetime"?Hx(l).test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{code:we.invalid_string,validation:"datetime",message:l.message}),r.dirty()):l.kind==="date"?uC.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{code:we.invalid_string,validation:"date",message:l.message}),r.dirty()):l.kind==="time"?cC(l).test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{code:we.invalid_string,validation:"time",message:l.message}),r.dirty()):l.kind==="duration"?eC.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"duration",code:we.invalid_string,message:l.message}),r.dirty()):l.kind==="ip"?dC(e.data,l.version)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"ip",code:we.invalid_string,message:l.message}),r.dirty()):l.kind==="jwt"?fC(e.data,l.alg)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"jwt",code:we.invalid_string,message:l.message}),r.dirty()):l.kind==="cidr"?hC(e.data,l.version)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"cidr",code:we.invalid_string,message:l.message}),r.dirty()):l.kind==="base64"?aC.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"base64",code:we.invalid_string,message:l.message}),r.dirty()):l.kind==="base64url"?lC.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"base64url",code:we.invalid_string,message:l.message}),r.dirty()):vt.assertNever(l);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(s=>e.test(s),{validation:t,code:we.invalid_string,...Be.errToObj(r)})}_addCheck(e){return new Li({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Be.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Be.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Be.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Be.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Be.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Be.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Be.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Be.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Be.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Be.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Be.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Be.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Be.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(t=e?.offset)!==null&&t!==void 0?t:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...Be.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Be.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Be.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Be.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...Be.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Be.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Be.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Be.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Be.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Be.errToObj(t)})}nonempty(e){return this.min(1,Be.errToObj(e))}trim(){return new Li({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Li({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Li({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Li.create=n=>{var e;return new Li({checks:[],typeName:$e.ZodString,coerce:(e=n?.coerce)!==null&&e!==void 0?e:!1,...it(n)})};function pC(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=t>r?t:r,l=parseInt(n.toFixed(s).replace(".","")),c=parseInt(e.toFixed(s).replace(".",""));return l%c/Math.pow(10,s)}class ya extends ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Oe.number){const l=this._getOrReturnCtx(e);return Re(l,{code:we.invalid_type,expected:Oe.number,received:l.parsedType}),Xe}let r;const s=new fr;for(const l of this._def.checks)l.kind==="int"?vt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Re(r,{code:we.invalid_type,expected:"integer",received:"float",message:l.message}),s.dirty()):l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:we.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),s.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:we.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),s.dirty()):l.kind==="multipleOf"?pC(e.data,l.value)!==0&&(r=this._getOrReturnCtx(e,r),Re(r,{code:we.not_multiple_of,multipleOf:l.value,message:l.message}),s.dirty()):l.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Re(r,{code:we.not_finite,message:l.message}),s.dirty()):vt.assertNever(l);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Be.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Be.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Be.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Be.toString(t))}setLimit(e,t,r,s){return new ya({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Be.toString(s)}]})}_addCheck(e){return new ya({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Be.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Be.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Be.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Be.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Be.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Be.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&vt.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ya.create=n=>new ya({checks:[],typeName:$e.ZodNumber,coerce:n?.coerce||!1,...it(n)});class va extends ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Oe.bigint)return this._getInvalidInput(e);let r;const s=new fr;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:we.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),s.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:we.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),s.dirty()):l.kind==="multipleOf"?e.data%l.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:we.not_multiple_of,multipleOf:l.value,message:l.message}),s.dirty()):vt.assertNever(l);return{status:s.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Re(t,{code:we.invalid_type,expected:Oe.bigint,received:t.parsedType}),Xe}gte(e,t){return this.setLimit("min",e,!0,Be.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Be.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Be.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Be.toString(t))}setLimit(e,t,r,s){return new va({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Be.toString(s)}]})}_addCheck(e){return new va({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Be.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Be.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}va.create=n=>{var e;return new va({checks:[],typeName:$e.ZodBigInt,coerce:(e=n?.coerce)!==null&&e!==void 0?e:!1,...it(n)})};class Zd extends ut{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Oe.boolean){const r=this._getOrReturnCtx(e);return Re(r,{code:we.invalid_type,expected:Oe.boolean,received:r.parsedType}),Xe}return Tr(e.data)}}Zd.create=n=>new Zd({typeName:$e.ZodBoolean,coerce:n?.coerce||!1,...it(n)});class yl extends ut{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Oe.date){const l=this._getOrReturnCtx(e);return Re(l,{code:we.invalid_type,expected:Oe.date,received:l.parsedType}),Xe}if(isNaN(e.data.getTime())){const l=this._getOrReturnCtx(e);return Re(l,{code:we.invalid_date}),Xe}const r=new fr;let s;for(const l of this._def.checks)l.kind==="min"?e.data.getTime()<l.value&&(s=this._getOrReturnCtx(e,s),Re(s,{code:we.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),r.dirty()):l.kind==="max"?e.data.getTime()>l.value&&(s=this._getOrReturnCtx(e,s),Re(s,{code:we.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),r.dirty()):vt.assertNever(l);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new yl({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Be.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Be.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}yl.create=n=>new yl({checks:[],coerce:n?.coerce||!1,typeName:$e.ZodDate,...it(n)});class wp extends ut{_parse(e){if(this._getType(e)!==Oe.symbol){const r=this._getOrReturnCtx(e);return Re(r,{code:we.invalid_type,expected:Oe.symbol,received:r.parsedType}),Xe}return Tr(e.data)}}wp.create=n=>new wp({typeName:$e.ZodSymbol,...it(n)});class Jd extends ut{_parse(e){if(this._getType(e)!==Oe.undefined){const r=this._getOrReturnCtx(e);return Re(r,{code:we.invalid_type,expected:Oe.undefined,received:r.parsedType}),Xe}return Tr(e.data)}}Jd.create=n=>new Jd({typeName:$e.ZodUndefined,...it(n)});class ef extends ut{_parse(e){if(this._getType(e)!==Oe.null){const r=this._getOrReturnCtx(e);return Re(r,{code:we.invalid_type,expected:Oe.null,received:r.parsedType}),Xe}return Tr(e.data)}}ef.create=n=>new ef({typeName:$e.ZodNull,...it(n)});class sc extends ut{constructor(){super(...arguments),this._any=!0}_parse(e){return Tr(e.data)}}sc.create=n=>new sc({typeName:$e.ZodAny,...it(n)});class dl extends ut{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Tr(e.data)}}dl.create=n=>new dl({typeName:$e.ZodUnknown,...it(n)});class so extends ut{_parse(e){const t=this._getOrReturnCtx(e);return Re(t,{code:we.invalid_type,expected:Oe.never,received:t.parsedType}),Xe}}so.create=n=>new so({typeName:$e.ZodNever,...it(n)});class Sp extends ut{_parse(e){if(this._getType(e)!==Oe.undefined){const r=this._getOrReturnCtx(e);return Re(r,{code:we.invalid_type,expected:Oe.void,received:r.parsedType}),Xe}return Tr(e.data)}}Sp.create=n=>new Sp({typeName:$e.ZodVoid,...it(n)});class Di extends ut{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),s=this._def;if(t.parsedType!==Oe.array)return Re(t,{code:we.invalid_type,expected:Oe.array,received:t.parsedType}),Xe;if(s.exactLength!==null){const c=t.data.length>s.exactLength.value,d=t.data.length<s.exactLength.value;(c||d)&&(Re(t,{code:c?we.too_big:we.too_small,minimum:d?s.exactLength.value:void 0,maximum:c?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(Re(t,{code:we.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(Re(t,{code:we.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((c,d)=>s.type._parseAsync(new ys(t,c,t.path,d)))).then(c=>fr.mergeArray(r,c));const l=[...t.data].map((c,d)=>s.type._parseSync(new ys(t,c,t.path,d)));return fr.mergeArray(r,l)}get element(){return this._def.type}min(e,t){return new Di({...this._def,minLength:{value:e,message:Be.toString(t)}})}max(e,t){return new Di({...this._def,maxLength:{value:e,message:Be.toString(t)}})}length(e,t){return new Di({...this._def,exactLength:{value:e,message:Be.toString(t)}})}nonempty(e){return this.min(1,e)}}Di.create=(n,e)=>new Di({type:n,minLength:null,maxLength:null,exactLength:null,typeName:$e.ZodArray,...it(e)});function Fu(n){if(n instanceof tn){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=ms.create(Fu(r))}return new tn({...n._def,shape:()=>e})}else return n instanceof Di?new Di({...n._def,type:Fu(n.element)}):n instanceof ms?ms.create(Fu(n.unwrap())):n instanceof wa?wa.create(Fu(n.unwrap())):n instanceof vs?vs.create(n.items.map(e=>Fu(e))):n}class tn extends ut{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=vt.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Oe.object){const g=this._getOrReturnCtx(e);return Re(g,{code:we.invalid_type,expected:Oe.object,received:g.parsedType}),Xe}const{status:r,ctx:s}=this._processInputParams(e),{shape:l,keys:c}=this._getCached(),d=[];if(!(this._def.catchall instanceof so&&this._def.unknownKeys==="strip"))for(const g in s.data)c.includes(g)||d.push(g);const h=[];for(const g of c){const y=l[g],w=s.data[g];h.push({key:{status:"valid",value:g},value:y._parse(new ys(s,w,s.path,g)),alwaysSet:g in s.data})}if(this._def.catchall instanceof so){const g=this._def.unknownKeys;if(g==="passthrough")for(const y of d)h.push({key:{status:"valid",value:y},value:{status:"valid",value:s.data[y]}});else if(g==="strict")d.length>0&&(Re(s,{code:we.unrecognized_keys,keys:d}),r.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const g=this._def.catchall;for(const y of d){const w=s.data[y];h.push({key:{status:"valid",value:y},value:g._parse(new ys(s,w,s.path,y)),alwaysSet:y in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const g=[];for(const y of h){const w=await y.key,_=await y.value;g.push({key:w,value:_,alwaysSet:y.alwaysSet})}return g}).then(g=>fr.mergeObjectSync(r,g)):fr.mergeObjectSync(r,h)}get shape(){return this._def.shape()}strict(e){return Be.errToObj,new tn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var s,l,c,d;const h=(c=(l=(s=this._def).errorMap)===null||l===void 0?void 0:l.call(s,t,r).message)!==null&&c!==void 0?c:r.defaultError;return t.code==="unrecognized_keys"?{message:(d=Be.errToObj(e).message)!==null&&d!==void 0?d:h}:{message:h}}}:{}})}strip(){return new tn({...this._def,unknownKeys:"strip"})}passthrough(){return new tn({...this._def,unknownKeys:"passthrough"})}extend(e){return new tn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new tn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:$e.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new tn({...this._def,catchall:e})}pick(e){const t={};return vt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new tn({...this._def,shape:()=>t})}omit(e){const t={};return vt.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new tn({...this._def,shape:()=>t})}deepPartial(){return Fu(this)}partial(e){const t={};return vt.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?t[r]=s:t[r]=s.optional()}),new tn({...this._def,shape:()=>t})}required(e){const t={};return vt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let l=this.shape[r];for(;l instanceof ms;)l=l._def.innerType;t[r]=l}}),new tn({...this._def,shape:()=>t})}keyof(){return Vx(vt.objectKeys(this.shape))}}tn.create=(n,e)=>new tn({shape:()=>n,unknownKeys:"strip",catchall:so.create(),typeName:$e.ZodObject,...it(e)});tn.strictCreate=(n,e)=>new tn({shape:()=>n,unknownKeys:"strict",catchall:so.create(),typeName:$e.ZodObject,...it(e)});tn.lazycreate=(n,e)=>new tn({shape:n,unknownKeys:"strip",catchall:so.create(),typeName:$e.ZodObject,...it(e)});class tf extends ut{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function s(l){for(const d of l)if(d.result.status==="valid")return d.result;for(const d of l)if(d.result.status==="dirty")return t.common.issues.push(...d.ctx.common.issues),d.result;const c=l.map(d=>new Xr(d.ctx.common.issues));return Re(t,{code:we.invalid_union,unionErrors:c}),Xe}if(t.common.async)return Promise.all(r.map(async l=>{const c={...t,common:{...t.common,issues:[]},parent:null};return{result:await l._parseAsync({data:t.data,path:t.path,parent:c}),ctx:c}})).then(s);{let l;const c=[];for(const h of r){const g={...t,common:{...t.common,issues:[]},parent:null},y=h._parseSync({data:t.data,path:t.path,parent:g});if(y.status==="valid")return y;y.status==="dirty"&&!l&&(l={result:y,ctx:g}),g.common.issues.length&&c.push(g.common.issues)}if(l)return t.common.issues.push(...l.ctx.common.issues),l.result;const d=c.map(h=>new Xr(h));return Re(t,{code:we.invalid_union,unionErrors:d}),Xe}}get options(){return this._def.options}}tf.create=(n,e)=>new tf({options:n,typeName:$e.ZodUnion,...it(e)});const eo=n=>n instanceof sf?eo(n.schema):n instanceof zi?eo(n.innerType()):n instanceof of?[n.value]:n instanceof xa?n.options:n instanceof af?vt.objectValues(n.enum):n instanceof lf?eo(n._def.innerType):n instanceof Jd?[void 0]:n instanceof ef?[null]:n instanceof ms?[void 0,...eo(n.unwrap())]:n instanceof wa?[null,...eo(n.unwrap())]:n instanceof H0||n instanceof cf?eo(n.unwrap()):n instanceof uf?eo(n._def.innerType):[];class Vp extends ut{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Oe.object)return Re(t,{code:we.invalid_type,expected:Oe.object,received:t.parsedType}),Xe;const r=this.discriminator,s=t.data[r],l=this.optionsMap.get(s);return l?t.common.async?l._parseAsync({data:t.data,path:t.path,parent:t}):l._parseSync({data:t.data,path:t.path,parent:t}):(Re(t,{code:we.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Xe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const s=new Map;for(const l of t){const c=eo(l.shape[e]);if(!c.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const d of c){if(s.has(d))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(d)}`);s.set(d,l)}}return new Vp({typeName:$e.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...it(r)})}}function qg(n,e){const t=no(n),r=no(e);if(n===e)return{valid:!0,data:n};if(t===Oe.object&&r===Oe.object){const s=vt.objectKeys(e),l=vt.objectKeys(n).filter(d=>s.indexOf(d)!==-1),c={...n,...e};for(const d of l){const h=qg(n[d],e[d]);if(!h.valid)return{valid:!1};c[d]=h.data}return{valid:!0,data:c}}else if(t===Oe.array&&r===Oe.array){if(n.length!==e.length)return{valid:!1};const s=[];for(let l=0;l<n.length;l++){const c=n[l],d=e[l],h=qg(c,d);if(!h.valid)return{valid:!1};s.push(h.data)}return{valid:!0,data:s}}else return t===Oe.date&&r===Oe.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class nf extends ut{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=(l,c)=>{if(Wg(l)||Wg(c))return Xe;const d=qg(l.value,c.value);return d.valid?((Qg(l)||Qg(c))&&t.dirty(),{status:t.value,value:d.data}):(Re(r,{code:we.invalid_intersection_types}),Xe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([l,c])=>s(l,c)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}nf.create=(n,e,t)=>new nf({left:n,right:e,typeName:$e.ZodIntersection,...it(t)});class vs extends ut{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Oe.array)return Re(r,{code:we.invalid_type,expected:Oe.array,received:r.parsedType}),Xe;if(r.data.length<this._def.items.length)return Re(r,{code:we.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Xe;!this._def.rest&&r.data.length>this._def.items.length&&(Re(r,{code:we.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const l=[...r.data].map((c,d)=>{const h=this._def.items[d]||this._def.rest;return h?h._parse(new ys(r,c,r.path,d)):null}).filter(c=>!!c);return r.common.async?Promise.all(l).then(c=>fr.mergeArray(t,c)):fr.mergeArray(t,l)}get items(){return this._def.items}rest(e){return new vs({...this._def,rest:e})}}vs.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new vs({items:n,typeName:$e.ZodTuple,rest:null,...it(e)})};class rf extends ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Oe.object)return Re(r,{code:we.invalid_type,expected:Oe.object,received:r.parsedType}),Xe;const s=[],l=this._def.keyType,c=this._def.valueType;for(const d in r.data)s.push({key:l._parse(new ys(r,d,r.path,d)),value:c._parse(new ys(r,r.data[d],r.path,d)),alwaysSet:d in r.data});return r.common.async?fr.mergeObjectAsync(t,s):fr.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof ut?new rf({keyType:e,valueType:t,typeName:$e.ZodRecord,...it(r)}):new rf({keyType:Li.create(),valueType:e,typeName:$e.ZodRecord,...it(t)})}}class _p extends ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Oe.map)return Re(r,{code:we.invalid_type,expected:Oe.map,received:r.parsedType}),Xe;const s=this._def.keyType,l=this._def.valueType,c=[...r.data.entries()].map(([d,h],g)=>({key:s._parse(new ys(r,d,r.path,[g,"key"])),value:l._parse(new ys(r,h,r.path,[g,"value"]))}));if(r.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const h of c){const g=await h.key,y=await h.value;if(g.status==="aborted"||y.status==="aborted")return Xe;(g.status==="dirty"||y.status==="dirty")&&t.dirty(),d.set(g.value,y.value)}return{status:t.value,value:d}})}else{const d=new Map;for(const h of c){const g=h.key,y=h.value;if(g.status==="aborted"||y.status==="aborted")return Xe;(g.status==="dirty"||y.status==="dirty")&&t.dirty(),d.set(g.value,y.value)}return{status:t.value,value:d}}}}_p.create=(n,e,t)=>new _p({valueType:e,keyType:n,typeName:$e.ZodMap,...it(t)});class vl extends ut{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Oe.set)return Re(r,{code:we.invalid_type,expected:Oe.set,received:r.parsedType}),Xe;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Re(r,{code:we.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Re(r,{code:we.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const l=this._def.valueType;function c(h){const g=new Set;for(const y of h){if(y.status==="aborted")return Xe;y.status==="dirty"&&t.dirty(),g.add(y.value)}return{status:t.value,value:g}}const d=[...r.data.values()].map((h,g)=>l._parse(new ys(r,h,r.path,g)));return r.common.async?Promise.all(d).then(h=>c(h)):c(d)}min(e,t){return new vl({...this._def,minSize:{value:e,message:Be.toString(t)}})}max(e,t){return new vl({...this._def,maxSize:{value:e,message:Be.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}vl.create=(n,e)=>new vl({valueType:n,minSize:null,maxSize:null,typeName:$e.ZodSet,...it(e)});class Wu extends ut{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Oe.function)return Re(t,{code:we.invalid_type,expected:Oe.function,received:t.parsedType}),Xe;function r(d,h){return vp({data:d,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,yp(),ic].filter(g=>!!g),issueData:{code:we.invalid_arguments,argumentsError:h}})}function s(d,h){return vp({data:d,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,yp(),ic].filter(g=>!!g),issueData:{code:we.invalid_return_type,returnTypeError:h}})}const l={errorMap:t.common.contextualErrorMap},c=t.data;if(this._def.returns instanceof oc){const d=this;return Tr(async function(...h){const g=new Xr([]),y=await d._def.args.parseAsync(h,l).catch(k=>{throw g.addIssue(r(h,k)),g}),w=await Reflect.apply(c,this,y);return await d._def.returns._def.type.parseAsync(w,l).catch(k=>{throw g.addIssue(s(w,k)),g})})}else{const d=this;return Tr(function(...h){const g=d._def.args.safeParse(h,l);if(!g.success)throw new Xr([r(h,g.error)]);const y=Reflect.apply(c,this,g.data),w=d._def.returns.safeParse(y,l);if(!w.success)throw new Xr([s(y,w.error)]);return w.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Wu({...this._def,args:vs.create(e).rest(dl.create())})}returns(e){return new Wu({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new Wu({args:e||vs.create([]).rest(dl.create()),returns:t||dl.create(),typeName:$e.ZodFunction,...it(r)})}}class sf extends ut{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}sf.create=(n,e)=>new sf({getter:n,typeName:$e.ZodLazy,...it(e)});class of extends ut{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Re(t,{received:t.data,code:we.invalid_literal,expected:this._def.value}),Xe}return{status:"valid",value:e.data}}get value(){return this._def.value}}of.create=(n,e)=>new of({value:n,typeName:$e.ZodLiteral,...it(e)});function Vx(n,e){return new xa({values:n,typeName:$e.ZodEnum,...it(e)})}class xa extends ut{constructor(){super(...arguments),Rd.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return Re(t,{expected:vt.joinValues(r),received:t.parsedType,code:we.invalid_type}),Xe}if(xp(this,Rd)||Bx(this,Rd,new Set(this._def.values)),!xp(this,Rd).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return Re(t,{received:t.data,code:we.invalid_enum_value,options:r}),Xe}return Tr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return xa.create(e,{...this._def,...t})}exclude(e,t=this._def){return xa.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}Rd=new WeakMap;xa.create=Vx;class af extends ut{constructor(){super(...arguments),Nd.set(this,void 0)}_parse(e){const t=vt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Oe.string&&r.parsedType!==Oe.number){const s=vt.objectValues(t);return Re(r,{expected:vt.joinValues(s),received:r.parsedType,code:we.invalid_type}),Xe}if(xp(this,Nd)||Bx(this,Nd,new Set(vt.getValidEnumValues(this._def.values))),!xp(this,Nd).has(e.data)){const s=vt.objectValues(t);return Re(r,{received:r.data,code:we.invalid_enum_value,options:s}),Xe}return Tr(e.data)}get enum(){return this._def.values}}Nd=new WeakMap;af.create=(n,e)=>new af({values:n,typeName:$e.ZodNativeEnum,...it(e)});class oc extends ut{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Oe.promise&&t.common.async===!1)return Re(t,{code:we.invalid_type,expected:Oe.promise,received:t.parsedType}),Xe;const r=t.parsedType===Oe.promise?t.data:Promise.resolve(t.data);return Tr(r.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}oc.create=(n,e)=>new oc({type:n,typeName:$e.ZodPromise,...it(e)});class zi extends ut{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$e.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=this._def.effect||null,l={addIssue:c=>{Re(r,c),c.fatal?t.abort():t.dirty()},get path(){return r.path}};if(l.addIssue=l.addIssue.bind(l),s.type==="preprocess"){const c=s.transform(r.data,l);if(r.common.async)return Promise.resolve(c).then(async d=>{if(t.value==="aborted")return Xe;const h=await this._def.schema._parseAsync({data:d,path:r.path,parent:r});return h.status==="aborted"?Xe:h.status==="dirty"||t.value==="dirty"?zu(h.value):h});{if(t.value==="aborted")return Xe;const d=this._def.schema._parseSync({data:c,path:r.path,parent:r});return d.status==="aborted"?Xe:d.status==="dirty"||t.value==="dirty"?zu(d.value):d}}if(s.type==="refinement"){const c=d=>{const h=s.refinement(d,l);if(r.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(r.common.async===!1){const d=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return d.status==="aborted"?Xe:(d.status==="dirty"&&t.dirty(),c(d.value),{status:t.value,value:d.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(d=>d.status==="aborted"?Xe:(d.status==="dirty"&&t.dirty(),c(d.value).then(()=>({status:t.value,value:d.value}))))}if(s.type==="transform")if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!gl(c))return c;const d=s.transform(c.value,l);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:d}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>gl(c)?Promise.resolve(s.transform(c.value,l)).then(d=>({status:t.value,value:d})):c);vt.assertNever(s)}}zi.create=(n,e,t)=>new zi({schema:n,typeName:$e.ZodEffects,effect:e,...it(t)});zi.createWithPreprocess=(n,e,t)=>new zi({schema:e,effect:{type:"preprocess",transform:n},typeName:$e.ZodEffects,...it(t)});class ms extends ut{_parse(e){return this._getType(e)===Oe.undefined?Tr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ms.create=(n,e)=>new ms({innerType:n,typeName:$e.ZodOptional,...it(e)});class wa extends ut{_parse(e){return this._getType(e)===Oe.null?Tr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}wa.create=(n,e)=>new wa({innerType:n,typeName:$e.ZodNullable,...it(e)});class lf extends ut{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===Oe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}lf.create=(n,e)=>new lf({innerType:n,typeName:$e.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...it(e)});class uf extends ut{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Kd(s)?s.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Xr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Xr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}uf.create=(n,e)=>new uf({innerType:n,typeName:$e.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...it(e)});class Cp extends ut{_parse(e){if(this._getType(e)!==Oe.nan){const r=this._getOrReturnCtx(e);return Re(r,{code:we.invalid_type,expected:Oe.nan,received:r.parsedType}),Xe}return{status:"valid",value:e.data}}}Cp.create=n=>new Cp({typeName:$e.ZodNaN,...it(n)});const mC=Symbol("zod_brand");class H0 extends ut{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class gf extends ut{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Xe:l.status==="dirty"?(t.dirty(),zu(l.value)):this._def.out._parseAsync({data:l.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Xe:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,t){return new gf({in:e,out:t,typeName:$e.ZodPipeline})}}class cf extends ut{_parse(e){const t=this._def.innerType._parse(e),r=s=>(gl(s)&&(s.value=Object.freeze(s.value)),s);return Kd(t)?t.then(s=>r(s)):r(t)}unwrap(){return this._def.innerType}}cf.create=(n,e)=>new cf({innerType:n,typeName:$e.ZodReadonly,...it(e)});function jy(n,e){const t=typeof n=="function"?n(e):typeof n=="string"?{message:n}:n;return typeof t=="string"?{message:t}:t}function Wx(n,e={},t){return n?sc.create().superRefine((r,s)=>{var l,c;const d=n(r);if(d instanceof Promise)return d.then(h=>{var g,y;if(!h){const w=jy(e,r),_=(y=(g=w.fatal)!==null&&g!==void 0?g:t)!==null&&y!==void 0?y:!0;s.addIssue({code:"custom",...w,fatal:_})}});if(!d){const h=jy(e,r),g=(c=(l=h.fatal)!==null&&l!==void 0?l:t)!==null&&c!==void 0?c:!0;s.addIssue({code:"custom",...h,fatal:g})}}):sc.create()}const gC={object:tn.lazycreate};var $e;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})($e||($e={}));const yC=(n,e={message:`Input not instance of ${n.name}`})=>Wx(t=>t instanceof n,e),Qx=Li.create,qx=ya.create,vC=Cp.create,xC=va.create,$x=Zd.create,wC=yl.create,SC=wp.create,_C=Jd.create,CC=ef.create,EC=sc.create,PC=dl.create,TC=so.create,bC=Sp.create,kC=Di.create,RC=tn.create,NC=tn.strictCreate,AC=tf.create,MC=Vp.create,IC=nf.create,OC=vs.create,LC=rf.create,DC=_p.create,jC=vl.create,FC=Wu.create,zC=sf.create,BC=of.create,GC=xa.create,UC=af.create,HC=oc.create,Fy=zi.create,VC=ms.create,WC=wa.create,QC=zi.createWithPreprocess,qC=gf.create,$C=()=>Qx().optional(),XC=()=>qx().optional(),YC=()=>$x().optional(),KC={string:(n=>Li.create({...n,coerce:!0})),number:(n=>ya.create({...n,coerce:!0})),boolean:(n=>Zd.create({...n,coerce:!0})),bigint:(n=>va.create({...n,coerce:!0})),date:(n=>yl.create({...n,coerce:!0}))},ZC=Xe;var Ft=Object.freeze({__proto__:null,defaultErrorMap:ic,setErrorMap:Q8,getErrorMap:yp,makeIssue:vp,EMPTY_PATH:q8,addIssueToContext:Re,ParseStatus:fr,INVALID:Xe,DIRTY:zu,OK:Tr,isAborted:Wg,isDirty:Qg,isValid:gl,isAsync:Kd,get util(){return vt},get objectUtil(){return Vg},ZodParsedType:Oe,getParsedType:no,ZodType:ut,datetimeRegex:Hx,ZodString:Li,ZodNumber:ya,ZodBigInt:va,ZodBoolean:Zd,ZodDate:yl,ZodSymbol:wp,ZodUndefined:Jd,ZodNull:ef,ZodAny:sc,ZodUnknown:dl,ZodNever:so,ZodVoid:Sp,ZodArray:Di,ZodObject:tn,ZodUnion:tf,ZodDiscriminatedUnion:Vp,ZodIntersection:nf,ZodTuple:vs,ZodRecord:rf,ZodMap:_p,ZodSet:vl,ZodFunction:Wu,ZodLazy:sf,ZodLiteral:of,ZodEnum:xa,ZodNativeEnum:af,ZodPromise:oc,ZodEffects:zi,ZodTransformer:zi,ZodOptional:ms,ZodNullable:wa,ZodDefault:lf,ZodCatch:uf,ZodNaN:Cp,BRAND:mC,ZodBranded:H0,ZodPipeline:gf,ZodReadonly:cf,custom:Wx,Schema:ut,ZodSchema:ut,late:gC,get ZodFirstPartyTypeKind(){return $e},coerce:KC,any:EC,array:kC,bigint:xC,boolean:$x,date:wC,discriminatedUnion:MC,effect:Fy,enum:GC,function:FC,instanceof:yC,intersection:IC,lazy:zC,literal:BC,map:DC,nan:vC,nativeEnum:UC,never:TC,null:CC,nullable:WC,number:qx,object:RC,oboolean:YC,onumber:XC,optional:VC,ostring:$C,pipeline:qC,preprocess:QC,promise:HC,record:LC,set:jC,strictObject:NC,string:Qx,symbol:SC,transformer:Fy,tuple:OC,undefined:_C,union:AC,unknown:PC,void:bC,NEVER:ZC,ZodIssueCode:we,quotelessJson:W8,ZodError:Xr});const he=Symbol.for("drizzle:entityKind");function rr(n,e){if(!n||typeof n!="object")return!1;if(n instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,he))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let t=Object.getPrototypeOf(n).constructor;if(t)for(;t;){if(he in t&&t[he]===e[he])return!0;t=Object.getPrototypeOf(t)}return!1}class df{constructor(e,t){this.table=e,this.config=t,this.name=t.name,this.keyAsName=t.keyAsName,this.notNull=t.notNull,this.default=t.default,this.defaultFn=t.defaultFn,this.onUpdateFn=t.onUpdateFn,this.hasDefault=t.hasDefault,this.primary=t.primaryKey,this.isUnique=t.isUnique,this.uniqueName=t.uniqueName,this.uniqueType=t.uniqueType,this.dataType=t.dataType,this.columnType=t.columnType,this.generated=t.generated,this.generatedIdentity=t.generatedIdentity}static[he]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class JC{static[he]="ColumnBuilder";config;constructor(e,t,r){this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:t,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}const Qu=Symbol.for("drizzle:Name");class e9{static[he]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,t){this.reference=()=>{const{name:r,columns:s,foreignColumns:l}=e();return{name:r,columns:s,foreignTable:l[0].table,foreignColumns:l}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new t9(e,this)}}class t9{constructor(e,t){this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}static[he]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:e,columns:t,foreignColumns:r}=this.reference(),s=t.map(d=>d.name),l=r.map(d=>d.name),c=[this.table[Qu],...s,r[0].table[Qu],...l];return e??`${c.join("_")}_fk`}}function n9(n,...e){return n(...e)}function r9(n,e){return`${n[Qu]}_${e.join("_")}_unique`}function zy(n,e,t){for(let r=e;r<n.length;r++){const s=n[r];if(s==="\\"){r++;continue}if(s==='"')return[n.slice(e,r).replace(/\\/g,""),r+1];if(!t&&(s===","||s==="}"))return[n.slice(e,r).replace(/\\/g,""),r]}return[n.slice(e).replace(/\\/g,""),n.length]}function Xx(n,e=0){const t=[];let r=e,s=!1;for(;r<n.length;){const l=n[r];if(l===","){(s||r===e)&&t.push(""),s=!0,r++;continue}if(s=!1,l==="\\"){r+=2;continue}if(l==='"'){const[h,g]=zy(n,r+1,!0);t.push(h),r=g;continue}if(l==="}")return[t,r+1];if(l==="{"){const[h,g]=Xx(n,r+1);t.push(h),r=g;continue}const[c,d]=zy(n,r,!1);t.push(c),r=d}return[t,r]}function i9(n){const[e]=Xx(n,1);return e}function Yx(n){return`{${n.map(e=>Array.isArray(e)?Yx(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}class wt extends JC{foreignKeyConfigs=[];static[he]="PgColumnBuilder";array(e){return new o9(this.config.name,this,e)}references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e,t){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=t?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:r,actions:s})=>n9((l,c)=>{const d=new e9(()=>{const h=l();return{columns:[e],foreignColumns:[h]}});return c.onUpdate&&d.onUpdate(c.onUpdate),c.onDelete&&d.onDelete(c.onDelete),d.build(t)},r,s))}buildExtraConfigColumn(e){return new s9(e,this.config)}}class lt extends df{constructor(e,t){t.uniqueName||(t.uniqueName=r9(e,[t.name])),super(e,t),this.table=e}static[he]="PgColumn"}class s9 extends lt{static[he]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class o9 extends wt{static[he]="PgArrayBuilder";constructor(e,t,r){super(e,"array","PgArray"),this.config.baseBuilder=t,this.config.size=r}build(e){const t=this.config.baseBuilder.build(e);return new V0(e,this.config,t)}}class V0 extends lt{constructor(e,t,r,s){super(e,t),this.baseColumn=r,this.range=s,this.size=t.size}size;static[he]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(e){return typeof e=="string"&&(e=i9(e)),e.map(t=>this.baseColumn.mapFromDriverValue(t))}mapToDriverValue(e,t=!1){const r=e.map(s=>s===null?null:rr(this.baseColumn,V0)?this.baseColumn.mapToDriverValue(s,!0):this.baseColumn.mapToDriverValue(s));return t?r:Yx(r)}}const By=Symbol.for("drizzle:isPgEnum");function a9(n){return!!n&&typeof n=="function"&&By in n&&n[By]===!0}class Kx{static[he]="Subquery";constructor(e,t,r,s=!1){this._={brand:"Subquery",sql:e,selectedFields:t,alias:r,isWith:s}}}const l9={startActiveSpan(n,e){return e()}},qu=Symbol.for("drizzle:ViewBaseConfig"),rg=Symbol.for("drizzle:Schema"),Gy=Symbol.for("drizzle:Columns"),Uy=Symbol.for("drizzle:ExtraConfigColumns"),ig=Symbol.for("drizzle:OriginalName"),sg=Symbol.for("drizzle:BaseName"),Ep=Symbol.for("drizzle:IsAlias"),Hy=Symbol.for("drizzle:ExtraConfigBuilder"),Zx=Symbol.for("drizzle:IsDrizzleTable");class Qr{static[he]="Table";static Symbol={Name:Qu,Schema:rg,OriginalName:ig,Columns:Gy,ExtraConfigColumns:Uy,BaseName:sg,IsAlias:Ep,ExtraConfigBuilder:Hy};[Qu];[ig];[rg];[Gy];[Uy];[sg];[Ep]=!1;[Zx]=!0;[Hy]=void 0;constructor(e,t,r){this[Qu]=this[ig]=e,this[rg]=t,this[sg]=r}}function Jx(n){return typeof n=="object"&&n!==null&&Zx in n}function u9(n){return n!=null&&typeof n.getSQL=="function"}function c9(n){const e={sql:"",params:[]};for(const t of n)e.sql+=t.sql,e.params.push(...t.params),t.typings?.length&&(e.typings||(e.typings=[]),e.typings.push(...t.typings));return e}class Ii{static[he]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new cn([this])}}class cn{constructor(e){this.queryChunks=e}static[he]="SQL";decoder=e5;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return l9.startActiveSpan("drizzle.buildSQL",t=>{const r=this.buildQueryFromSourceParams(this.queryChunks,e);return t?.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,t){const r=Object.assign({},t,{inlineParams:t.inlineParams||this.shouldInlineParams,paramStartIndex:t.paramStartIndex||{value:0}}),{casing:s,escapeName:l,escapeParam:c,prepareTyping:d,inlineParams:h,paramStartIndex:g}=r;return c9(e.map(y=>{if(rr(y,Ii))return{sql:y.value.join(""),params:[]};if(rr(y,$g))return{sql:l(y.value),params:[]};if(y===void 0)return{sql:"",params:[]};if(Array.isArray(y)){const w=[new Ii("(")];for(const[_,k]of y.entries())w.push(k),_<y.length-1&&w.push(new Ii(", "));return w.push(new Ii(")")),this.buildQueryFromSourceParams(w,r)}if(rr(y,cn))return this.buildQueryFromSourceParams(y.queryChunks,{...r,inlineParams:h||y.shouldInlineParams});if(rr(y,Qr)){const w=y[Qr.Symbol.Schema],_=y[Qr.Symbol.Name];return{sql:w===void 0||y[Ep]?l(_):l(w)+"."+l(_),params:[]}}if(rr(y,df)){const w=s.getColumnCasing(y);if(t.invokeSource==="indexes")return{sql:l(w),params:[]};const _=y.table[Qr.Symbol.Schema];return{sql:y.table[Ep]||_===void 0?l(y.table[Qr.Symbol.Name])+"."+l(w):l(_)+"."+l(y.table[Qr.Symbol.Name])+"."+l(w),params:[]}}if(rr(y,d9)){const w=y[qu].schema,_=y[qu].name;return{sql:w===void 0||y[qu].isAlias?l(_):l(w)+"."+l(_),params:[]}}if(rr(y,n5)){if(rr(y.value,Xg))return{sql:c(g.value++,y),params:[y],typings:["none"]};const w=y.value===null?null:y.encoder.mapToDriverValue(y.value);if(rr(w,cn))return this.buildQueryFromSourceParams([w],r);if(h)return{sql:this.mapInlineParam(w,r),params:[]};let _=["none"];return d&&(_=[d(y.encoder)]),{sql:c(g.value++,w),params:[w],typings:_}}return rr(y,Xg)?{sql:c(g.value++,y),params:[y],typings:["none"]}:rr(y,cn.Aliased)&&y.fieldAlias!==void 0?{sql:l(y.fieldAlias),params:[]}:rr(y,Kx)?y._.isWith?{sql:l(y._.alias),params:[]}:this.buildQueryFromSourceParams([new Ii("("),y._.sql,new Ii(") "),new $g(y._.alias)],r):a9(y)?y.schema?{sql:l(y.schema)+"."+l(y.enumName),params:[]}:{sql:l(y.enumName),params:[]}:u9(y)?y.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([y.getSQL()],r):this.buildQueryFromSourceParams([new Ii("("),y.getSQL(),new Ii(")")],r):h?{sql:this.mapInlineParam(y,r),params:[]}:{sql:c(g.value++,y),params:[y],typings:["none"]}}))}mapInlineParam(e,{escapeString:t}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return t(e);if(typeof e=="object"){const r=e.toString();return t(r==="[object Object]"?JSON.stringify(e):r)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new cn.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class $g{constructor(e){this.value=e}static[he]="Name";brand;getSQL(){return new cn([this])}}const e5={mapFromDriverValue:n=>n},t5={mapToDriverValue:n=>n};({...e5,...t5});class n5{constructor(e,t=t5){this.value=e,this.encoder=t}static[he]="Param";brand;getSQL(){return new cn([this])}}function Pp(n,...e){const t=[];(e.length>0||n.length>0&&n[0]!=="")&&t.push(new Ii(n[0]));for(const[r,s]of e.entries())t.push(s,new Ii(n[r+1]));return new cn(t)}(n=>{function e(){return new cn([])}n.empty=e;function t(h){return new cn(h)}n.fromList=t;function r(h){return new cn([new Ii(h)])}n.raw=r;function s(h,g){const y=[];for(const[w,_]of h.entries())w>0&&g!==void 0&&y.push(g),y.push(_);return new cn(y)}n.join=s;function l(h){return new $g(h)}n.identifier=l;function c(h){return new Xg(h)}n.placeholder=c;function d(h,g){return new n5(h,g)}n.param=d})(Pp||(Pp={}));(n=>{class e{constructor(r,s){this.sql=r,this.fieldAlias=s}static[he]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}}n.Aliased=e})(cn||(cn={}));class Xg{constructor(e){this.name=e}static[he]="Placeholder";getSQL(){return new cn([this])}}const r5=Symbol.for("drizzle:IsDrizzleView");class d9{static[he]="View";[qu];[r5]=!0;constructor({name:e,schema:t,selectedFields:r,query:s}){this[qu]={name:e,originalName:e,schema:t,selectedFields:r,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new cn([this])}}function f9(n){return typeof n=="object"&&n!==null&&r5 in n}df.prototype.getSQL=function(){return new cn([this])};Qr.prototype.getSQL=function(){return new cn([this])};Kx.prototype.getSQL=function(){return new cn([this])};function h9(n){return n[Qr.Symbol.Columns]}function p9(n){return n[qu].selectedFields}function Qn(n,e){return{name:typeof n=="string"&&n.length>0?n:"",config:typeof n=="object"?n:e}}class Wp extends wt{static[he]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){const{name:t,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:t,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:t,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:t,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class m9 extends Wp{static[he]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new g9(e,this.config)}}class g9 extends lt{static[he]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class y9 extends Wp{static[he]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new v9(e,this.config)}}class v9 extends lt{static[he]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function x9(n,e){const{name:t,config:r}=Qn(n,e);return r.mode==="number"?new m9(t):new y9(t)}class w9 extends wt{static[he]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new S9(e,this.config)}}class S9 extends lt{static[he]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class _9 extends wt{static[he]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new C9(e,this.config)}}class C9 extends lt{static[he]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function E9(n,e){const{name:t,config:r}=Qn(n,e);return r.mode==="number"?new w9(t):new _9(t)}class P9 extends wt{static[he]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new T9(e,this.config)}}class T9 extends lt{static[he]="PgBoolean";getSQLType(){return"boolean"}}function i5(n){return new P9(n??"")}class b9 extends wt{static[he]="PgCharBuilder";constructor(e,t){super(e,"string","PgChar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new k9(e,this.config)}}class k9 extends lt{static[he]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function R9(n,e={}){const{name:t,config:r}=Qn(n,e);return new b9(t,r)}class N9 extends wt{static[he]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new A9(e,this.config)}}class A9 extends lt{static[he]="PgCidr";getSQLType(){return"cidr"}}function M9(n){return new N9(n??"")}class I9 extends wt{static[he]="PgCustomColumnBuilder";constructor(e,t,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=t,this.config.customTypeParams=r}build(e){return new O9(e,this.config)}}class O9 extends lt{static[he]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,t){super(e,t),this.sqlName=t.customTypeParams.dataType(t.fieldConfig),this.mapTo=t.customTypeParams.toDriver,this.mapFrom=t.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}}function L9(n){return(e,t)=>{const{name:r,config:s}=Qn(e,t);return new I9(r,s,n)}}class yf extends wt{static[he]="PgDateColumnBaseBuilder";defaultNow(){return this.default(Pp`now()`)}}class D9 extends yf{static[he]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new j9(e,this.config)}}class j9 extends lt{static[he]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class F9 extends yf{static[he]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new z9(e,this.config)}}class z9 extends lt{static[he]="PgDateString";getSQLType(){return"date"}}function B9(n,e){const{name:t,config:r}=Qn(n,e);return r?.mode==="date"?new D9(t):new F9(t)}class G9 extends wt{static[he]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new U9(e,this.config)}}class U9 extends lt{static[he]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}function H9(n){return new G9(n??"")}class V9 extends wt{static[he]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new W9(e,this.config)}}class W9 extends lt{static[he]="PgInet";getSQLType(){return"inet"}}function Q9(n){return new V9(n??"")}class q9 extends Wp{static[he]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new $9(e,this.config)}}class $9 extends lt{static[he]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}function X9(n){return new q9(n??"")}class Y9 extends wt{static[he]="PgIntervalBuilder";constructor(e,t){super(e,"string","PgInterval"),this.config.intervalConfig=t}build(e){return new K9(e,this.config)}}class K9 extends lt{static[he]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const e=this.fields?` ${this.fields}`:"",t=this.precision?`(${this.precision})`:"";return`interval${e}${t}`}}function Z9(n,e={}){const{name:t,config:r}=Qn(n,e);return new Y9(t,r)}class J9 extends wt{static[he]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new e7(e,this.config)}}class e7 extends lt{static[he]="PgJson";constructor(e,t){super(e,t)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function t7(n){return new J9(n??"")}class n7 extends wt{static[he]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new r7(e,this.config)}}class r7 extends lt{static[he]="PgJsonb";constructor(e,t){super(e,t)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function s5(n){return new n7(n??"")}class i7 extends wt{static[he]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new s7(e,this.config)}}class s7 extends lt{static[he]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){const[t,r,s]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(r),Number.parseFloat(s)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class o7 extends wt{static[he]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new a7(e,this.config)}}class a7 extends lt{static[he]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){const[t,r,s]=e.slice(1,-1).split(",");return{a:Number.parseFloat(t),b:Number.parseFloat(r),c:Number.parseFloat(s)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function l7(n,e){const{name:t,config:r}=Qn(n,e);return!r?.mode||r.mode==="tuple"?new i7(t):new o7(t)}class u7 extends wt{static[he]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new c7(e,this.config)}}class c7 extends lt{static[he]="PgMacaddr";getSQLType(){return"macaddr"}}function d7(n){return new u7(n??"")}class f7 extends wt{static[he]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new h7(e,this.config)}}class h7 extends lt{static[he]="PgMacaddr8";getSQLType(){return"macaddr8"}}function p7(n){return new f7(n??"")}class m7 extends wt{static[he]="PgNumericBuilder";constructor(e,t,r){super(e,"string","PgNumeric"),this.config.precision=t,this.config.scale=r}build(e){return new g7(e,this.config)}}class g7 extends lt{static[he]="PgNumeric";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function y7(n,e){const{name:t,config:r}=Qn(n,e);return new m7(t,r?.precision,r?.scale)}class v7 extends wt{static[he]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new x7(e,this.config)}}class x7 extends lt{static[he]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[t,r]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class w7 extends wt{static[he]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new S7(e,this.config)}}class S7 extends lt{static[he]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[t,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(t),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function _7(n,e){const{name:t,config:r}=Qn(n,e);return!r?.mode||r.mode==="tuple"?new v7(t):new w7(t)}function C7(n){const e=[];for(let t=0;t<n.length;t+=2)e.push(Number.parseInt(n.slice(t,t+2),16));return new Uint8Array(e)}function Vy(n,e){const t=new ArrayBuffer(8),r=new DataView(t);for(let s=0;s<8;s++)r.setUint8(s,n[e+s]);return r.getFloat64(0,!0)}function o5(n){const e=C7(n);let t=0;const r=e[t];t+=1;const s=new DataView(e.buffer),l=s.getUint32(t,r===1);if(t+=4,l&536870912&&(s.getUint32(t,r===1),t+=4),(l&65535)===1){const c=Vy(e,t);t+=8;const d=Vy(e,t);return t+=8,[c,d]}throw new Error("Unsupported geometry type")}class E7 extends wt{static[he]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new P7(e,this.config)}}class P7 extends lt{static[he]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return o5(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class T7 extends wt{static[he]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new b7(e,this.config)}}class b7 extends lt{static[he]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const t=o5(e);return{x:t[0],y:t[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function k7(n,e){const{name:t,config:r}=Qn(n,e);return!r?.mode||r.mode==="tuple"?new E7(t):new T7(t)}class R7 extends wt{static[he]="PgRealBuilder";constructor(e,t){super(e,"number","PgReal"),this.config.length=t}build(e){return new N7(e,this.config)}}class N7 extends lt{static[he]="PgReal";constructor(e,t){super(e,t)}getSQLType(){return"real"}mapFromDriverValue=e=>typeof e=="string"?Number.parseFloat(e):e}function A7(n){return new R7(n??"")}class M7 extends wt{static[he]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new I7(e,this.config)}}class I7 extends lt{static[he]="PgSerial";getSQLType(){return"serial"}}function a5(n){return new M7(n??"")}class O7 extends Wp{static[he]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new L7(e,this.config)}}class L7 extends lt{static[he]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>typeof e=="string"?Number(e):e}function D7(n){return new O7(n??"")}class j7 extends wt{static[he]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new F7(e,this.config)}}class F7 extends lt{static[he]="PgSmallSerial";getSQLType(){return"smallserial"}}function z7(n){return new j7(n??"")}class B7 extends wt{static[he]="PgTextBuilder";constructor(e,t){super(e,"string","PgText"),this.config.enumValues=t.enum}build(e){return new G7(e,this.config)}}class G7 extends lt{static[he]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function op(n,e={}){const{name:t,config:r}=Qn(n,e);return new B7(t,r)}class U7 extends yf{constructor(e,t,r){super(e,"string","PgTime"),this.withTimezone=t,this.precision=r,this.config.withTimezone=t,this.config.precision=r}static[he]="PgTimeBuilder";build(e){return new H7(e,this.config)}}class H7 extends lt{static[he]="PgTime";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function V7(n,e={}){const{name:t,config:r}=Qn(n,e);return new U7(t,r.withTimezone??!1,r.precision)}class W7 extends yf{static[he]="PgTimestampBuilder";constructor(e,t,r){super(e,"date","PgTimestamp"),this.config.withTimezone=t,this.config.precision=r}build(e){return new Q7(e,this.config)}}class Q7 extends lt{static[he]="PgTimestamp";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class q7 extends yf{static[he]="PgTimestampStringBuilder";constructor(e,t,r){super(e,"string","PgTimestampString"),this.config.withTimezone=t,this.config.precision=r}build(e){return new $7(e,this.config)}}class $7 extends lt{static[he]="PgTimestampString";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function l5(n,e={}){const{name:t,config:r}=Qn(n,e);return r?.mode==="string"?new q7(t,r.withTimezone??!1,r.precision):new W7(t,r?.withTimezone??!1,r?.precision)}class X7 extends wt{static[he]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(Pp`gen_random_uuid()`)}build(e){return new Y7(e,this.config)}}class Y7 extends lt{static[he]="PgUUID";getSQLType(){return"uuid"}}function K7(n){return new X7(n??"")}class Z7 extends wt{static[he]="PgVarcharBuilder";constructor(e,t){super(e,"string","PgVarchar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new J7(e,this.config)}}class J7 extends lt{static[he]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function eE(n,e={}){const{name:t,config:r}=Qn(n,e);return new Z7(t,r)}class tE extends wt{static[he]="PgBinaryVectorBuilder";constructor(e,t){super(e,"string","PgBinaryVector"),this.config.dimensions=t.dimensions}build(e){return new nE(e,this.config)}}class nE extends lt{static[he]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function rE(n,e){const{name:t,config:r}=Qn(n,e);return new tE(t,r)}class iE extends wt{static[he]="PgHalfVectorBuilder";constructor(e,t){super(e,"array","PgHalfVector"),this.config.dimensions=t.dimensions}build(e){return new sE(e,this.config)}}class sE extends lt{static[he]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(t=>Number.parseFloat(t))}}function oE(n,e){const{name:t,config:r}=Qn(n,e);return new iE(t,r)}class aE extends wt{static[he]="PgSparseVectorBuilder";constructor(e,t){super(e,"string","PgSparseVector"),this.config.dimensions=t.dimensions}build(e){return new lE(e,this.config)}}class lE extends lt{static[he]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function uE(n,e){const{name:t,config:r}=Qn(n,e);return new aE(t,r)}class cE extends wt{static[he]="PgVectorBuilder";constructor(e,t){super(e,"array","PgVector"),this.config.dimensions=t.dimensions}build(e){return new dE(e,this.config)}}class dE extends lt{static[he]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(t=>Number.parseFloat(t))}}function fE(n,e){const{name:t,config:r}=Qn(n,e);return new cE(t,r)}function hE(){return{bigint:x9,bigserial:E9,boolean:i5,char:R9,cidr:M9,customType:L9,date:B9,doublePrecision:H9,inet:Q9,integer:X9,interval:Z9,json:t7,jsonb:s5,line:l7,macaddr:d7,macaddr8:p7,numeric:y7,point:_7,geometry:k7,real:A7,serial:a5,smallint:D7,smallserial:z7,text:op,time:V7,timestamp:l5,uuid:K7,varchar:eE,bit:rE,halfvec:oE,sparsevec:uE,vector:fE}}const Yg=Symbol.for("drizzle:PgInlineForeignKeys"),Wy=Symbol.for("drizzle:EnableRLS");class Qy extends Qr{static[he]="PgTable";static Symbol=Object.assign({},Qr.Symbol,{InlineForeignKeys:Yg,EnableRLS:Wy});[Yg]=[];[Wy]=!1;[Qr.Symbol.ExtraConfigBuilder]=void 0}function pE(n,e,t,r,s=n){const l=new Qy(n,r,s),c=typeof e=="function"?e(hE()):e,d=Object.fromEntries(Object.entries(c).map(([y,w])=>{const _=w;_.setName(y);const k=_.build(l);return l[Yg].push(..._.buildForeignKeys(k,l)),[y,k]})),h=Object.fromEntries(Object.entries(c).map(([y,w])=>{const _=w;_.setName(y);const k=_.buildExtraConfigColumn(l);return[y,k]})),g=Object.assign(l,d);return g[Qr.Symbol.Columns]=d,g[Qr.Symbol.ExtraConfigColumns]=h,Object.assign(g,{enableRLS:()=>(g[Qy.Symbol.EnableRLS]=!0,g)})}const mE=(n,e,t)=>pE(n,e,t,void 0),en={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function xn(n,e){return e.includes(n.columnType)}function gE(n){return"enumValues"in n&&Array.isArray(n.enumValues)&&n.enumValues.length>0}const yE=Ft.union([Ft.string(),Ft.number(),Ft.boolean(),Ft.null()]),vE=Ft.union([yE,Ft.record(Ft.any()),Ft.array(Ft.any())]),xE=Ft.custom(n=>n instanceof Buffer);function u5(n,e){const t=e?.zodInstance??Ft,r=e?.coerce??{};let s;return gE(n)&&(s=n.enumValues.length?t.enum(n.enumValues):t.string()),s||(xn(n,["PgGeometry","PgPointTuple"])?s=t.tuple([t.number(),t.number()]):xn(n,["PgGeometryObject","PgPointObject"])?s=t.object({x:t.number(),y:t.number()}):xn(n,["PgHalfVector","PgVector"])?(s=t.array(t.number()),s=n.dimensions?s.length(n.dimensions):s):xn(n,["PgLine"])?s=t.tuple([t.number(),t.number(),t.number()]):xn(n,["PgLineABC"])?s=t.object({a:t.number(),b:t.number(),c:t.number()}):xn(n,["PgArray"])?(s=t.array(u5(n.baseColumn,t)),s=n.size?s.length(n.size):s):n.dataType==="array"?s=t.array(t.any()):n.dataType==="number"?s=wE(n,t,r):n.dataType==="bigint"?s=SE(n,t,r):n.dataType==="boolean"?s=r===!0||r.boolean?t.coerce.boolean():t.boolean():n.dataType==="date"?s=r===!0||r.date?t.coerce.date():t.date():n.dataType==="string"?s=_E(n,t,r):n.dataType==="json"?s=vE:n.dataType==="custom"?s=t.any():n.dataType==="buffer"&&(s=xE)),s||(s=t.any()),s}function wE(n,e,t){let r=n.getSQLType().includes("unsigned"),s,l,c=!1;xn(n,["MySqlTinyInt","SingleStoreTinyInt"])?(s=r?0:en.INT8_MIN,l=r?en.INT8_UNSIGNED_MAX:en.INT8_MAX,c=!0):xn(n,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(s=r?0:en.INT16_MIN,l=r?en.INT16_UNSIGNED_MAX:en.INT16_MAX,c=!0):xn(n,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(s=r?0:en.INT24_MIN,l=r?en.INT24_UNSIGNED_MAX:en.INT24_MAX,c=xn(n,["MySqlMediumInt","SingleStoreMediumInt"])):xn(n,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(s=r?0:en.INT32_MIN,l=r?en.INT32_UNSIGNED_MAX:en.INT32_MAX,c=!0):xn(n,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(s=r?0:en.INT48_MIN,l=r?en.INT48_UNSIGNED_MAX:en.INT48_MAX):xn(n,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||xn(n,["MySqlSerial","SingleStoreSerial"]),s=r?0:Number.MIN_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER,c=!0):xn(n,["MySqlYear","SingleStoreYear"])?(s=1901,l=2155,c=!0):(s=Number.MIN_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER);let d=t===!0||t?.number?e.coerce.number():e.number();return d=d.min(s).max(l),c?d.int():d}function SE(n,e,t){const r=n.getSQLType().includes("unsigned"),s=r?0n:en.INT64_MIN,l=r?en.INT64_UNSIGNED_MAX:en.INT64_MAX;return(t===!0||t?.bigint?e.coerce.bigint():e.bigint()).min(s).max(l)}function _E(n,e,t){if(xn(n,["PgUUID"]))return e.string().uuid();let r,s,l=!1;xn(n,["PgVarchar","SQLiteText"])?r=n.length:xn(n,["MySqlVarChar","SingleStoreVarChar"])?r=n.length??en.INT16_UNSIGNED_MAX:xn(n,["MySqlText","SingleStoreText"])&&(n.textType==="longtext"?r=en.INT32_UNSIGNED_MAX:n.textType==="mediumtext"?r=en.INT24_UNSIGNED_MAX:n.textType==="text"?r=en.INT16_UNSIGNED_MAX:r=en.INT8_UNSIGNED_MAX),xn(n,["PgChar","MySqlChar","SingleStoreChar"])&&(r=n.length,l=!0),xn(n,["PgBinaryVector"])&&(s=/^[01]+$/,r=n.dimensions);let c=t===!0||t?.string?e.coerce.string():e.string();return c=s?c.regex(s):c,r&&l?c.length(r):r?c.max(r):c}function c5(n){return Jx(n)?h9(n):p9(n)}function d5(n,e,t,r){const s={};for(const[l,c]of Object.entries(n)){if(!rr(c,df)&&!rr(c,cn)&&!rr(c,cn.Aliased)&&typeof c=="object"){const w=Jx(c)||f9(c)?c5(c):c;s[l]=d5(w,e[l]??{},t,r);continue}const d=e[l];if(d!==void 0&&typeof d!="function"){s[l]=d;continue}const h=rr(c,df)?c:void 0,g=h?u5(h,r):Ft.any(),y=typeof d=="function"?d(g):g;t.never(h)||(s[l]=y,h&&(t.nullable(h)&&(s[l]=s[l].nullable()),t.optional(h)&&(s[l]=s[l].optional())))}return Ft.object(s)}const CE={never:n=>n?.generated?.type==="always"||n?.generatedIdentity?.type==="always",optional:n=>!n.notNull||n.notNull&&n.hasDefault,nullable:n=>!n.notNull},EE=(n,e)=>{const t=c5(n);return d5(t,{},CE)},PE=mE("presets",{id:a5("id").primaryKey(),name:op("name").notNull(),master:op("master").notNull().default("Vermeer"),description:op("description"),configuration:s5("configuration").notNull(),isDefault:i5("is_default").default(!1),createdAt:l5("created_at").defaultNow()}),TE=EE(PE).omit({id:!0,createdAt:!0}),bE={validation:Ft.object({message:Ft.string(),field:Ft.string().optional()}),notFound:Ft.object({message:Ft.string()}),internal:Ft.object({message:Ft.string()})},da={presets:{list:{path:"/api/presets",responses:{200:Ft.array(Ft.custom())}},get:{responses:{200:Ft.custom()}},create:{method:"POST",path:"/api/presets",responses:{201:Ft.custom(),400:bE.validation}},update:{input:TE.partial(),responses:{200:Ft.custom()}},delete:{responses:{204:Ft.void()}}}},og={meta:{version:"7.0.0",codename:"Psychonarrative Historical"},dimensions:{temporalSpatial:{master:78,timelessFrozen:80,atmosphericDuration:20,dramaticMoment:30,motionBlur:0,timeIndication:50,atmosphericIndication:40,depthPrecision:70},materialSpiritual:{master:72,divineThroughMaterial:85,materialAsExpansion:40,materialPrecision:80,spiritualSymbolism:60,surfacePerfection:75,detailAsRevelation:70},lightRevelation:{master:81,lightAsDivineProof:90,lightAsDramaticTools:45,shadowSoftness:60,reflectionSubtlety:55,lightSymbolism:65},gazePsychology:{master:75,microscopicScrutiny:85,emotionalImmersion:50,dramaticOrchestration:40,loopCompleteness:60,transitionSmoothness:70,discoveryDensity:55,hypnoticQuality:45},historicalConstraints:{master:100,period:"GOLDEN_AGE",fidelity:85},finition:{master:80,masterLustre:75,finalGlow:60}}};function kE(){return S3({queryKey:[da.presets.list.path],queryFn:async()=>{const n=await fetch(da.presets.list.path);if(!n.ok)throw new Error("Failed to fetch presets");return da.presets.list.responses[200].parse(await n.json())}})}function RE(){const n=E0(),{toast:e}=P0();return _3({mutationFn:async t=>{const r=await fetch(da.presets.create.path,{method:da.presets.create.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){if(r.status===400){const s=da.presets.create.responses[400].parse(await r.json());throw new Error(s.message)}throw new Error("Failed to create preset")}return da.presets.create.responses[201].parse(await r.json())},onSuccess:()=>{n.invalidateQueries({queryKey:[da.presets.list.path]}),e({title:"Preset Saved",description:"Your configuration has been saved successfully."})},onError:t=>{e({title:"Error",description:t.message,variant:"destructive"})}})}const NE=jp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),vn=b.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...s},l)=>{const c=r?O3:"button";return E.jsx(c,{className:mt(NE({variant:e,size:t,className:n})),ref:l,...s})});vn.displayName="Button";function AE({onExport:n,onImportClick:e,onImportPreset:t}){return E.jsxs("header",{className:"h-16 border-b border-border bg-background/80 backdrop-blur-md sticky top-0 z-50 flex items-center justify-between px-6",children:[E.jsx("div",{className:"flex items-center gap-4",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-8 h-8 bg-accent rounded-sm flex items-center justify-center shadow-[0_0_15px_rgba(255,190,0,0.3)]",children:E.jsx("span",{className:"font-display font-bold text-accent-foreground text-xl",children:"F"})}),E.jsxs("h1",{className:"font-display text-xl font-semibold tracking-wide text-foreground",children:["FINITION",E.jsx("span",{className:"text-muted-foreground font-light",children:"GENERATOR"})]})]})}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs(vn,{variant:"outline",size:"sm",className:"hidden sm:flex border-dashed border-muted-foreground/40 hover:border-primary hover:bg-primary/5 hover:text-primary transition-all",onClick:e,children:[E.jsx(Ey,{className:"w-4 h-4 mr-2"}),"Import Image"]}),E.jsx("div",{className:"h-6 w-px bg-border hidden sm:block mx-2"}),E.jsx(vn,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground",children:E.jsx(M_,{className:"w-4 h-4"})}),E.jsxs(vn,{size:"sm",className:"bg-primary hover:bg-primary/90 text-primary-foreground font-medium shadow-lg shadow-primary/20",onClick:n,"data-testid":"button-download",children:[E.jsx(A0,{className:"w-4 h-4 mr-2"}),"Tlcharger"]}),t&&E.jsxs(vn,{variant:"outline",size:"sm",onClick:t,"data-testid":"button-import-preset",children:[E.jsx(Ey,{className:"w-4 h-4 mr-2"}),"Importer Paramtres"]})]})]})}const ME=Math.PI/180;function IE(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const cl=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},Pe={_global:cl,version:"10.2.0",isBrowser:IE(),isUnminified:/param/.test((function(n){}).toString()),dblClickWindow:400,getAngle(n){return Pe.angleDeg?n*ME:n},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Pe.DD.isDragging},isTransforming(){var n,e;return(e=(n=Pe.Transformer)===null||n===void 0?void 0:n.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!Pe.DD.node},releaseCanvasOnDestroy:!0,document:cl.document,_injectGlobal(n){typeof cl.Konva<"u"&&console.error("Several Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),cl.Konva=n}},sn=n=>{Pe[n.prototype.getClassName()]=n};Pe._injectGlobal(Pe);const OE=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,qy=()=>{if(typeof document>"u")throw new Error(OE)};class qr{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new qr(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const t=this.m;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}}translate(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this}scale(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),s=this.m[0]*t+this.m[2]*r,l=this.m[1]*t+this.m[3]*r,c=this.m[0]*-r+this.m[2]*t,d=this.m[1]*-r+this.m[3]*t;return this.m[0]=s,this.m[1]=l,this.m[2]=c,this.m[3]=d,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,t){const r=this.m[0]+this.m[2]*t,s=this.m[1]+this.m[3]*t,l=this.m[2]+this.m[0]*e,c=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=s,this.m[2]=l,this.m[3]=c,this}multiply(e){const t=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],s=this.m[0]*e.m[2]+this.m[2]*e.m[3],l=this.m[1]*e.m[2]+this.m[3]*e.m[3],c=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],d=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=t,this.m[1]=r,this.m[2]=s,this.m[3]=l,this.m[4]=c,this.m[5]=d,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,r=-this.m[1]*e,s=-this.m[2]*e,l=this.m[0]*e,c=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),d=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=t,this.m[1]=r,this.m[2]=s,this.m[3]=l,this.m[4]=c,this.m[5]=d,this}getMatrix(){return this.m}decompose(){const e=this.m[0],t=this.m[1],r=this.m[2],s=this.m[3],l=this.m[4],c=this.m[5],d=e*s-t*r,h={x:l,y:c,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||t!=0){const g=Math.sqrt(e*e+t*t);h.rotation=t>0?Math.acos(e/g):-Math.acos(e/g),h.scaleX=g,h.scaleY=d/g,h.skewX=(e*r+t*s)/d,h.skewY=0}else if(r!=0||s!=0){const g=Math.sqrt(r*r+s*s);h.rotation=Math.PI/2-(s>0?Math.acos(-r/g):-Math.acos(r/g)),h.scaleX=d/g,h.scaleY=g,h.skewX=0,h.skewY=(e*r+t*s)/d}return h.rotation=$._getRotation(h.rotation),h}}const LE="[object Array]",DE="[object Number]",jE="[object String]",FE="[object Boolean]",zE=Math.PI/180,BE=180/Math.PI,Cd="#",GE="",UE="0",HE="Konva warning: ",$y="Konva error: ",VE="rgb(",ag={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},WE=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let Hh=[],Ed=null;const QE=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(n){setTimeout(n,16)},$={_isElement(n){return!!(n&&n.nodeType==1)},_isFunction(n){return!!(n&&n.constructor&&n.call&&n.apply)},_isPlainObject(n){return!!n&&n.constructor===Object},_isArray(n){return Object.prototype.toString.call(n)===LE},_isNumber(n){return Object.prototype.toString.call(n)===DE&&!isNaN(n)&&isFinite(n)},_isString(n){return Object.prototype.toString.call(n)===jE},_isBoolean(n){return Object.prototype.toString.call(n)===FE},isObject(n){return n instanceof Object},isValidSelector(n){if(typeof n!="string")return!1;const e=n[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(n){return n===0||n>0?1:-1},requestAnimFrame(n){Hh.push(n),Hh.length===1&&QE(function(){const e=Hh;Hh=[],e.forEach(function(t){t()})})},createCanvasElement(){qy();const n=document.createElement("canvas");try{n.style=n.style||{}}catch{}return n},createImageElement(){return qy(),document.createElement("img")},_isInDocument(n){for(;n=n.parentNode;)if(n==document)return!0;return!1},_urlToImage(n,e){const t=$.createImageElement();t.onload=function(){e(t)},t.src=n},_rgbToHex(n,e,t){return((1<<24)+(n<<16)+(e<<8)+t).toString(16).slice(1)},_hexToRgb(n){n=n.replace(Cd,GE);const e=parseInt(n,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let n=(Math.random()*16777215<<0).toString(16);for(;n.length<6;)n=UE+n;return Cd+n},isCanvasFarblingActive(){if(Ed!==null)return Ed;if(typeof document>"u")return Ed=!1,!1;const n=this.createCanvasElement();n.width=10,n.height=10;const e=n.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,10,10),e.fillStyle="#282828",e.fillRect(0,0,10,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let s=0;s<100;s++)if(t[s*4]!==40||t[s*4+1]!==40||t[s*4+2]!==40||t[s*4+3]!==255){r=!0;break}return Ed=r,this.releaseCanvas(n),Ed},getHitColor(){const n=this.getRandomColor();return this.isCanvasFarblingActive()?this.getSnappedHexColor(n):n},getHitColorKey(n,e,t){return this.isCanvasFarblingActive()&&(n=Math.round(n/5)*5,e=Math.round(e/5)*5,t=Math.round(t/5)*5),Cd+this._rgbToHex(n,e,t)},getSnappedHexColor(n){const e=this._hexToRgb(n);return Cd+this._rgbToHex(Math.round(e.r/5)*5,Math.round(e.g/5)*5,Math.round(e.b/5)*5)},getRGB(n){let e;return n in ag?(e=ag[n],{r:e[0],g:e[1],b:e[2]}):n[0]===Cd?this._hexToRgb(n.substring(1)):n.substr(0,4)===VE?(e=WE.exec(n.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(n){return n=n||"black",$._namedColorToRBA(n)||$._hex3ColorToRGBA(n)||$._hex4ColorToRGBA(n)||$._hex6ColorToRGBA(n)||$._hex8ColorToRGBA(n)||$._rgbColorToRGBA(n)||$._rgbaColorToRGBA(n)||$._hslColorToRGBA(n)},_namedColorToRBA(n){const e=ag[n.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(n){if(n.indexOf("rgb(")===0){n=n.match(/rgb\(([^)]+)\)/)[1];const e=n.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(n){if(n.indexOf("rgba(")===0){n=n.match(/rgba\(([^)]+)\)/)[1];const e=n.split(/ *, */).map((t,r)=>t.slice(-1)==="%"?r===3?parseInt(t)/100:parseInt(t)/100*255:Number(t));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(n){if(n[0]==="#"&&n.length===9)return{r:parseInt(n.slice(1,3),16),g:parseInt(n.slice(3,5),16),b:parseInt(n.slice(5,7),16),a:parseInt(n.slice(7,9),16)/255}},_hex6ColorToRGBA(n){if(n[0]==="#"&&n.length===7)return{r:parseInt(n.slice(1,3),16),g:parseInt(n.slice(3,5),16),b:parseInt(n.slice(5,7),16),a:1}},_hex4ColorToRGBA(n){if(n[0]==="#"&&n.length===5)return{r:parseInt(n[1]+n[1],16),g:parseInt(n[2]+n[2],16),b:parseInt(n[3]+n[3],16),a:parseInt(n[4]+n[4],16)/255}},_hex3ColorToRGBA(n){if(n[0]==="#"&&n.length===4)return{r:parseInt(n[1]+n[1],16),g:parseInt(n[2]+n[2],16),b:parseInt(n[3]+n[3],16),a:1}},_hslColorToRGBA(n){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(n)){const[e,...t]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(n),r=Number(t[0])/360,s=Number(t[1])/100,l=Number(t[2])/100;let c,d,h;if(s===0)return h=l*255,{r:Math.round(h),g:Math.round(h),b:Math.round(h),a:1};l<.5?c=l*(1+s):c=l+s-l*s;const g=2*l-c,y=[0,0,0];for(let w=0;w<3;w++)d=r+1/3*-(w-1),d<0&&d++,d>1&&d--,6*d<1?h=g+(c-g)*6*d:2*d<1?h=c:3*d<2?h=g+(c-g)*(2/3-d)*6:h=g,y[w]=h*255;return{r:Math.round(y[0]),g:Math.round(y[1]),b:Math.round(y[2]),a:1}}},haveIntersection(n,e){return!(e.x>n.x+n.width||e.x+e.width<n.x||e.y>n.y+n.height||e.y+e.height<n.y)},cloneObject(n){const e={};for(const t in n)this._isPlainObject(n[t])?e[t]=this.cloneObject(n[t]):this._isArray(n[t])?e[t]=this.cloneArray(n[t]):e[t]=n[t];return e},cloneArray(n){return n.slice(0)},degToRad(n){return n*zE},radToDeg(n){return n*BE},_degToRad(n){return $.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),$.degToRad(n)},_radToDeg(n){return $.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),$.radToDeg(n)},_getRotation(n){return Pe.angleDeg?$.radToDeg(n):n},_capitalize(n){return n.charAt(0).toUpperCase()+n.slice(1)},throw(n){throw new Error($y+n)},error(n){console.error($y+n)},warn(n){Pe.showWarnings&&console.warn(HE+n)},each(n,e){for(const t in n)e(t,n[t])},_inRange(n,e,t){return e<=n&&n<t},_getProjectionToSegment(n,e,t,r,s,l){let c,d,h;const g=(n-t)*(n-t)+(e-r)*(e-r);if(g==0)c=n,d=e,h=(s-t)*(s-t)+(l-r)*(l-r);else{const y=((s-n)*(t-n)+(l-e)*(r-e))/g;y<0?(c=n,d=e,h=(n-s)*(n-s)+(e-l)*(e-l)):y>1?(c=t,d=r,h=(t-s)*(t-s)+(r-l)*(r-l)):(c=n+y*(t-n),d=e+y*(r-e),h=(c-s)*(c-s)+(d-l)*(d-l))}return[c,d,h]},_getProjectionToLine(n,e,t){const r=$.cloneObject(n);let s=Number.MAX_VALUE;return e.forEach(function(l,c){if(!t&&c===e.length-1)return;const d=e[(c+1)%e.length],h=$._getProjectionToSegment(l.x,l.y,d.x,d.y,n.x,n.y),g=h[0],y=h[1],w=h[2];w<s&&(r.x=g,r.y=y,s=w)}),r},_prepareArrayForTween(n,e,t){const r=[],s=[];if(n.length>e.length){const c=e;e=n,n=c}for(let c=0;c<n.length;c+=2)r.push({x:n[c],y:n[c+1]});for(let c=0;c<e.length;c+=2)s.push({x:e[c],y:e[c+1]});const l=[];return s.forEach(function(c){const d=$._getProjectionToLine(c,r,t);l.push(d.x),l.push(d.y)}),l},_prepareToStringify(n){let e;n.visitedByCircularReferenceRemoval=!0;for(const t in n)if(n.hasOwnProperty(t)&&n[t]&&typeof n[t]=="object"){if(e=Object.getOwnPropertyDescriptor(n,t),n[t].visitedByCircularReferenceRemoval||$._isElement(n[t]))if(e.configurable)delete n[t];else return null;else if($._prepareToStringify(n[t])===null)if(e.configurable)delete n[t];else return null}return delete n.visitedByCircularReferenceRemoval,n},_assign(n,e){for(const t in e)n[t]=e[t];return n},_getFirstPointerId(n){return n.touches?n.changedTouches[0].identifier:n.pointerId||999},releaseCanvas(...n){Pe.releaseCanvasOnDestroy&&n.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(n,e,t,r){let s=e<0?e:0,l=t<0?t:0;e=Math.abs(e),t=Math.abs(t);let c=0,d=0,h=0,g=0;typeof r=="number"?c=d=h=g=Math.min(r,e/2,t/2):(c=Math.min(r[0]||0,e/2,t/2),d=Math.min(r[1]||0,e/2,t/2),g=Math.min(r[2]||0,e/2,t/2),h=Math.min(r[3]||0,e/2,t/2)),n.moveTo(s+c,l),n.lineTo(s+e-d,l),n.arc(s+e-d,l+d,d,Math.PI*3/2,0,!1),n.lineTo(s+e,l+t-g),n.arc(s+e-g,l+t-g,g,0,Math.PI/2,!1),n.lineTo(s+h,l+t),n.arc(s+h,l+t-h,h,Math.PI/2,Math.PI,!1),n.lineTo(s,l+c),n.arc(s+c,l+c,c,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(n,e,t,r,s){r=Math.abs(r);for(let l=0;l<t;l++){const c=e[(l-1+t)%t],d=e[l],h=e[(l+1)%t],g={x:d.x-c.x,y:d.y-c.y},y={x:h.x-d.x,y:h.y-d.y},w=Math.hypot(g.x,g.y),_=Math.hypot(y.x,y.y);let k;typeof s=="number"?k=s:k=l<s.length?s[l]:0,k=r*Math.cos(Math.PI/t)*Math.min(1,k/r*2);const P={x:g.x/w,y:g.y/w},N={x:y.x/_,y:y.y/_},M={x:d.x-P.x*k,y:d.y-P.y*k},I={x:d.x+N.x*k,y:d.y+N.y*k};l===0?n.moveTo(M.x,M.y):n.lineTo(M.x,M.y),n.arcTo(d.x,d.y,I.x,I.y,k)}}};function qE(n){const e=[],t=n.length,r=$;for(let s=0;s<t;s++){let l=n[s];r._isNumber(l)?l=Math.round(l*1e3)/1e3:r._isString(l)||(l=l+""),e.push(l)}return e}const Xy=",",$E="(",XE=")",YE="([",KE="])",ZE=";",JE="()",eP="=",Yy=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],tP=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],nP=100;let Vh=null;function Ky(){if(Vh!==null)return Vh;try{const e=$.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(Vh=!1,!1)}catch{return Vh=!1,!1}}class Qp{constructor(e){this.canvas=e,Pe.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,t){let r=this.traceArr,s=r.length,l="",c,d,h,g;for(c=0;c<s;c++)d=r[c],h=d.method,h?(g=d.args,l+=h,e?l+=JE:$._isArray(g[0])?l+=YE+g.join(Xy)+KE:(t&&(g=g.map(y=>typeof y=="number"?Math.floor(y):y)),l+=$E+g.join(Xy)+XE)):(l+=d.property,e||(l+=eP+d.val)),l+=ZE;return l}clearTrace(){this.traceArr=[]}_trace(e){let t=this.traceArr,r;t.push(e),r=t.length,r>=nP&&t.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)}_applyLineCap(e){const t=e.attrs.lineCap;t&&this.setAttr("lineCap",t)}_applyOpacity(e){const t=e.getAbsoluteOpacity();t!==1&&this.setAttr("globalAlpha",t)}_applyLineJoin(e){const t=e.attrs.lineJoin;t&&this.setAttr("lineJoin",t)}_applyMiterLimit(e){const t=e.attrs.miterLimit;t!=null&&this.setAttr("miterLimit",t)}setAttr(e,t){this._context[e]=t}arc(e,t,r,s,l,c){this._context.arc(e,t,r,s,l,c)}arcTo(e,t,r,s,l){this._context.arcTo(e,t,r,s,l)}beginPath(){this._context.beginPath()}bezierCurveTo(e,t,r,s,l,c){this._context.bezierCurveTo(e,t,r,s,l,c)}clearRect(e,t,r,s){this._context.clearRect(e,t,r,s)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,t){const r=arguments;if(r.length===2)return this._context.createImageData(e,t);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,t,r,s){return this._context.createLinearGradient(e,t,r,s)}createPattern(e,t){return this._context.createPattern(e,t)}createRadialGradient(e,t,r,s,l,c){return this._context.createRadialGradient(e,t,r,s,l,c)}drawImage(e,t,r,s,l,c,d,h,g){const y=arguments,w=this._context;y.length===3?w.drawImage(e,t,r):y.length===5?w.drawImage(e,t,r,s,l):y.length===9&&w.drawImage(e,t,r,s,l,c,d,h,g)}ellipse(e,t,r,s,l,c,d,h){this._context.ellipse(e,t,r,s,l,c,d,h)}isPointInPath(e,t,r,s){return r?this._context.isPointInPath(r,e,t,s):this._context.isPointInPath(e,t,s)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,t,r,s){this._context.fillRect(e,t,r,s)}strokeRect(e,t,r,s){this._context.strokeRect(e,t,r,s)}fillText(e,t,r,s){s?this._context.fillText(e,t,r,s):this._context.fillText(e,t,r)}measureText(e){return this._context.measureText(e)}getImageData(e,t,r,s){return this._context.getImageData(e,t,r,s)}lineTo(e,t){this._context.lineTo(e,t)}moveTo(e,t){this._context.moveTo(e,t)}rect(e,t,r,s){this._context.rect(e,t,r,s)}roundRect(e,t,r,s,l){this._context.roundRect(e,t,r,s,l)}putImageData(e,t,r){this._context.putImageData(e,t,r)}quadraticCurveTo(e,t,r,s){this._context.quadraticCurveTo(e,t,r,s)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,t){this._context.scale(e,t)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,t,r,s,l,c){this._context.setTransform(e,t,r,s,l,c)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,t,r,s){this._context.strokeText(e,t,r,s)}transform(e,t,r,s,l,c){this._context.transform(e,t,r,s,l,c)}translate(e,t){this._context.translate(e,t)}_enableTrace(){let e=this,t=Yy.length,r=this.setAttr,s,l;const c=function(d){let h=e[d],g;e[d]=function(){return l=qE(Array.prototype.slice.call(arguments,0)),g=h.apply(e,arguments),e._trace({method:d,args:l}),g}};for(s=0;s<t;s++)c(Yy[s]);e.setAttr=function(){r.apply(e,arguments);const d=arguments[0];let h=arguments[1];(d==="shadowOffsetX"||d==="shadowOffsetY"||d==="shadowBlur")&&(h=h/this.canvas.getPixelRatio()),e._trace({property:d,val:h})}}_applyGlobalCompositeOperation(e){const t=e.attrs.globalCompositeOperation;!t||t==="source-over"||this.setAttr("globalCompositeOperation",t)}}tP.forEach(function(n){Object.defineProperty(Qp.prototype,n,{get(){return this._context[n]},set(e){this._context[n]=e}})});class rP extends Qp{constructor(e,{willReadFrequently:t=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:t})}_fillColor(e){const t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const t=e._getLinearGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fillRadialGradient(e){const t=e._getRadialGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fill(e){const t=e.fill(),r=e.getFillPriority();if(t&&r==="color"){this._fillColor(e);return}const s=e.getFillPatternImage();if(s&&r==="pattern"){this._fillPattern(e);return}const l=e.getFillLinearGradientColorStops();if(l&&r==="linear-gradient"){this._fillLinearGradient(e);return}const c=e.getFillRadialGradientColorStops();if(c&&r==="radial-gradient"){this._fillRadialGradient(e);return}t?this._fillColor(e):s?this._fillPattern(e):l?this._fillLinearGradient(e):c&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const t=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),s=e.getStrokeLinearGradientColorStops(),l=this.createLinearGradient(t.x,t.y,r.x,r.y);if(s){for(let c=0;c<s.length;c+=2)l.addColorStop(s[c],s[c+1]);this.setAttr("strokeStyle",l)}}_stroke(e){const t=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();const l=this.getCanvas().getPixelRatio();this.setTransform(l,0,0,l,0,0)}this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var t,r,s;const l=(t=e.getShadowRGBA())!==null&&t!==void 0?t:"black",c=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,d=(s=e.getShadowOffset())!==null&&s!==void 0?s:{x:0,y:0},h=e.getAbsoluteScale(),g=this.canvas.getPixelRatio(),y=h.x*g,w=h.y*g;this.setAttr("shadowColor",l),this.setAttr("shadowBlur",c*Math.min(Math.abs(y),Math.abs(w))),this.setAttr("shadowOffsetX",d.x*y),this.setAttr("shadowOffsetY",d.y*w)}}class iP extends Qp{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const t=e.getStrokeScaleEnabled();if(!t){this.save();const l=this.getCanvas().getPixelRatio();this.setTransform(l,0,0,l,0,0)}this._applyLineCap(e);const r=e.hitStrokeWidth(),s=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",s),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),t||this.restore()}}}let Wh;function sP(){if(Wh)return Wh;const n=$.createCanvasElement(),e=n.getContext("2d");return Wh=(function(){const t=Pe._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/r})(),$.releaseCanvas(n),Wh}class W0{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const r=(e||{}).pixelRatio||Pe.pixelRatio||sP();this.pixelRatio=r,this._canvas=$.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const t=this.pixelRatio;this.getContext()._context.scale(t,t)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const t=this.pixelRatio;this.getContext()._context.scale(t,t)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,t){this.setWidth(e||0),this.setHeight(t||0)}toDataURL(e,t){try{return this._canvas.toDataURL(e,t)}catch{try{return this._canvas.toDataURL()}catch(s){return $.error("Unable to get data URL. "+s.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class fa extends W0{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new rP(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}class Q0 extends W0{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new iP(this),this.setSize(e.width,e.height)}}const Pt={get isDragging(){let n=!1;return Pt._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(n=!0)}),n},justDragged:!1,get node(){let n;return Pt._dragElements.forEach(e=>{n=e.node}),n},_dragElements:new Map,_drag(n){const e=[];Pt._dragElements.forEach((t,r)=>{const{node:s}=t,l=s.getStage();l.setPointersPositions(n),t.pointerId===void 0&&(t.pointerId=$._getFirstPointerId(n));const c=l._changedPointerPositions.find(d=>d.id===t.pointerId);if(c){if(t.dragStatus!=="dragging"){const d=s.dragDistance();if(Math.max(Math.abs(c.x-t.startPointerPos.x),Math.abs(c.y-t.startPointerPos.y))<d||(s.startDrag({evt:n}),!s.isDragging()))return}s._setDragPosition(n,t),e.push(s)}}),e.forEach(t=>{t.fire("dragmove",{type:"dragmove",target:t,evt:n},!0)})},_endDragBefore(n){const e=[];Pt._dragElements.forEach(t=>{const{node:r}=t,s=r.getStage();if(n&&s.setPointersPositions(n),!s._changedPointerPositions.find(d=>d.id===t.pointerId))return;(t.dragStatus==="dragging"||t.dragStatus==="stopped")&&(Pt.justDragged=!0,Pe._mouseListenClick=!1,Pe._touchListenClick=!1,Pe._pointerListenClick=!1,t.dragStatus="stopped");const c=t.node.getLayer()||t.node instanceof Pe.Stage&&t.node;c&&e.indexOf(c)===-1&&e.push(c)}),e.forEach(t=>{t.draw()})},_endDragAfter(n){Pt._dragElements.forEach((e,t)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:n},!0),e.dragStatus!=="dragging"&&Pt._dragElements.delete(t)})}};Pe.isBrowser&&(window.addEventListener("mouseup",Pt._endDragBefore,!0),window.addEventListener("touchend",Pt._endDragBefore,!0),window.addEventListener("touchcancel",Pt._endDragBefore,!0),window.addEventListener("mousemove",Pt._drag),window.addEventListener("touchmove",Pt._drag),window.addEventListener("mouseup",Pt._endDragAfter,!1),window.addEventListener("touchend",Pt._endDragAfter,!1),window.addEventListener("touchcancel",Pt._endDragAfter,!1));function Sa(n){return $._isString(n)?'"'+n+'"':Object.prototype.toString.call(n)==="[object Number]"||$._isBoolean(n)?n:Object.prototype.toString.call(n)}function f5(n){return n>255?255:n<0?0:Math.round(n)}function Ce(){if(Pe.isUnminified)return function(n,e){return $._isNumber(n)||$.warn(Sa(n)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),n}}function qp(n){if(Pe.isUnminified)return function(e,t){let r=$._isNumber(e),s=$._isArray(e)&&e.length==n;return!r&&!s&&$.warn(Sa(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or Array<number>('+n+")"),e}}function q0(){if(Pe.isUnminified)return function(n,e){return $._isNumber(n)||n==="auto"||$.warn(Sa(n)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),n}}function _l(){if(Pe.isUnminified)return function(n,e){return $._isString(n)||$.warn(Sa(n)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),n}}function h5(){if(Pe.isUnminified)return function(n,e){const t=$._isString(n),r=Object.prototype.toString.call(n)==="[object CanvasGradient]"||n&&n.addColorStop;return t||r||$.warn(Sa(n)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),n}}function oP(){if(Pe.isUnminified)return function(n,e){const t=Int8Array?Object.getPrototypeOf(Int8Array):null;return t&&n instanceof t||($._isArray(n)?n.forEach(function(r){$._isNumber(r)||$.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):$.warn(Sa(n)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),n}}function Gi(){if(Pe.isUnminified)return function(n,e){return n===!0||n===!1||$.warn(Sa(n)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),n}}function aP(n){if(Pe.isUnminified)return function(e,t){return e==null||$.isObject(e)||$.warn(Sa(e)+' is a not valid value for "'+t+'" attribute. The value should be an object with properties '+n),e}}const Pd="get",Td="set",F={addGetterSetter(n,e,t,r,s){F.addGetter(n,e,t),F.addSetter(n,e,r,s),F.addOverloadedGetterSetter(n,e)},addGetter(n,e,t){const r=Pd+$._capitalize(e);n.prototype[r]=n.prototype[r]||function(){const s=this.attrs[e];return s===void 0?t:s}},addSetter(n,e,t,r){const s=Td+$._capitalize(e);n.prototype[s]||F.overWriteSetter(n,e,t,r)},overWriteSetter(n,e,t,r){const s=Td+$._capitalize(e);n.prototype[s]=function(l){return t&&l!==void 0&&l!==null&&(l=t.call(this,l,e)),this._setAttr(e,l),r&&r.call(this),this}},addComponentsGetterSetter(n,e,t,r,s){const l=t.length,c=$._capitalize,d=Pd+c(e),h=Td+c(e);n.prototype[d]=function(){const y={};for(let w=0;w<l;w++){const _=t[w];y[_]=this.getAttr(e+c(_))}return y};const g=aP(t);n.prototype[h]=function(y){const w=this.attrs[e];r&&(y=r.call(this,y,e)),g&&g.call(this,y,e);for(const _ in y)y.hasOwnProperty(_)&&this._setAttr(e+c(_),y[_]);return y||t.forEach(_=>{this._setAttr(e+c(_),void 0)}),this._fireChangeEvent(e,w,y),s&&s.call(this),this},F.addOverloadedGetterSetter(n,e)},addOverloadedGetterSetter(n,e){const t=$._capitalize(e),r=Td+t,s=Pd+t;n.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[s]()}},addDeprecatedGetterSetter(n,e,t,r){$.error("Adding deprecated "+e);const s=Pd+$._capitalize(e),l=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";n.prototype[s]=function(){$.error(l);const c=this.attrs[e];return c===void 0?t:c},F.addSetter(n,e,r,function(){$.error(l)}),F.addOverloadedGetterSetter(n,e)},backCompat(n,e){$.each(e,function(t,r){const s=n.prototype[r],l=Pd+$._capitalize(t),c=Td+$._capitalize(t);function d(){s.apply(this,arguments),$.error('"'+t+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}n.prototype[t]=d,n.prototype[l]=d,n.prototype[c]=d})},afterSetFilter(){this._filterUpToDate=!1}};function lP(n){const e=/(\w+)\(([^)]+)\)/g;let t;for(;(t=e.exec(n))!==null;){const[,r,s]=t;switch(r){case"blur":{const l=parseFloat(s.replace("px",""));return function(c){this.blurRadius(l*.5);const d=Pe.Filters;d&&d.Blur&&d.Blur.call(this,c)}}case"brightness":{const l=s.includes("%")?parseFloat(s)/100:parseFloat(s);return function(c){this.brightness(l);const d=Pe.Filters;d&&d.Brightness&&d.Brightness.call(this,c)}}case"contrast":{const l=parseFloat(s);return function(c){const d=100*(Math.sqrt(l)-1);this.contrast(d);const h=Pe.Filters;h&&h.Contrast&&h.Contrast.call(this,c)}}case"grayscale":return function(l){const c=Pe.Filters;c&&c.Grayscale&&c.Grayscale.call(this,l)};case"sepia":return function(l){const c=Pe.Filters;c&&c.Sepia&&c.Sepia.call(this,l)};case"invert":return function(l){const c=Pe.Filters;c&&c.Invert&&c.Invert.call(this,l)};default:$.warn(`CSS filter "${r}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const ap="absoluteOpacity",Zy="allEventListeners",to="absoluteTransform",Jy="absoluteScale",ul="canvas",uP="Change",cP="children",dP="konva",Kg="listening",fP="mouseenter",hP="mouseleave",pP="pointerenter",mP="pointerleave",gP="touchenter",yP="touchleave",ev="set",tv="Shape",lp=" ",nv="stage",la="transform",vP="Stage",Zg="visible",xP=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(lp);let wP=1,Ee=class Ad{constructor(e){this._id=wP++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===la||e===to)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,t){let r=this._cache.get(e);return(r===void 0||(e===la||e===to)&&r.dirty===!0)&&(r=t.call(this),this._cache.set(e,r)),r}_calculate(e,t,r){if(!this._attachedDepsListeners.get(e)){const s=t.map(l=>l+"Change.konva").join(lp);this.on(s,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(ul)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===to&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(ul)){const{scene:e,filter:t,hit:r}=this._cache.get(ul);$.releaseCanvas(e._canvas,t._canvas,r._canvas),this._cache.delete(ul)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const t=e||{};let r={};(t.x===void 0||t.y===void 0||t.width===void 0||t.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let s=Math.ceil(t.width||r.width),l=Math.ceil(t.height||r.height),c=t.pixelRatio,d=t.x===void 0?Math.floor(r.x):t.x,h=t.y===void 0?Math.floor(r.y):t.y,g=t.offset||0,y=t.drawBorder||!1,w=t.hitCanvasPixelRatio||1;if(!s||!l){$.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const _=Math.abs(Math.round(r.x)-d)>.5?1:0,k=Math.abs(Math.round(r.y)-h)>.5?1:0;s+=g*2+_,l+=g*2+k,d-=g,h-=g;const R=new fa({pixelRatio:c,width:s,height:l}),P=new fa({pixelRatio:c,width:0,height:0,willReadFrequently:!0}),N=new Q0({pixelRatio:w,width:s,height:l}),M=R.getContext(),I=N.getContext(),L=new fa({width:R.width/R.pixelRatio+Math.abs(d),height:R.height/R.pixelRatio+Math.abs(h),pixelRatio:R.pixelRatio}),D=L.getContext();return N.isCache=!0,R.isCache=!0,this._cache.delete(ul),this._filterUpToDate=!1,t.imageSmoothingEnabled===!1&&(R.getContext()._context.imageSmoothingEnabled=!1,P.getContext()._context.imageSmoothingEnabled=!1),M.save(),I.save(),D.save(),M.translate(-d,-h),I.translate(-d,-h),D.translate(-d,-h),L.x=d,L.y=h,this._isUnderCache=!0,this._clearSelfAndDescendantCache(ap),this._clearSelfAndDescendantCache(Jy),this.drawScene(R,this,L),this.drawHit(N,this),this._isUnderCache=!1,M.restore(),I.restore(),y&&(M.save(),M.beginPath(),M.rect(0,0,s,l),M.closePath(),M.setAttr("strokeStyle","red"),M.setAttr("lineWidth",5),M.stroke(),M.restore()),$.releaseCanvas(L._canvas),this._cache.set(ul,{scene:R,filter:P,hit:N,x:d,y:h}),this._requestDraw(),this}isCached(){return this._cache.has(ul)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,t){const r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let s=1/0,l=1/0,c=-1/0,d=-1/0;const h=this.getAbsoluteTransform(t);return r.forEach(function(g){const y=h.point(g);s===void 0&&(s=c=y.x,l=d=y.y),s=Math.min(s,y.x),l=Math.min(l,y.y),c=Math.max(c,y.x),d=Math.max(d,y.y)}),{x:s,y:l,width:c-s,height:d-l}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const t=this._getCanvasCache();e.translate(t.x,t.y);const r=this._getCachedSceneCanvas(),s=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/s,r.height/s),e.restore()}_drawCachedHitCanvas(e){const t=this._getCanvasCache(),r=t.hit;e.save(),e.translate(t.x,t.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),t=this._getCanvasCache(),r=t.scene,s=t.filter,l=s.getContext(),c,d,h,g;if(!e||e.length===0)return r;if(this._filterUpToDate)return s;let y=!0;for(let _=0;_<e.length;_++)if(typeof e[_]=="string"&&Ky(),typeof e[_]!="string"||!Ky()){y=!1;break}const w=r.pixelRatio;if(s.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio),y){const _=e.join(" ");return l.save(),l.setAttr("filter",_),l.drawImage(r._canvas,0,0,r.getWidth()/w,r.getHeight()/w),l.restore(),this._filterUpToDate=!0,s}try{for(c=e.length,l.clear(),l.drawImage(r._canvas,0,0,r.getWidth()/w,r.getHeight()/w),d=l.getImageData(0,0,s.getWidth(),s.getHeight()),h=0;h<c;h++)g=e[h],typeof g=="string"&&(g=lP(g)),g.call(this,d),l.putImageData(d,0,0)}catch(_){$.error("Unable to apply filter. "+_.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,s}on(e,t){if(this._cache&&this._cache.delete(Zy),arguments.length===3)return this._delegate.apply(this,arguments);const r=e.split(lp);for(let s=0;s<r.length;s++){const c=r[s].split("."),d=c[0],h=c[1]||"";this.eventListeners[d]||(this.eventListeners[d]=[]),this.eventListeners[d].push({name:h,handler:t})}return this}off(e,t){let r=(e||"").split(lp),s=r.length,l,c,d,h,g,y;if(this._cache&&this._cache.delete(Zy),!e)for(c in this.eventListeners)this._off(c);for(l=0;l<s;l++)if(d=r[l],h=d.split("."),g=h[0],y=h[1],g)this.eventListeners[g]&&this._off(g,y,t);else for(c in this.eventListeners)this._off(c,y,t);return this}dispatchEvent(e){const t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this}addEventListener(e,t){return this.on(e,function(r){t.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,t,r){const s=this;this.on(e,function(l){const c=l.target.findAncestors(t,!0,s);for(let d=0;d<c.length;d++)l=$.cloneObject(l),l.currentTarget=c[d],r.call(c[d],l)})}remove(){return this.isDragging()&&this.stopDrag(),Pt._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(to),this._clearSelfAndDescendantCache(ap),this._clearSelfAndDescendantCache(Jy),this._clearSelfAndDescendantCache(nv),this._clearSelfAndDescendantCache(Zg),this._clearSelfAndDescendantCache(Kg)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const t="get"+$._capitalize(e);return $._isFunction(this[t])?this[t]():this.attrs[e]}getAncestors(){let e=this.getParent(),t=[];for(;e;)t.push(e),e=e.getParent();return t}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let t,r;if(!e)return this;for(t in e)t!==cP&&(r=ev+$._capitalize(t),$._isFunction(this[r])?this[r](e[t]):this._setAttr(t,e[t]))}),this}isListening(){return this._getCache(Kg,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(Zg,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,t=!1){if(e)return this._isVisible(e)&&this._isListening(e);const r=this.getLayer();let s=!1;Pt._dragElements.forEach(c=>{c.dragStatus==="dragging"&&(c.node.nodeType==="Stage"||c.node.getLayer()===r)&&(s=!0)});const l=!t&&!Pe.hitOnDragEnabled&&(s||Pe.isTransforming());return this.isListening()&&this.isVisible()&&!l}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),t=this,r=0,s,l,c,d;function h(y){for(s=[],l=y.length,c=0;c<l;c++)d=y[c],r++,d.nodeType!==tv&&(s=s.concat(d.getChildren().slice())),d._id===t._id&&(c=l);s.length>0&&s[0].getDepth()<=e&&h(s)}const g=this.getStage();return t.nodeType!==vP&&g&&h(g.getChildren()),r}getDepth(){let e=0,t=this.parent;for(;t;)e++,t=t.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(la),this._clearSelfAndDescendantCache(to)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const t=e.getPointerPosition();if(!t)return null;const r=this.getAbsoluteTransform().copy();return r.invert(),r.point(t)}getAbsolutePosition(e){let t=!1,r=this.parent;for(;r;){if(r.isCached()){t=!0;break}r=r.parent}t&&!e&&(e=!0);const s=this.getAbsoluteTransform(e).getMatrix(),l=new qr,c=this.offset();return l.m=s.slice(),l.translate(c.x,c.y),l.getTranslation()}setAbsolutePosition(e){const{x:t,y:r,...s}=this._clearTransform();this.attrs.x=t,this.attrs.y=r,this._clearCache(la);const l=this._getAbsoluteTransform().copy();return l.invert(),l.translate(e.x,e.y),e={x:this.attrs.x+l.getTranslation().x,y:this.attrs.y+l.getTranslation().y},this._setTransform(s),this.setPosition({x:e.x,y:e.y}),this._clearCache(la),this._clearSelfAndDescendantCache(to),this}_setTransform(e){let t;for(t in e)this.attrs[t]=e[t]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let t=e.x,r=e.y,s=this.x(),l=this.y();return t!==void 0&&(s+=t),r!==void 0&&(l+=r),this.setPosition({x:s,y:l}),this}_eachAncestorReverse(e,t){let r=[],s=this.getParent(),l,c;if(!(t&&t._id===this._id)){for(r.unshift(this);s&&(!t||s._id!==t._id);)r.unshift(s),s=s.parent;for(l=r.length,c=0;c<l;c++)e(r[c])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return $.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,t=this.parent.getChildren().length;return e<t-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return $.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,t=this.parent.getChildren().length;return e<t-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return $.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return $.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return $.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&$.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(ap,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const t=this.getParent();return t&&!t._isUnderCache&&(e*=t.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),t,r,s,l,c;const d={attrs:{},className:this.getClassName()};for(t in e)r=e[t],c=$.isObject(r)&&!$._isPlainObject(r)&&!$._isArray(r),!c&&(s=typeof this[t]=="function"&&this[t],delete e[t],l=s?s.call(this):null,e[t]=r,l!==r&&(d.attrs[t]=r));return $._prepareToStringify(d)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,t,r){const s=[];t&&this._isMatch(e)&&s.push(this);let l=this.parent;for(;l;){if(l===r)return s;l._isMatch(e)&&s.push(l),l=l.parent}return s}isAncestorOf(e){return!1}findAncestor(e,t,r){return this.findAncestors(e,t,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let t=e.replace(/ /g,"").split(","),r=t.length,s,l;for(s=0;s<r;s++)if(l=t[s],$.isValidSelector(l)||($.warn('Selector "'+l+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),$.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),$.warn("Konva is awesome, right?")),l.charAt(0)==="#"){if(this.id()===l.slice(1))return!0}else if(l.charAt(0)==="."){if(this.hasName(l.slice(1)))return!0}else if(this.className===l||this.nodeType===l)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(nv,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,t={},r){return t.target=t.target||this,r?this._fireAndBubble(e,t):this._fire(e,t),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(to,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let t;if(e)return t=new qr,this._eachAncestorReverse(function(r){const s=r.transformsEnabled();s==="all"?t.multiply(r.getTransform()):s==="position"&&t.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),t;{t=this._cache.get(to)||new qr,this.parent?this.parent.getAbsoluteTransform().copyInto(t):t.reset();const r=this.transformsEnabled();if(r==="all")t.multiply(this.getTransform());else if(r==="position"){const s=this.attrs.x||0,l=this.attrs.y||0,c=this.attrs.offsetX||0,d=this.attrs.offsetY||0;t.translate(s-c,l-d)}return t.dirty=!1,t}}getAbsoluteScale(e){let t=this;for(;t;)t._isUnderCache&&(e=t),t=t.getParent();const s=this.getAbsoluteTransform(e).decompose();return{x:s.scaleX,y:s.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(la,this._getTransform)}_getTransform(){var e,t;const r=this._cache.get(la)||new qr;r.reset();const s=this.x(),l=this.y(),c=Pe.getAngle(this.rotation()),d=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,h=(t=this.attrs.scaleY)!==null&&t!==void 0?t:1,g=this.attrs.skewX||0,y=this.attrs.skewY||0,w=this.attrs.offsetX||0,_=this.attrs.offsetY||0;return(s!==0||l!==0)&&r.translate(s,l),c!==0&&r.rotate(c),(g!==0||y!==0)&&r.skew(g,y),(d!==1||h!==1)&&r.scale(d,h),(w!==0||_!==0)&&r.translate(-1*w,-1*_),r.dirty=!1,r}clone(e){let t=$.cloneObject(this.attrs),r,s,l,c,d;for(r in e)t[r]=e[r];const h=new this.constructor(t);for(r in this.eventListeners)for(s=this.eventListeners[r],l=s.length,c=0;c<l;c++)d=s[c],d.name.indexOf(dP)<0&&(h.eventListeners[r]||(h.eventListeners[r]=[]),h.eventListeners[r].push(d));return h}_toKonvaCanvas(e){e=e||{};const t=this.getClientRect(),r=this.getStage(),s=e.x!==void 0?e.x:Math.floor(t.x),l=e.y!==void 0?e.y:Math.floor(t.y),c=e.pixelRatio||1,d=new fa({width:e.width||Math.ceil(t.width)||(r?r.width():0),height:e.height||Math.ceil(t.height)||(r?r.height():0),pixelRatio:c}),h=d.getContext(),g=new fa({width:d.width/d.pixelRatio+Math.abs(s),height:d.height/d.pixelRatio+Math.abs(l),pixelRatio:d.pixelRatio});return e.imageSmoothingEnabled===!1&&(h._context.imageSmoothingEnabled=!1),h.save(),(s||l)&&h.translate(-1*s,-1*l),this.drawScene(d,void 0,g),h.restore(),d}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const t=e.mimeType||null,r=e.quality||null,s=this._toKonvaCanvas(e).toDataURL(t,r);return e.callback&&e.callback(s),s}toImage(e){return new Promise((t,r)=>{try{const s=e?.callback;s&&delete e.callback,$._urlToImage(this.toDataURL(e),function(l){t(l),s?.(l)})}catch(s){r(s)}})}toBlob(e){return new Promise((t,r)=>{try{const s=e?.callback;s&&delete e.callback,this.toCanvas(e).toBlob(l=>{t(l),s?.(l)},e?.mimeType,e?.quality)}catch(s){r(s)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Pe.dragDistance}_off(e,t,r){let s=this.eventListeners[e],l,c,d;for(l=0;l<s.length;l++)if(c=s[l].name,d=s[l].handler,(c!=="konva"||t==="konva")&&(!t||c===t)&&(!r||r===d)){if(s.splice(l,1),s.length===0){delete this.eventListeners[e];break}l--}}_fireChangeEvent(e,t,r){this._fire(e+uP,{oldVal:t,newVal:r})}addName(e){if(!this.hasName(e)){const t=this.name(),r=t?t+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const t=this.name();return t?(t||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const t=(this.name()||"").split(/\s/g),r=t.indexOf(e);return r!==-1&&(t.splice(r,1),this.name(t.join(" "))),this}setAttr(e,t){const r=this[ev+$._capitalize(e)];return $._isFunction(r)?r.call(this,t):this._setAttr(e,t),this}_requestDraw(){if(Pe.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,t){const r=this.attrs[e];r===t&&!$.isObject(t)||(t==null?delete this.attrs[e]:this.attrs[e]=t,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,t),this._requestDraw())}_setComponentAttr(e,t,r){let s;r!==void 0&&(s=this.attrs[e],s||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=r,this._fireChangeEvent(e,s,r))}_fireAndBubble(e,t,r){t&&this.nodeType===tv&&(t.target=this);const s=[fP,hP,pP,mP,gP,yP];if(!(s.indexOf(e)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,t);const c=s.indexOf(e)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!c&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,t,r):this._fireAndBubble.call(this.parent,e,t))}}_getProtoListeners(e){var t,r;const{nodeType:s}=this,l=Ad.protoListenerMap.get(s)||{};let c=l?.[e];if(c===void 0){c=[];let d=Object.getPrototypeOf(this);for(;d;){const h=(r=(t=d.eventListeners)===null||t===void 0?void 0:t[e])!==null&&r!==void 0?r:[];c.push(...h),d=Object.getPrototypeOf(d)}l[e]=c,Ad.protoListenerMap.set(s,l)}return c}_fire(e,t){t=t||{},t.currentTarget=this,t.type=e;const r=this._getProtoListeners(e);if(r)for(let l=0;l<r.length;l++)r[l].handler.call(this,t);const s=this.eventListeners[e];if(s)for(let l=0;l<s.length;l++)s[l].handler.call(this,t)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const t=e?e.pointerId:void 0,r=this.getStage(),s=this.getAbsolutePosition();if(!r)return;const l=r._getPointerById(t)||r._changedPointerPositions[0]||s;Pt._dragElements.set(this._id,{node:this,startPointerPos:l,offset:{x:l.x-s.x,y:l.y-s.y},dragStatus:"ready",pointerId:t})}startDrag(e,t=!0){Pt._dragElements.has(this._id)||this._createDragElement(e);const r=Pt._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},t)}_setDragPosition(e,t){const r=this.getStage()._getPointerById(t.pointerId);if(!r)return;let s={x:r.x-t.offset.x,y:r.y-t.offset.y};const l=this.dragBoundFunc();if(l!==void 0){const c=l.call(this,s,e);c?s=c:$.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==s.x||this._lastPos.y!==s.y)&&(this.setAbsolutePosition(s),this._requestDraw()),this._lastPos=s}stopDrag(e){const t=Pt._dragElements.get(this._id);t&&(t.dragStatus="stopped"),Pt._endDragBefore(e),Pt._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=Pt._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Pe.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let s=!1;Pt._dragElements.forEach(l=>{this.isAncestorOf(l.node)&&(s=!0)}),s||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const t=Pt._dragElements.get(this._id),r=t&&t.dragStatus==="dragging",s=t&&t.dragStatus==="ready";r?this.stopDrag():s&&Pt._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const t=this.getStage();if(!t)return!1;const r={x:-e.x,y:-e.y,width:t.width()+2*e.x,height:t.height()+2*e.y};return $.haveIntersection(r,this.getClientRect())}static create(e,t){return $._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)}static _createNode(e,t){let r=Ad.prototype.getClassName.call(e),s=e.children,l,c,d;t&&(e.attrs.container=t),Pe[r]||($.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const h=Pe[r];if(l=new h(e.attrs),s)for(c=s.length,d=0;d<c;d++)l.add(Ad._createNode(s[d]));return l}};Ee.protoListenerMap=new Map;Ee.prototype.nodeType="Node";Ee.prototype._attrsAffectingSize=[];Ee.prototype.eventListeners={};Ee.prototype.on.call(Ee.prototype,xP,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(la),this._clearSelfAndDescendantCache(to)});Ee.prototype.on.call(Ee.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Zg)});Ee.prototype.on.call(Ee.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Kg)});Ee.prototype.on.call(Ee.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(ap)});const zt=F.addGetterSetter;zt(Ee,"zIndex");zt(Ee,"absolutePosition");zt(Ee,"position");zt(Ee,"x",0,Ce());zt(Ee,"y",0,Ce());zt(Ee,"globalCompositeOperation","source-over",_l());zt(Ee,"opacity",1,Ce());zt(Ee,"name","",_l());zt(Ee,"id","",_l());zt(Ee,"rotation",0,Ce());F.addComponentsGetterSetter(Ee,"scale",["x","y"]);zt(Ee,"scaleX",1,Ce());zt(Ee,"scaleY",1,Ce());F.addComponentsGetterSetter(Ee,"skew",["x","y"]);zt(Ee,"skewX",0,Ce());zt(Ee,"skewY",0,Ce());F.addComponentsGetterSetter(Ee,"offset",["x","y"]);zt(Ee,"offsetX",0,Ce());zt(Ee,"offsetY",0,Ce());zt(Ee,"dragDistance",void 0,Ce());zt(Ee,"width",0,Ce());zt(Ee,"height",0,Ce());zt(Ee,"listening",!0,Gi());zt(Ee,"preventDefault",!0,Gi());zt(Ee,"filters",void 0,function(n){return this._filterUpToDate=!1,n});zt(Ee,"visible",!0,Gi());zt(Ee,"transformsEnabled","all",_l());zt(Ee,"size");zt(Ee,"dragBoundFunc");zt(Ee,"draggable",!1,Gi());F.backCompat(Ee,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class Yr extends Ee{constructor(){super(...arguments),this.children=[]}getChildren(e){const t=this.children||[];return e?t.filter(e):t}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}const t=e[0];return t.getParent()?(t.moveTo(this),this):(this._validateAdd(t),t.index=this.getChildren().length,t.parent=this,t._clearCaches(),this.getChildren().push(t),this._fire("add",{child:t}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const t=this._generalFind(e,!0);return t.length>0?t[0]:void 0}_generalFind(e,t){const r=[];return this._descendants(s=>{const l=s._isMatch(e);return l&&r.push(s),!!(l&&t)}),r}_descendants(e){let t=!1;const r=this.getChildren();for(const s of r){if(t=e(s),t)return!0;if(s.hasChildren()&&(t=s._descendants(e),t))return!0}return!1}toObject(){const e=Ee.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(t=>{e.children.push(t.toObject())}),e}isAncestorOf(e){let t=e.getParent();for(;t;){if(t._id===this._id)return!0;t=t.getParent()}return!1}clone(e){const t=Ee.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){t.add(r.clone())}),t}getAllIntersections(e){const t=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&t.push(r)}),t}_clearSelfAndDescendantCache(e){var t;super._clearSelfAndDescendantCache(e),!this.isCached()&&((t=this.children)===null||t===void 0||t.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(t,r){t.index=r}),this._requestDraw()}drawScene(e,t,r){const s=this.getLayer(),l=e||s&&s.getCanvas(),c=l&&l.getContext(),d=this._getCanvasCache(),h=d&&d.scene,g=l&&l.isCache;if(!this.isVisible()&&!g)return this;if(h){c.save();const y=this.getAbsoluteTransform(t).getMatrix();c.transform(y[0],y[1],y[2],y[3],y[4],y[5]),this._drawCachedSceneCanvas(c),c.restore()}else this._drawChildren("drawScene",l,t,r);return this}drawHit(e,t){if(!this.shouldDrawHit(t))return this;const r=this.getLayer(),s=e||r&&r.hitCanvas,l=s&&s.getContext(),c=this._getCanvasCache();if(c&&c.hit){l.save();const h=this.getAbsoluteTransform(t).getMatrix();l.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedHitCanvas(l),l.restore()}else this._drawChildren("drawHit",s,t);return this}_drawChildren(e,t,r,s){var l;const c=t&&t.getContext(),d=this.clipWidth(),h=this.clipHeight(),g=this.clipFunc(),y=typeof d=="number"&&typeof h=="number"||g,w=r===this;if(y){c.save();const k=this.getAbsoluteTransform(r);let R=k.getMatrix();c.transform(R[0],R[1],R[2],R[3],R[4],R[5]),c.beginPath();let P;if(g)P=g.call(this,c,this);else{const N=this.clipX(),M=this.clipY();c.rect(N||0,M||0,d,h)}c.clip.apply(c,P),R=k.copy().invert().getMatrix(),c.transform(R[0],R[1],R[2],R[3],R[4],R[5])}const _=!w&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";_&&(c.save(),c._applyGlobalCompositeOperation(this)),(l=this.children)===null||l===void 0||l.forEach(function(k){k[e](t,r,s)}),_&&c.restore(),y&&c.restore()}getClientRect(e={}){var t;const r=e.skipTransform,s=e.relativeTo;let l,c,d,h,g={x:1/0,y:1/0,width:0,height:0};const y=this;(t=this.children)===null||t===void 0||t.forEach(function(k){if(!k.visible())return;const R=k.getClientRect({relativeTo:y,skipShadow:e.skipShadow,skipStroke:e.skipStroke});R.width===0&&R.height===0||(l===void 0?(l=R.x,c=R.y,d=R.x+R.width,h=R.y+R.height):(l=Math.min(l,R.x),c=Math.min(c,R.y),d=Math.max(d,R.x+R.width),h=Math.max(h,R.y+R.height)))});const w=this.find("Shape");let _=!1;for(let k=0;k<w.length;k++)if(w[k]._isVisible(this)){_=!0;break}return _&&l!==void 0?g={x:l,y:c,width:d-l,height:h-c}:g={x:0,y:0,width:0,height:0},r?g:this._transformedRect(g,s)}}F.addComponentsGetterSetter(Yr,"clip",["x","y","width","height"]);F.addGetterSetter(Yr,"clipX",void 0,Ce());F.addGetterSetter(Yr,"clipY",void 0,Ce());F.addGetterSetter(Yr,"clipWidth",void 0,Ce());F.addGetterSetter(Yr,"clipHeight",void 0,Ce());F.addGetterSetter(Yr,"clipFunc");const ff=new Map,p5=Pe._global.PointerEvent!==void 0;function lg(n){return ff.get(n)}function $0(n){return{evt:n,pointerId:n.pointerId}}function m5(n,e){return ff.get(n)===e}function g5(n,e){Bd(n),e.getStage()&&(ff.set(n,e),p5&&e._fire("gotpointercapture",$0(new PointerEvent("gotpointercapture"))))}function Bd(n,e){const t=ff.get(n);if(!t)return;const r=t.getStage();r&&r.content,ff.delete(n),p5&&t._fire("lostpointercapture",$0(new PointerEvent("lostpointercapture")))}const SP="Stage",_P="string",rv="px",CP="mouseout",y5="mouseleave",v5="mouseover",x5="mouseenter",w5="mousemove",S5="mousedown",_5="mouseup",Md="pointermove",Id="pointerdown",Bu="pointerup",Od="pointercancel",EP="lostpointercapture",Qh="pointerout",Ld="pointerleave",qh="pointerover",$h="pointerenter",Jg="contextmenu",C5="touchstart",E5="touchend",P5="touchmove",T5="touchcancel",e0="wheel",PP=5,TP=[[x5,"_pointerenter"],[S5,"_pointerdown"],[w5,"_pointermove"],[_5,"_pointerup"],[y5,"_pointerleave"],[C5,"_pointerdown"],[P5,"_pointermove"],[E5,"_pointerup"],[T5,"_pointercancel"],[v5,"_pointerover"],[e0,"_wheel"],[Jg,"_contextmenu"],[Id,"_pointerdown"],[Md,"_pointermove"],[Bu,"_pointerup"],[Od,"_pointercancel"],[Ld,"_pointerleave"],[EP,"_lostpointercapture"]],ug={mouse:{[Qh]:CP,[Ld]:y5,[qh]:v5,[$h]:x5,[Md]:w5,[Id]:S5,[Bu]:_5,[Od]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[Qh]:"touchout",[Ld]:"touchleave",[qh]:"touchover",[$h]:"touchenter",[Md]:P5,[Id]:C5,[Bu]:E5,[Od]:T5,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[Qh]:Qh,[Ld]:Ld,[qh]:qh,[$h]:$h,[Md]:Md,[Id]:Id,[Bu]:Bu,[Od]:Od,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Dd=n=>n.indexOf("pointer")>=0?"pointer":n.indexOf("touch")>=0?"touch":"mouse",Au=n=>{const e=Dd(n);if(e==="pointer")return Pe.pointerEventsEnabled&&ug.pointer;if(e==="touch")return ug.touch;if(e==="mouse")return ug.mouse};function iv(n={}){return(n.clipFunc||n.clipWidth||n.clipHeight)&&$.warn("Stage does not support clipping. Please use clip for Layers or Groups."),n}const bP="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",Gd=[];let $p=class extends Yr{constructor(e){super(iv(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Gd.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{iv(this.attrs)}),this._checkVisibility()}_validateAdd(e){const t=e.getType()==="Layer",r=e.getType()==="FastLayer";t||r||$.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===_P){let t;if(e.charAt(0)==="."){const r=e.slice(1);e=document.getElementsByClassName(r)[0]}else e.charAt(0)!=="#"?t=e:t=e.slice(1),e=document.getElementById(t);if(!e)throw"Can not find container in document with id "+t}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,t=e.length;for(let r=0;r<t;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),Yr.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&$._isInDocument(e)&&this.container().removeChild(e);const t=Gd.indexOf(this);return t>-1&&Gd.splice(t,1),$.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:($.warn(bP),null)}_getPointerById(e){return this._pointerPositions.find(t=>t.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const t=new fa({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=t.getContext()._context,s=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),s.forEach(function(l){if(!l.isVisible())return;const c=l._toKonvaCanvas(e);r.drawImage(c._canvas,e.x,e.y,c.getWidth()/c.getPixelRatio(),c.getHeight()/c.getPixelRatio())}),t}getIntersection(e){if(!e)return null;const t=this.children,r=t.length,s=r-1;for(let l=s;l>=0;l--){const c=t[l].getIntersection(e);if(c)return c}return null}_resizeDOM(){const e=this.width(),t=this.height();this.content&&(this.content.style.width=e+rv,this.content.style.height=t+rv),this.bufferCanvas.setSize(e,t),this.bufferHitCanvas.setSize(e,t),this.children.forEach(r=>{r.setSize({width:e,height:t}),r.draw()})}add(e,...t){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.add(arguments[s]);return this}super.add(e);const r=this.children.length;return r>PP&&$.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Pe.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return m5(e,this)}setPointerCapture(e){g5(e,this)}releaseCapture(e){Bd(e)}getLayers(){return this.children}_bindContentEvents(){Pe.isBrowser&&TP.forEach(([e,t])=>{this.content.addEventListener(e,r=>{this[t](r)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const t=Au(e.type);t&&this._fire(t.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const t=Au(e.type);t&&this._fire(t.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let t=this[e+"targetShape"];return t&&!t.getStage()&&(t=null),t}_pointerleave(e){const t=Au(e.type),r=Dd(e.type);if(!t)return;this.setPointersPositions(e);const s=this._getTargetShape(r),l=!(Pe.isDragging()||Pe.isTransforming())||Pe.hitOnDragEnabled;s&&l?(s._fireAndBubble(t.pointerout,{evt:e}),s._fireAndBubble(t.pointerleave,{evt:e}),this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):l&&(this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(t.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const t=Au(e.type),r=Dd(e.type);if(!t)return;this.setPointersPositions(e);let s=!1;this._changedPointerPositions.forEach(l=>{const c=this.getIntersection(l);if(Pt.justDragged=!1,Pe["_"+r+"ListenClick"]=!0,!c||!c.isListening()){this[r+"ClickStartShape"]=void 0;return}Pe.capturePointerEventsEnabled&&c.setPointerCapture(l.id),this[r+"ClickStartShape"]=c,c._fireAndBubble(t.pointerdown,{evt:e,pointerId:l.id}),s=!0;const d=e.type.indexOf("touch")>=0;c.preventDefault()&&e.cancelable&&d&&e.preventDefault()}),s||this._fire(t.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const t=Au(e.type),r=Dd(e.type);if(!t)return;const s=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(Pe.isDragging()&&Pt.node.preventDefault()&&e.cancelable&&s&&e.preventDefault(),this.setPointersPositions(e),!(!(Pe.isDragging()||Pe.isTransforming())||Pe.hitOnDragEnabled))return;const c={};let d=!1;const h=this._getTargetShape(r);this._changedPointerPositions.forEach(g=>{const y=lg(g.id)||this.getIntersection(g),w=g.id,_={evt:e,pointerId:w},k=h!==y;if(k&&h&&(h._fireAndBubble(t.pointerout,{..._},y),h._fireAndBubble(t.pointerleave,{..._},y)),y){if(c[y._id])return;c[y._id]=!0}y&&y.isListening()?(d=!0,k&&(y._fireAndBubble(t.pointerover,{..._},h),y._fireAndBubble(t.pointerenter,{..._},h),this[r+"targetShape"]=y),y._fireAndBubble(t.pointermove,{..._})):h&&(this._fire(t.pointerover,{evt:e,target:this,currentTarget:this,pointerId:w}),this[r+"targetShape"]=null)}),d||this._fire(t.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const t=Au(e.type),r=Dd(e.type);if(!t)return;this.setPointersPositions(e);const s=this[r+"ClickStartShape"],l=this[r+"ClickEndShape"],c={};let d=!1;this._changedPointerPositions.forEach(h=>{const g=lg(h.id)||this.getIntersection(h);if(g){if(g.releaseCapture(h.id),c[g._id])return;c[g._id]=!0}const y=h.id,w={evt:e,pointerId:y};let _=!1;Pe["_"+r+"InDblClickWindow"]?(_=!0,clearTimeout(this[r+"DblTimeout"])):Pt.justDragged||(Pe["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){Pe["_"+r+"InDblClickWindow"]=!1},Pe.dblClickWindow),g&&g.isListening()?(d=!0,this[r+"ClickEndShape"]=g,g._fireAndBubble(t.pointerup,{...w}),Pe["_"+r+"ListenClick"]&&s&&s===g&&(g._fireAndBubble(t.pointerclick,{...w}),_&&l&&l===g&&g._fireAndBubble(t.pointerdblclick,{...w}))):(this[r+"ClickEndShape"]=null,d||(this._fire(t.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),d=!0),Pe["_"+r+"ListenClick"]&&this._fire(t.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:y}),_&&this._fire(t.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:y}))}),d||this._fire(t.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Pe["_"+r+"ListenClick"]=!1,e.cancelable&&r!=="touch"&&r!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(Jg,{evt:e}):this._fire(Jg,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(e0,{evt:e}):this._fire(e0,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const t=lg(e.pointerId)||this.getIntersection(this.getPointerPosition());t&&t._fireAndBubble(Bu,$0(e)),Bd(e.pointerId)}_lostpointercapture(e){Bd(e.pointerId)}setPointersPositions(e){const t=this._getContentPosition();let r=null,s=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,l=>{this._pointerPositions.push({id:l.identifier,x:(l.clientX-t.left)/t.scaleX,y:(l.clientY-t.top)/t.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,l=>{this._changedPointerPositions.push({id:l.identifier,x:(l.clientX-t.left)/t.scaleX,y:(l.clientY-t.top)/t.scaleY})})):(r=(e.clientX-t.left)/t.scaleX,s=(e.clientY-t.top)/t.scaleY,this.pointerPos={x:r,y:s},this._pointerPositions=[{x:r,y:s,id:$._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:s,id:$._getFirstPointerId(e)}])}_setPointerPosition(e){$.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new fa({width:this.width(),height:this.height()}),this.bufferHitCanvas=new Q0({pixelRatio:1,width:this.width(),height:this.height()}),!Pe.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return $.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};$p.prototype.nodeType=SP;sn($p);F.addGetterSetter($p,"container");Pe.isBrowser&&document.addEventListener("visibilitychange",()=>{Gd.forEach(n=>{n.batchDraw()})});const b5="hasShadow",k5="shadowRGBA",R5="patternImage",N5="linearGradient",A5="radialGradient";let Xh;function cg(){return Xh||(Xh=$.createCanvasElement().getContext("2d"),Xh)}const Ud={};function kP(n){const e=this.attrs.fillRule;e?n.fill(e):n.fill()}function RP(n){n.stroke()}function NP(n){const e=this.attrs.fillRule;e?n.fill(e):n.fill()}function AP(n){n.stroke()}function MP(){this._clearCache(b5)}function IP(){this._clearCache(k5)}function OP(){this._clearCache(R5)}function LP(){this._clearCache(N5)}function DP(){this._clearCache(A5)}class ge extends Ee{constructor(e){super(e);let t,r=0;for(;t=$.getHitColor(),!(t&&!(t in Ud));)if(r++,r>=1e4){$.warn("Failed to find a unique color key for a shape. Konva may work incorrectly. Most likely your browser is using canvas farbling. Consider disabling it."),t=$.getRandomColor();break}this.colorKey=t,Ud[t]=this}getContext(){return $.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return $.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(b5,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(R5,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const t=cg().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(t&&t.setTransform){const r=new qr;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(Pe.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const s=r.getMatrix(),l=typeof DOMMatrix>"u"?{a:s[0],b:s[1],c:s[2],d:s[3],e:s[4],f:s[5]}:new DOMMatrix(s);t.setTransform(l)}return t}}_getLinearGradient(){return this._getCache(N5,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const t=cg(),r=this.fillLinearGradientStartPoint(),s=this.fillLinearGradientEndPoint(),l=t.createLinearGradient(r.x,r.y,s.x,s.y);for(let c=0;c<e.length;c+=2)l.addColorStop(e[c],e[c+1]);return l}}_getRadialGradient(){return this._getCache(A5,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const t=cg(),r=this.fillRadialGradientStartPoint(),s=this.fillRadialGradientEndPoint(),l=t.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),s.x,s.y,this.fillRadialGradientEndRadius());for(let c=0;c<e.length;c+=2)l.addColorStop(e[c],e[c+1]);return l}}getShadowRGBA(){return this._getCache(k5,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=$.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const t=this.getStage();if(!t)return!1;const r=t.bufferHitCanvas;return r.getContext().clear(),this.drawHit(r,void 0,!0),r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return Ee.prototype.destroy.call(this),delete Ud[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var t;if(!((t=this.attrs.perfectDrawEnabled)!==null&&t!==void 0?t:!0))return!1;const s=e||this.hasFill(),l=this.hasStroke(),c=this.getAbsoluteOpacity()!==1;if(s&&l&&c)return!0;const d=this.hasShadow(),h=this.shadowForStrokeEnabled();return!!(s&&l&&d&&h)}setStrokeHitEnabled(e){$.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let t=!1,r=this.getParent();for(;r;){if(r.isCached()){t=!0;break}r=r.getParent()}const s=e.skipTransform,l=e.relativeTo||t&&this.getStage()||void 0,c=this.getSelfRect(),h=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,g=c.width+h,y=c.height+h,w=!e.skipShadow&&this.hasShadow(),_=w?this.shadowOffsetX():0,k=w?this.shadowOffsetY():0,R=g+Math.abs(_),P=y+Math.abs(k),N=w&&this.shadowBlur()||0,M=R+N*2,I=P+N*2,L={width:M,height:I,x:-(h/2+N)+Math.min(_,0)+c.x,y:-(h/2+N)+Math.min(k,0)+c.y};return s?L:this._transformedRect(L,l)}drawScene(e,t,r){const s=this.getLayer(),l=e||s.getCanvas(),c=l.getContext(),d=this._getCanvasCache(),h=this.getSceneFunc(),g=this.hasShadow();let y;const w=t===this;if(!this.isVisible()&&!w)return this;if(d){c.save();const _=this.getAbsoluteTransform(t).getMatrix();return c.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._drawCachedSceneCanvas(c),c.restore(),this}if(!h)return this;if(c.save(),this._useBufferCanvas()){y=this.getStage();const _=r||y.bufferCanvas,k=_.getContext();r?(k.save(),k.setTransform(1,0,0,1,0,0),k.clearRect(0,0,_.width,_.height),k.restore()):k.clear(),k.save(),k._applyLineJoin(this),k._applyMiterLimit(this);const R=this.getAbsoluteTransform(t).getMatrix();k.transform(R[0],R[1],R[2],R[3],R[4],R[5]),h.call(this,k,this),k.restore();const P=_.pixelRatio;g&&c._applyShadow(this),w||(c._applyOpacity(this),c._applyGlobalCompositeOperation(this)),c.drawImage(_._canvas,_.x||0,_.y||0,_.width/P,_.height/P)}else{if(c._applyLineJoin(this),c._applyMiterLimit(this),!w){const _=this.getAbsoluteTransform(t).getMatrix();c.transform(_[0],_[1],_[2],_[3],_[4],_[5]),c._applyOpacity(this),c._applyGlobalCompositeOperation(this)}g&&c._applyShadow(this),h.call(this,c,this)}return c.restore(),this}drawHit(e,t,r=!1){if(!this.shouldDrawHit(t,r))return this;const s=this.getLayer(),l=e||s.hitCanvas,c=l&&l.getContext(),d=this.hitFunc()||this.sceneFunc(),h=this._getCanvasCache(),g=h&&h.hit;if(this.colorKey||$.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),g){c.save();const w=this.getAbsoluteTransform(t).getMatrix();return c.transform(w[0],w[1],w[2],w[3],w[4],w[5]),this._drawCachedHitCanvas(c),c.restore(),this}if(!d)return this;if(c.save(),c._applyLineJoin(this),c._applyMiterLimit(this),!(this===t)){const w=this.getAbsoluteTransform(t).getMatrix();c.transform(w[0],w[1],w[2],w[3],w[4],w[5])}return d.call(this,c,this),c.restore(),this}drawHitFromCache(e=0){const t=this._getCanvasCache(),r=this._getCachedSceneCanvas(),s=t.hit,l=s.getContext(),c=s.getWidth(),d=s.getHeight();l.clear(),l.drawImage(r._canvas,0,0,c,d);try{const h=l.getImageData(0,0,c,d),g=h.data,y=g.length,w=$._hexToRgb(this.colorKey);for(let _=0;_<y;_+=4)g[_+3]>e?(g[_]=w.r,g[_+1]=w.g,g[_+2]=w.b,g[_+3]=255):g[_+3]=0;l.putImageData(h,0,0)}catch(h){$.error("Unable to draw hit graph from cached scene canvas. "+h.message)}return this}hasPointerCapture(e){return m5(e,this)}setPointerCapture(e){g5(e,this)}releaseCapture(e){Bd(e)}}ge.prototype._fillFunc=kP;ge.prototype._strokeFunc=RP;ge.prototype._fillFuncHit=NP;ge.prototype._strokeFuncHit=AP;ge.prototype._centroid=!1;ge.prototype.nodeType="Shape";sn(ge);ge.prototype.eventListeners={};ge.prototype.on.call(ge.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",MP);ge.prototype.on.call(ge.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",IP);ge.prototype.on.call(ge.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",OP);ge.prototype.on.call(ge.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",LP);ge.prototype.on.call(ge.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",DP);F.addGetterSetter(ge,"stroke",void 0,h5());F.addGetterSetter(ge,"strokeWidth",2,Ce());F.addGetterSetter(ge,"fillAfterStrokeEnabled",!1);F.addGetterSetter(ge,"hitStrokeWidth","auto",q0());F.addGetterSetter(ge,"strokeHitEnabled",!0,Gi());F.addGetterSetter(ge,"perfectDrawEnabled",!0,Gi());F.addGetterSetter(ge,"shadowForStrokeEnabled",!0,Gi());F.addGetterSetter(ge,"lineJoin");F.addGetterSetter(ge,"lineCap");F.addGetterSetter(ge,"miterLimit");F.addGetterSetter(ge,"sceneFunc");F.addGetterSetter(ge,"hitFunc");F.addGetterSetter(ge,"dash");F.addGetterSetter(ge,"dashOffset",0,Ce());F.addGetterSetter(ge,"shadowColor",void 0,_l());F.addGetterSetter(ge,"shadowBlur",0,Ce());F.addGetterSetter(ge,"shadowOpacity",1,Ce());F.addComponentsGetterSetter(ge,"shadowOffset",["x","y"]);F.addGetterSetter(ge,"shadowOffsetX",0,Ce());F.addGetterSetter(ge,"shadowOffsetY",0,Ce());F.addGetterSetter(ge,"fillPatternImage");F.addGetterSetter(ge,"fill",void 0,h5());F.addGetterSetter(ge,"fillPatternX",0,Ce());F.addGetterSetter(ge,"fillPatternY",0,Ce());F.addGetterSetter(ge,"fillLinearGradientColorStops");F.addGetterSetter(ge,"strokeLinearGradientColorStops");F.addGetterSetter(ge,"fillRadialGradientStartRadius",0);F.addGetterSetter(ge,"fillRadialGradientEndRadius",0);F.addGetterSetter(ge,"fillRadialGradientColorStops");F.addGetterSetter(ge,"fillPatternRepeat","repeat");F.addGetterSetter(ge,"fillEnabled",!0);F.addGetterSetter(ge,"strokeEnabled",!0);F.addGetterSetter(ge,"shadowEnabled",!0);F.addGetterSetter(ge,"dashEnabled",!0);F.addGetterSetter(ge,"strokeScaleEnabled",!0);F.addGetterSetter(ge,"fillPriority","color");F.addComponentsGetterSetter(ge,"fillPatternOffset",["x","y"]);F.addGetterSetter(ge,"fillPatternOffsetX",0,Ce());F.addGetterSetter(ge,"fillPatternOffsetY",0,Ce());F.addComponentsGetterSetter(ge,"fillPatternScale",["x","y"]);F.addGetterSetter(ge,"fillPatternScaleX",1,Ce());F.addGetterSetter(ge,"fillPatternScaleY",1,Ce());F.addComponentsGetterSetter(ge,"fillLinearGradientStartPoint",["x","y"]);F.addComponentsGetterSetter(ge,"strokeLinearGradientStartPoint",["x","y"]);F.addGetterSetter(ge,"fillLinearGradientStartPointX",0);F.addGetterSetter(ge,"strokeLinearGradientStartPointX",0);F.addGetterSetter(ge,"fillLinearGradientStartPointY",0);F.addGetterSetter(ge,"strokeLinearGradientStartPointY",0);F.addComponentsGetterSetter(ge,"fillLinearGradientEndPoint",["x","y"]);F.addComponentsGetterSetter(ge,"strokeLinearGradientEndPoint",["x","y"]);F.addGetterSetter(ge,"fillLinearGradientEndPointX",0);F.addGetterSetter(ge,"strokeLinearGradientEndPointX",0);F.addGetterSetter(ge,"fillLinearGradientEndPointY",0);F.addGetterSetter(ge,"strokeLinearGradientEndPointY",0);F.addComponentsGetterSetter(ge,"fillRadialGradientStartPoint",["x","y"]);F.addGetterSetter(ge,"fillRadialGradientStartPointX",0);F.addGetterSetter(ge,"fillRadialGradientStartPointY",0);F.addComponentsGetterSetter(ge,"fillRadialGradientEndPoint",["x","y"]);F.addGetterSetter(ge,"fillRadialGradientEndPointX",0);F.addGetterSetter(ge,"fillRadialGradientEndPointY",0);F.addGetterSetter(ge,"fillPatternRotation",0);F.addGetterSetter(ge,"fillRule",void 0,_l());F.backCompat(ge,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const jP="beforeDraw",FP="draw",M5=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],zP=M5.length;let Cl=class extends Yr{constructor(e){super(e),this.canvas=new fa,this.hitCanvas=new Q0({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),e<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[e+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Ee.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Ee.prototype.moveUp.call(this))return!1;const t=this.getStage();return!t||!t.content?!1:(t.content.removeChild(this.getNativeCanvasElement()),this.index<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Ee.prototype.moveDown.call(this)){const e=this.getStage();if(e){const t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Ee.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return Ee.prototype.remove.call(this),e&&e.parentNode&&$._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:t}){return this.canvas.setSize(e,t),this.hitCanvas.setSize(e,t),this._setSmoothEnabled(),this}_validateAdd(e){const t=e.getType();t!=="Group"&&t!=="Shape"&&$.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Ee.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){$.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){$.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,$.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let t=1,r=!1;for(;;){for(let s=0;s<zP;s++){const l=M5[s],c=this._getIntersection({x:e.x+l.x*t,y:e.y+l.y*t}),d=c.shape;if(d)return d;if(r=!!c.antialiased,!c.antialiased)break}if(r)t+=1;else return null}}_getIntersection(e){const t=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*t),Math.round(e.y*t),1,1).data,s=r[3];if(s===255){const l=$.getHitColorKey(r[0],r[1],r[2]),c=Ud[l];return c?{shape:c}:{antialiased:!0}}else if(s>0)return{antialiased:!0};return{}}drawScene(e,t,r){const s=this.getLayer(),l=e||s&&s.getCanvas();return this._fire(jP,{node:this}),this.clearBeforeDraw()&&l.getContext().clear(),Yr.prototype.drawScene.call(this,l,t,r),this._fire(FP,{node:this}),this}drawHit(e,t){const r=this.getLayer(),s=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),Yr.prototype.drawHit.call(this,s,t),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){$.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return $.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return $.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Cl.prototype.nodeType="Layer";sn(Cl);F.addGetterSetter(Cl,"imageSmoothingEnabled",!0);F.addGetterSetter(Cl,"clearBeforeDraw",!0);F.addGetterSetter(Cl,"hitGraphEnabled",!0,Gi());class X0 extends Cl{constructor(e){super(e),this.listening(!1),$.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}X0.prototype.nodeType="FastLayer";sn(X0);let ac=class extends Yr{_validateAdd(e){const t=e.getType();t!=="Group"&&t!=="Shape"&&$.throw("You may only add groups and shapes to groups.")}};ac.prototype.nodeType="Group";sn(ac);const dg=(function(){return cl.performance&&cl.performance.now?function(){return cl.performance.now()}:function(){return new Date().getTime()}})();class hi{constructor(e,t){this.id=hi.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:dg(),frameRate:0},this.func=e,this.setLayers(t)}setLayers(e){let t=[];return e&&(t=Array.isArray(e)?e:[e]),this.layers=t,this}getLayers(){return this.layers}addLayer(e){const t=this.layers,r=t.length;for(let s=0;s<r;s++)if(t[s]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const t=hi.animations,r=t.length;for(let s=0;s<r;s++)if(t[s].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=dg(),hi._addAnimation(this),this}stop(){return hi._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const t=e.id,r=this.animations,s=r.length;for(let l=0;l<s;l++)if(r[l].id===t){this.animations.splice(l,1);break}}static _runFrames(){const e={},t=this.animations;for(let r=0;r<t.length;r++){const s=t[r],l=s.layers,c=s.func;s._updateFrameObject(dg());const d=l.length;let h;if(c?h=c.call(s,s.frame)!==!1:h=!0,!!h)for(let g=0;g<d;g++){const y=l[g];y._id!==void 0&&(e[y._id]=y)}}for(const r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){const e=hi;e.animations.length?(e._runFrames(),$.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,$.requestAnimFrame(this._animationLoop))}}hi.animations=[];hi.animIdCounter=0;hi.animRunning=!1;const BP={node:1,duration:1,easing:1,onFinish:1,yoyo:1},GP=1,sv=2,ov=3,av=["fill","stroke","shadowColor"];let UP=0;class HP{constructor(e,t,r,s,l,c,d){this.prop=e,this.propFunc=t,this.begin=s,this._pos=s,this.duration=c,this._change=0,this.prevPos=0,this.yoyo=d,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=l-this.begin,this.pause()}fire(e){const t=this[e];t&&t()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=sv,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=ov,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===sv?this.setTime(e):this.state===ov&&this.setTime(this.duration-e)}pause(){this.state=GP,this.fire("onPause")}getTimer(){return new Date().getTime()}}class Vt{constructor(e){const t=this,r=e.node,s=r._id,l=e.easing||Hd.Linear,c=!!e.yoyo;let d,h;typeof e.duration>"u"?d=.3:e.duration===0?d=.001:d=e.duration,this.node=r,this._id=UP++;const g=r.getLayer()||(r instanceof Pe.Stage?r.getLayers():null);g||$.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new hi(function(){t.tween.onEnterFrame()},g),this.tween=new HP(h,function(y){t._tweenFunc(y)},l,0,1,d*1e3,c),this._addListeners(),Vt.attrs[s]||(Vt.attrs[s]={}),Vt.attrs[s][this._id]||(Vt.attrs[s][this._id]={}),Vt.tweens[s]||(Vt.tweens[s]={});for(h in e)BP[h]===void 0&&this._addAttr(h,e[h]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,t){const r=this.node,s=r._id;let l,c,d,h,g;const y=Vt.tweens[s][e];y&&delete Vt.attrs[s][y][e];let w=r.getAttr(e);if($._isArray(t))if(l=[],c=Math.max(t.length,w.length),e==="points"&&t.length!==w.length&&(t.length>w.length?(h=w,w=$._prepareArrayForTween(w,t,r.closed())):(d=t,t=$._prepareArrayForTween(t,w,r.closed()))),e.indexOf("fill")===0)for(let _=0;_<c;_++)if(_%2===0)l.push(t[_]-w[_]);else{const k=$.colorToRGBA(w[_]);g=$.colorToRGBA(t[_]),w[_]=k,l.push({r:g.r-k.r,g:g.g-k.g,b:g.b-k.b,a:g.a-k.a})}else for(let _=0;_<c;_++)l.push(t[_]-w[_]);else av.indexOf(e)!==-1?(w=$.colorToRGBA(w),g=$.colorToRGBA(t),l={r:g.r-w.r,g:g.g-w.g,b:g.b-w.b,a:g.a-w.a}):l=t-w;Vt.attrs[s][this._id][e]={start:w,diff:l,end:t,trueEnd:d,trueStart:h},Vt.tweens[s][e]=this._id}_tweenFunc(e){const t=this.node,r=Vt.attrs[t._id][this._id];let s,l,c,d,h,g,y,w;for(s in r){if(l=r[s],c=l.start,d=l.diff,w=l.end,$._isArray(c))if(h=[],y=Math.max(c.length,w.length),s.indexOf("fill")===0)for(g=0;g<y;g++)g%2===0?h.push((c[g]||0)+d[g]*e):h.push("rgba("+Math.round(c[g].r+d[g].r*e)+","+Math.round(c[g].g+d[g].g*e)+","+Math.round(c[g].b+d[g].b*e)+","+(c[g].a+d[g].a*e)+")");else for(g=0;g<y;g++)h.push((c[g]||0)+d[g]*e);else av.indexOf(s)!==-1?h="rgba("+Math.round(c.r+d.r*e)+","+Math.round(c.g+d.g*e)+","+Math.round(c.b+d.b*e)+","+(c.a+d.a*e)+")":h=c+d*e;t.setAttr(s,h)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,t=Vt.attrs[e._id][this._id];t.points&&t.points.trueEnd&&e.setAttr("points",t.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,t=Vt.attrs[e._id][this._id];t.points&&t.points.trueStart&&e.points(t.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,t=this._id,r=Vt.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const s in r)delete Vt.tweens[e][s];delete Vt.attrs[e][t],Vt.tweens[e]&&(Object.keys(Vt.tweens[e]).length===0&&delete Vt.tweens[e],Object.keys(Vt.attrs[e]).length===0&&delete Vt.attrs[e])}}Vt.attrs={};Vt.tweens={};Ee.prototype.to=function(n){const e=n.onFinish;n.node=this,n.onFinish=function(){this.destroy(),e&&e()},new Vt(n).play()};const Hd={BackEaseIn(n,e,t,r){return t*(n/=r)*n*((1.70158+1)*n-1.70158)+e},BackEaseOut(n,e,t,r){return t*((n=n/r-1)*n*((1.70158+1)*n+1.70158)+1)+e},BackEaseInOut(n,e,t,r){let s=1.70158;return(n/=r/2)<1?t/2*(n*n*(((s*=1.525)+1)*n-s))+e:t/2*((n-=2)*n*(((s*=1.525)+1)*n+s)+2)+e},ElasticEaseIn(n,e,t,r,s,l){let c=0;return n===0?e:(n/=r)===1?e+t:(l||(l=r*.3),!s||s<Math.abs(t)?(s=t,c=l/4):c=l/(2*Math.PI)*Math.asin(t/s),-(s*Math.pow(2,10*(n-=1))*Math.sin((n*r-c)*(2*Math.PI)/l))+e)},ElasticEaseOut(n,e,t,r,s,l){let c=0;return n===0?e:(n/=r)===1?e+t:(l||(l=r*.3),!s||s<Math.abs(t)?(s=t,c=l/4):c=l/(2*Math.PI)*Math.asin(t/s),s*Math.pow(2,-10*n)*Math.sin((n*r-c)*(2*Math.PI)/l)+t+e)},ElasticEaseInOut(n,e,t,r,s,l){let c=0;return n===0?e:(n/=r/2)===2?e+t:(l||(l=r*(.3*1.5)),!s||s<Math.abs(t)?(s=t,c=l/4):c=l/(2*Math.PI)*Math.asin(t/s),n<1?-.5*(s*Math.pow(2,10*(n-=1))*Math.sin((n*r-c)*(2*Math.PI)/l))+e:s*Math.pow(2,-10*(n-=1))*Math.sin((n*r-c)*(2*Math.PI)/l)*.5+t+e)},BounceEaseOut(n,e,t,r){return(n/=r)<1/2.75?t*(7.5625*n*n)+e:n<2/2.75?t*(7.5625*(n-=1.5/2.75)*n+.75)+e:n<2.5/2.75?t*(7.5625*(n-=2.25/2.75)*n+.9375)+e:t*(7.5625*(n-=2.625/2.75)*n+.984375)+e},BounceEaseIn(n,e,t,r){return t-Hd.BounceEaseOut(r-n,0,t,r)+e},BounceEaseInOut(n,e,t,r){return n<r/2?Hd.BounceEaseIn(n*2,0,t,r)*.5+e:Hd.BounceEaseOut(n*2-r,0,t,r)*.5+t*.5+e},EaseIn(n,e,t,r){return t*(n/=r)*n+e},EaseOut(n,e,t,r){return-t*(n/=r)*(n-2)+e},EaseInOut(n,e,t,r){return(n/=r/2)<1?t/2*n*n+e:-t/2*(--n*(n-2)-1)+e},StrongEaseIn(n,e,t,r){return t*(n/=r)*n*n*n*n+e},StrongEaseOut(n,e,t,r){return t*((n=n/r-1)*n*n*n*n+1)+e},StrongEaseInOut(n,e,t,r){return(n/=r/2)<1?t/2*n*n*n*n*n+e:t/2*((n-=2)*n*n*n*n+2)+e},Linear(n,e,t,r){return t*n/r+e}},xl=$._assign(Pe,{Util:$,Transform:qr,Node:Ee,Container:Yr,Stage:$p,stages:Gd,Layer:Cl,FastLayer:X0,Group:ac,DD:Pt,Shape:ge,shapes:Ud,Animation:hi,Tween:Vt,Easings:Hd,Context:Qp,Canvas:W0});class ao extends ge{_sceneFunc(e){const t=Pe.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,t,r),e.arc(0,0,this.innerRadius(),t,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),t=this.outerRadius(),r=this.clockwise(),s=Pe.getAngle(r?360-this.angle():this.angle()),l=Math.cos(Math.min(s,Math.PI)),c=1,d=Math.sin(Math.min(Math.max(Math.PI,s),3*Math.PI/2)),h=Math.sin(Math.min(s,Math.PI/2)),g=l*(l>0?e:t),y=c*t,w=d*(d>0?e:t),_=h*(h>0?t:e);return{x:g,y:r?-1*_:w,width:y-g,height:_-w}}}ao.prototype._centroid=!0;ao.prototype.className="Arc";ao.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];sn(ao);F.addGetterSetter(ao,"innerRadius",0,Ce());F.addGetterSetter(ao,"outerRadius",0,Ce());F.addGetterSetter(ao,"angle",0,Ce());F.addGetterSetter(ao,"clockwise",!1,Gi());function t0(n,e,t,r,s,l,c){const d=Math.sqrt(Math.pow(t-n,2)+Math.pow(r-e,2)),h=Math.sqrt(Math.pow(s-t,2)+Math.pow(l-r,2)),g=c*d/(d+h),y=c*h/(d+h),w=t-g*(s-n),_=r-g*(l-e),k=t+y*(s-n),R=r+y*(l-e);return[w,_,k,R]}function lv(n,e){const t=n.length,r=[];for(let s=2;s<t-2;s+=2){const l=t0(n[s-2],n[s-1],n[s],n[s+1],n[s+2],n[s+3],e);isNaN(l[0])||(r.push(l[0]),r.push(l[1]),r.push(n[s]),r.push(n[s+1]),r.push(l[2]),r.push(l[3]))}return r}function VP(n){const e=[[n[0],n[2],n[4],n[6]],[n[1],n[3],n[5],n[7]]],t=[];for(const r of e){const s=-3*r[0]+9*r[1]-9*r[2]+3*r[3];if(s!==0){const l=6*r[0]-12*r[1]+6*r[2],c=-3*r[0]+3*r[1],d=l*l-4*s*c;if(d>=0){const h=Math.sqrt(d);t.push((-l+h)/(2*s)),t.push((-l-h)/(2*s))}}}return t.filter(r=>r>0&&r<1).flatMap(r=>e.map(s=>{const l=1-r;return l*l*l*s[0]+3*l*l*r*s[1]+3*l*r*r*s[2]+r*r*r*s[3]}))}class lo extends ge{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const t=this.points(),r=t.length,s=this.tension(),l=this.closed(),c=this.bezier();if(!r)return;let d=0;if(e.beginPath(),e.moveTo(t[0],t[1]),s!==0&&r>4){const h=this.getTensionPoints(),g=h.length;for(d=l?0:4,l||e.quadraticCurveTo(h[0],h[1],h[2],h[3]);d<g-2;)e.bezierCurveTo(h[d++],h[d++],h[d++],h[d++],h[d++],h[d++]);l||e.quadraticCurveTo(h[g-2],h[g-1],t[r-2],t[r-1])}else if(c)for(d=2;d<r;)e.bezierCurveTo(t[d++],t[d++],t[d++],t[d++],t[d++],t[d++]);else for(d=2;d<r;d+=2)e.lineTo(t[d],t[d+1]);l?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():lv(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),t=e.length,r=this.tension(),s=t0(e[t-2],e[t-1],e[0],e[1],e[2],e[3],r),l=t0(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],r),c=lv(e,r);return[s[2],s[3]].concat(c).concat([l[0],l[1],e[t-2],e[t-1],l[2],l[3],s[0],s[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:this.bezier()?e=[e[0],e[1],...VP(this.points()),e[e.length-2],e[e.length-1]]:e=this.points();let t=e[0],r=e[0],s=e[1],l=e[1],c,d;for(let h=0;h<e.length/2;h++)c=e[h*2],d=e[h*2+1],t=Math.min(t,c),r=Math.max(r,c),s=Math.min(s,d),l=Math.max(l,d);return{x:t,y:s,width:r-t,height:l-s}}}lo.prototype.className="Line";lo.prototype._attrsAffectingSize=["points","bezier","tension"];sn(lo);F.addGetterSetter(lo,"closed",!1);F.addGetterSetter(lo,"bezier",!1);F.addGetterSetter(lo,"tension",0,Ce());F.addGetterSetter(lo,"points",[],oP());const WP=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],QP=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],qP=[[1],[1,1],[1,2,1],[1,3,3,1]],uv=(n,e,t)=>{let r,s;const c=t/2;r=0;for(let d=0;d<20;d++)s=c*WP[20][d]+c,r+=QP[20][d]*$P(n,e,s);return c*r},cv=(n,e,t)=>{t===void 0&&(t=1);const r=n[0]-2*n[1]+n[2],s=e[0]-2*e[1]+e[2],l=2*n[1]-2*n[0],c=2*e[1]-2*e[0],d=4*(r*r+s*s),h=4*(r*l+s*c),g=l*l+c*c;if(d===0)return t*Math.sqrt(Math.pow(n[2]-n[0],2)+Math.pow(e[2]-e[0],2));const y=h/(2*d),w=g/d,_=t+y,k=w-y*y,R=_*_+k>0?Math.sqrt(_*_+k):0,P=y*y+k>0?Math.sqrt(y*y+k):0,N=y+Math.sqrt(y*y+k)!==0?k*Math.log(Math.abs((_+R)/(y+P))):0;return Math.sqrt(d)/2*(_*R-y*P+N)};function $P(n,e,t){const r=n0(1,t,n),s=n0(1,t,e),l=r*r+s*s;return Math.sqrt(l)}const n0=(n,e,t)=>{const r=t.length-1;let s,l;if(r===0)return 0;if(n===0){l=0;for(let c=0;c<=r;c++)l+=qP[r][c]*Math.pow(1-e,r-c)*Math.pow(e,c)*t[c];return l}else{s=new Array(r);for(let c=0;c<r;c++)s[c]=r*(t[c+1]-t[c]);return n0(n-1,e,s)}},dv=(n,e,t)=>{let r=1,s=n/e,l=(n-t(s))/e,c=0;for(;r>.001;){const d=t(s+l),h=Math.abs(n-d)/e;if(h<r)r=h,s+=l;else{const g=t(s-l),y=Math.abs(n-g)/e;y<r?(r=y,s-=l):l/=2}if(c++,c>500)break}return s};class Wt extends ge{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Wt.parsePathData(this.data()),this.pathLength=Wt.getPathLength(this.dataArray)}_sceneFunc(e){const t=this.dataArray;e.beginPath();let r=!1;for(let s=0;s<t.length;s++){const l=t[s].command,c=t[s].points;switch(l){case"L":e.lineTo(c[0],c[1]);break;case"M":e.moveTo(c[0],c[1]);break;case"C":e.bezierCurveTo(c[0],c[1],c[2],c[3],c[4],c[5]);break;case"Q":e.quadraticCurveTo(c[0],c[1],c[2],c[3]);break;case"A":const d=c[0],h=c[1],g=c[2],y=c[3],w=c[4],_=c[5],k=c[6],R=c[7],P=g>y?g:y,N=g>y?1:g/y,M=g>y?y/g:1;e.translate(d,h),e.rotate(k),e.scale(N,M),e.arc(0,0,P,w,w+_,1-R),e.scale(1/N,1/M),e.rotate(-k),e.translate(-d,-h);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(h){if(h.command==="A"){const g=h.points[4],y=h.points[5],w=h.points[4]+y;let _=Math.PI/180;if(Math.abs(g-w)<_&&(_=Math.abs(g-w)),y<0)for(let k=g-_;k>w;k-=_){const R=Wt.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],k,0);e.push(R.x,R.y)}else for(let k=g+_;k<w;k+=_){const R=Wt.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],k,0);e.push(R.x,R.y)}}else if(h.command==="C")for(let g=0;g<=1;g+=.01){const y=Wt.getPointOnCubicBezier(g,h.start.x,h.start.y,h.points[0],h.points[1],h.points[2],h.points[3],h.points[4],h.points[5]);e.push(y.x,y.y)}else e=e.concat(h.points)});let t=e[0],r=e[0],s=e[1],l=e[1],c,d;for(let h=0;h<e.length/2;h++)c=e[h*2],d=e[h*2+1],isNaN(c)||(t=Math.min(t,c),r=Math.max(r,c)),isNaN(d)||(s=Math.min(s,d),l=Math.max(l,d));return{x:t,y:s,width:r-t,height:l-s}}getLength(){return this.pathLength}getPointAtLength(e){return Wt.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,t,r,s){return Math.sqrt((r-e)*(r-e)+(s-t)*(s-t))}static getPathLength(e){let t=0;for(let r=0;r<e.length;++r)t+=e[r].pathLength;return t}static getPointAtLengthOfDataArray(e,t){let r,s=0,l=t.length;if(!l)return null;for(;s<l&&e>t[s].pathLength;)e-=t[s].pathLength,++s;if(s===l)return r=t[s-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return t[s].command==="M"?(r=t[s].points.slice(0,2),{x:r[0],y:r[1]}):{x:t[s].start.x,y:t[s].start.y};const c=t[s],d=c.points;switch(c.command){case"L":return Wt.getPointOnLine(e,c.start.x,c.start.y,d[0],d[1]);case"C":return Wt.getPointOnCubicBezier(dv(e,Wt.getPathLength(t),P=>uv([c.start.x,d[0],d[2],d[4]],[c.start.y,d[1],d[3],d[5]],P)),c.start.x,c.start.y,d[0],d[1],d[2],d[3],d[4],d[5]);case"Q":return Wt.getPointOnQuadraticBezier(dv(e,Wt.getPathLength(t),P=>cv([c.start.x,d[0],d[2]],[c.start.y,d[1],d[3]],P)),c.start.x,c.start.y,d[0],d[1],d[2],d[3]);case"A":const h=d[0],g=d[1],y=d[2],w=d[3],_=d[5],k=d[6];let R=d[4];return R+=_*e/c.pathLength,Wt.getPointOnEllipticalArc(h,g,y,w,R,k)}return null}static getPointOnLine(e,t,r,s,l,c,d){c=c??t,d=d??r;const h=this.getLineLength(t,r,s,l);if(h<1e-10)return{x:t,y:r};if(s===t)return{x:c,y:d+(l>r?e:-e)};const g=(l-r)/(s-t),y=Math.sqrt(e*e/(1+g*g))*(s<t?-1:1),w=g*y;if(Math.abs(d-r-g*(c-t))<1e-10)return{x:c+y,y:d+w};const _=((c-t)*(s-t)+(d-r)*(l-r))/(h*h),k=t+_*(s-t),R=r+_*(l-r),P=this.getLineLength(c,d,k,R),N=Math.sqrt(e*e-P*P),M=Math.sqrt(N*N/(1+g*g))*(s<t?-1:1),I=g*M;return{x:k+M,y:R+I}}static getPointOnCubicBezier(e,t,r,s,l,c,d,h,g){function y(N){return N*N*N}function w(N){return 3*N*N*(1-N)}function _(N){return 3*N*(1-N)*(1-N)}function k(N){return(1-N)*(1-N)*(1-N)}const R=h*y(e)+c*w(e)+s*_(e)+t*k(e),P=g*y(e)+d*w(e)+l*_(e)+r*k(e);return{x:R,y:P}}static getPointOnQuadraticBezier(e,t,r,s,l,c,d){function h(k){return k*k}function g(k){return 2*k*(1-k)}function y(k){return(1-k)*(1-k)}const w=c*h(e)+s*g(e)+t*y(e),_=d*h(e)+l*g(e)+r*y(e);return{x:w,y:_}}static getPointOnEllipticalArc(e,t,r,s,l,c){const d=Math.cos(c),h=Math.sin(c),g={x:r*Math.cos(l),y:s*Math.sin(l)};return{x:e+(g.x*d-g.y*h),y:t+(g.x*h+g.y*d)}}static parsePathData(e){if(!e)return[];let t=e;const r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(let w=0;w<r.length;w++)t=t.replace(new RegExp(r[w],"g"),"|"+r[w]);const s=t.split("|"),l=[],c=[];let d=0,h=0;const g=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let y;for(let w=1;w<s.length;w++){let _=s[w],k=_.charAt(0);for(_=_.slice(1),c.length=0;y=g.exec(_);)c.push(y[0]);let R=[],P=k==="A"||k==="a"?0:-1;for(let N=0,M=c.length;N<M;N++){const I=c[N];if(I==="00"){R.push(0,0),P>=0&&(P+=2,P>=7&&(P-=7));continue}if(P>=0){if(P===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(I)){R.push(parseInt(I[0],10)),R.push(parseInt(I[1],10)),R.push(parseFloat(I.slice(2))),P+=3,P>=7&&(P-=7);continue}if(I==="11"||I==="10"||I==="01"){R.push(parseInt(I[0],10)),R.push(parseInt(I[1],10)),P+=2,P>=7&&(P-=7);continue}if(I==="0"||I==="1"){R.push(parseInt(I,10)),P+=1,P>=7&&(P-=7);continue}}else if(P===4){if(/^[01]\d+(?:\.\d+)?$/.test(I)){R.push(parseInt(I[0],10)),R.push(parseFloat(I.slice(1))),P+=2,P>=7&&(P-=7);continue}if(I==="0"||I==="1"){R.push(parseInt(I,10)),P+=1,P>=7&&(P-=7);continue}}const L=parseFloat(I);isNaN(L)?R.push(0):R.push(L),P+=1,P>=7&&(P-=7)}else{const L=parseFloat(I);isNaN(L)?R.push(0):R.push(L)}}for(;R.length>0&&!isNaN(R[0]);){let N="",M=[];const I=d,L=h;let D,z,U,H,K,re,ue,ve,ae,ye;switch(k){case"l":d+=R.shift(),h+=R.shift(),N="L",M.push(d,h);break;case"L":d=R.shift(),h=R.shift(),M.push(d,h);break;case"m":const se=R.shift(),de=R.shift();if(d+=se,h+=de,N="M",l.length>2&&l[l.length-1].command==="z"){for(let ie=l.length-2;ie>=0;ie--)if(l[ie].command==="M"){d=l[ie].points[0]+se,h=l[ie].points[1]+de;break}}M.push(d,h),k="l";break;case"M":d=R.shift(),h=R.shift(),N="M",M.push(d,h),k="L";break;case"h":d+=R.shift(),N="L",M.push(d,h);break;case"H":d=R.shift(),N="L",M.push(d,h);break;case"v":h+=R.shift(),N="L",M.push(d,h);break;case"V":h=R.shift(),N="L",M.push(d,h);break;case"C":M.push(R.shift(),R.shift(),R.shift(),R.shift()),d=R.shift(),h=R.shift(),M.push(d,h);break;case"c":M.push(d+R.shift(),h+R.shift(),d+R.shift(),h+R.shift()),d+=R.shift(),h+=R.shift(),N="C",M.push(d,h);break;case"S":z=d,U=h,D=l[l.length-1],D.command==="C"&&(z=d+(d-D.points[2]),U=h+(h-D.points[3])),M.push(z,U,R.shift(),R.shift()),d=R.shift(),h=R.shift(),N="C",M.push(d,h);break;case"s":z=d,U=h,D=l[l.length-1],D.command==="C"&&(z=d+(d-D.points[2]),U=h+(h-D.points[3])),M.push(z,U,d+R.shift(),h+R.shift()),d+=R.shift(),h+=R.shift(),N="C",M.push(d,h);break;case"Q":M.push(R.shift(),R.shift()),d=R.shift(),h=R.shift(),M.push(d,h);break;case"q":M.push(d+R.shift(),h+R.shift()),d+=R.shift(),h+=R.shift(),N="Q",M.push(d,h);break;case"T":z=d,U=h,D=l[l.length-1],D.command==="Q"&&(z=d+(d-D.points[0]),U=h+(h-D.points[1])),d=R.shift(),h=R.shift(),N="Q",M.push(z,U,d,h);break;case"t":z=d,U=h,D=l[l.length-1],D.command==="Q"&&(z=d+(d-D.points[0]),U=h+(h-D.points[1])),d+=R.shift(),h+=R.shift(),N="Q",M.push(z,U,d,h);break;case"A":H=R.shift(),K=R.shift(),re=R.shift(),ue=R.shift(),ve=R.shift(),ae=d,ye=h,d=R.shift(),h=R.shift(),N="A",M=this.convertEndpointToCenterParameterization(ae,ye,d,h,ue,ve,H,K,re);break;case"a":H=R.shift(),K=R.shift(),re=R.shift(),ue=R.shift(),ve=R.shift(),ae=d,ye=h,d+=R.shift(),h+=R.shift(),N="A",M=this.convertEndpointToCenterParameterization(ae,ye,d,h,ue,ve,H,K,re);break}l.push({command:N||k,points:M,start:{x:I,y:L},pathLength:this.calcLength(I,L,N||k,M)})}(k==="z"||k==="Z")&&l.push({command:"z",points:[],start:void 0,pathLength:0})}return l}static calcLength(e,t,r,s){let l,c,d,h;const g=Wt;switch(r){case"L":return g.getLineLength(e,t,s[0],s[1]);case"C":return uv([e,s[0],s[2],s[4]],[t,s[1],s[3],s[5]],1);case"Q":return cv([e,s[0],s[2]],[t,s[1],s[3]],1);case"A":l=0;const y=s[4],w=s[5],_=s[4]+w;let k=Math.PI/180;if(Math.abs(y-_)<k&&(k=Math.abs(y-_)),c=g.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],y,0),w<0)for(h=y-k;h>_;h-=k)d=g.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],h,0),l+=g.getLineLength(c.x,c.y,d.x,d.y),c=d;else for(h=y+k;h<_;h+=k)d=g.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],h,0),l+=g.getLineLength(c.x,c.y,d.x,d.y),c=d;return d=g.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],_,0),l+=g.getLineLength(c.x,c.y,d.x,d.y),l}return 0}static convertEndpointToCenterParameterization(e,t,r,s,l,c,d,h,g){const y=g*(Math.PI/180),w=Math.cos(y)*(e-r)/2+Math.sin(y)*(t-s)/2,_=-1*Math.sin(y)*(e-r)/2+Math.cos(y)*(t-s)/2,k=w*w/(d*d)+_*_/(h*h);k>1&&(d*=Math.sqrt(k),h*=Math.sqrt(k));let R=Math.sqrt((d*d*(h*h)-d*d*(_*_)-h*h*(w*w))/(d*d*(_*_)+h*h*(w*w)));l===c&&(R*=-1),isNaN(R)&&(R=0);const P=R*d*_/h,N=R*-h*w/d,M=(e+r)/2+Math.cos(y)*P-Math.sin(y)*N,I=(t+s)/2+Math.sin(y)*P+Math.cos(y)*N,L=function(ue){return Math.sqrt(ue[0]*ue[0]+ue[1]*ue[1])},D=function(ue,ve){return(ue[0]*ve[0]+ue[1]*ve[1])/(L(ue)*L(ve))},z=function(ue,ve){return(ue[0]*ve[1]<ue[1]*ve[0]?-1:1)*Math.acos(D(ue,ve))},U=z([1,0],[(w-P)/d,(_-N)/h]),H=[(w-P)/d,(_-N)/h],K=[(-1*w-P)/d,(-1*_-N)/h];let re=z(H,K);return D(H,K)<=-1&&(re=Math.PI),D(H,K)>=1&&(re=0),c===0&&re>0&&(re=re-2*Math.PI),c===1&&re<0&&(re=re+2*Math.PI),[M,I,d,h,U,re,y,c]}}Wt.prototype.className="Path";Wt.prototype._attrsAffectingSize=["data"];sn(Wt);F.addGetterSetter(Wt,"data");class El extends lo{_sceneFunc(e){super._sceneFunc(e);const t=Math.PI*2,r=this.points();let s=r;const l=this.tension()!==0&&r.length>4;l&&(s=this.getTensionPoints());const c=this.pointerLength(),d=r.length;let h,g;if(l){const _=[s[s.length-4],s[s.length-3],s[s.length-2],s[s.length-1],r[d-2],r[d-1]],k=Wt.calcLength(s[s.length-4],s[s.length-3],"C",_),R=Wt.getPointOnQuadraticBezier(Math.min(1,1-c/k),_[0],_[1],_[2],_[3],_[4],_[5]);h=r[d-2]-R.x,g=r[d-1]-R.y}else h=r[d-2]-r[d-4],g=r[d-1]-r[d-3];const y=(Math.atan2(g,h)+t)%t,w=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[d-2],r[d-1]),e.rotate(y),e.moveTo(0,0),e.lineTo(-c,w/2),e.lineTo(-c,-w/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),l?(h=(s[0]+s[2])/2-r[0],g=(s[1]+s[3])/2-r[1]):(h=r[2]-r[0],g=r[3]-r[1]),e.rotate((Math.atan2(-g,-h)+t)%t),e.moveTo(0,0),e.lineTo(-c,w/2),e.lineTo(-c,-w/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const t=this.dashEnabled();t&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),t&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),t=this.pointerWidth()/2;return{x:e.x,y:e.y-t,width:e.width,height:e.height+t*2}}}El.prototype.className="Arrow";sn(El);F.addGetterSetter(El,"pointerLength",10,Ce());F.addGetterSetter(El,"pointerWidth",10,Ce());F.addGetterSetter(El,"pointerAtBeginning",!1);F.addGetterSetter(El,"pointerAtEnding",!0);class mc extends ge{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}mc.prototype._centroid=!0;mc.prototype.className="Circle";mc.prototype._attrsAffectingSize=["radius"];sn(mc);F.addGetterSetter(mc,"radius",0,Ce());class _a extends ge{_sceneFunc(e){const t=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),t!==r&&e.scale(1,r/t),e.arc(0,0,t,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}_a.prototype.className="Ellipse";_a.prototype._centroid=!0;_a.prototype._attrsAffectingSize=["radiusX","radiusY"];sn(_a);F.addComponentsGetterSetter(_a,"radius",["x","y"]);F.addGetterSetter(_a,"radiusX",0,Ce());F.addGetterSetter(_a,"radiusY",0,Ce());let Ui=class I5 extends ge{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",t=>{this._removeImageLoad(t.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),t=this.hasShadow();return e&&t?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const t=this.getWidth(),r=this.getHeight(),s=this.cornerRadius(),l=this.attrs.image;let c;if(l){const d=this.attrs.cropWidth,h=this.attrs.cropHeight;d&&h?c=[l,this.cropX(),this.cropY(),d,h,0,0,t,r]:c=[l,0,0,t,r]}(this.hasFill()||this.hasStroke()||s)&&(e.beginPath(),s?$.drawRoundedRectPath(e,t,r,s):e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)),l&&(s&&e.clip(),e.drawImage.apply(e,c))}_hitFunc(e){const t=this.width(),r=this.height(),s=this.cornerRadius();e.beginPath(),s?$.drawRoundedRectPath(e,t,r,s):e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,t,r;return(r=(e=this.attrs.width)!==null&&e!==void 0?e:(t=this.image())===null||t===void 0?void 0:t.width)!==null&&r!==void 0?r:0}getHeight(){var e,t,r;return(r=(e=this.attrs.height)!==null&&e!==void 0?e:(t=this.image())===null||t===void 0?void 0:t.height)!==null&&r!==void 0?r:0}static fromURL(e,t,r=null){const s=$.createImageElement();s.onload=function(){const l=new I5({image:s});t(l)},s.onerror=r,s.crossOrigin="Anonymous",s.src=e}};Ui.prototype.className="Image";Ui.prototype._attrsAffectingSize=["image"];sn(Ui);F.addGetterSetter(Ui,"cornerRadius",0,qp(4));F.addGetterSetter(Ui,"image");F.addComponentsGetterSetter(Ui,"crop",["x","y","width","height"]);F.addGetterSetter(Ui,"cropX",0,Ce());F.addGetterSetter(Ui,"cropY",0,Ce());F.addGetterSetter(Ui,"cropWidth",0,Ce());F.addGetterSetter(Ui,"cropHeight",0,Ce());const O5=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],XP="Change.konva",YP="none",r0="up",i0="right",s0="down",o0="left",KP=O5.length;let Y0=class extends ac{constructor(e){super(e),this.on("add.konva",function(t){this._addListeners(t.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let t=this,r;const s=function(){t._sync()};for(r=0;r<KP;r++)e.on(O5[r]+XP,s)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),t=this.getTag(),r,s,l,c,d,h,g;if(e&&t){switch(r=e.width(),s=e.height(),l=t.pointerDirection(),c=t.pointerWidth(),g=t.pointerHeight(),d=0,h=0,l){case r0:d=r/2,h=-1*g;break;case i0:d=r+c,h=s/2;break;case s0:d=r/2,h=s+g;break;case o0:d=-1*c,h=s/2;break}t.setAttrs({x:-1*d,y:-1*h,width:r,height:s}),e.setAttrs({x:-1*d,y:-1*h})}}};Y0.prototype.className="Label";sn(Y0);class Pl extends ge{_sceneFunc(e){const t=this.width(),r=this.height(),s=this.pointerDirection(),l=this.pointerWidth(),c=this.pointerHeight(),d=this.cornerRadius();let h=0,g=0,y=0,w=0;typeof d=="number"?h=g=y=w=Math.min(d,t/2,r/2):(h=Math.min(d[0]||0,t/2,r/2),g=Math.min(d[1]||0,t/2,r/2),w=Math.min(d[2]||0,t/2,r/2),y=Math.min(d[3]||0,t/2,r/2)),e.beginPath(),e.moveTo(h,0),s===r0&&(e.lineTo((t-l)/2,0),e.lineTo(t/2,-1*c),e.lineTo((t+l)/2,0)),e.lineTo(t-g,0),e.arc(t-g,g,g,Math.PI*3/2,0,!1),s===i0&&(e.lineTo(t,(r-c)/2),e.lineTo(t+l,r/2),e.lineTo(t,(r+c)/2)),e.lineTo(t,r-w),e.arc(t-w,r-w,w,0,Math.PI/2,!1),s===s0&&(e.lineTo((t+l)/2,r),e.lineTo(t/2,r+c),e.lineTo((t-l)/2,r)),e.lineTo(y,r),e.arc(y,r-y,y,Math.PI/2,Math.PI,!1),s===o0&&(e.lineTo(0,(r+c)/2),e.lineTo(-1*l,r/2),e.lineTo(0,(r-c)/2)),e.lineTo(0,h),e.arc(h,h,h,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,t=0,r=this.pointerWidth(),s=this.pointerHeight(),l=this.pointerDirection(),c=this.width(),d=this.height();return l===r0?(t-=s,d+=s):l===s0?d+=s:l===o0?(e-=r*1.5,c+=r):l===i0&&(c+=r*1.5),{x:e,y:t,width:c,height:d}}}Pl.prototype.className="Tag";sn(Pl);F.addGetterSetter(Pl,"pointerDirection",YP);F.addGetterSetter(Pl,"pointerWidth",0,Ce());F.addGetterSetter(Pl,"pointerHeight",0,Ce());F.addGetterSetter(Pl,"cornerRadius",0,qp(4));class vf extends ge{_sceneFunc(e){const t=this.cornerRadius(),r=this.width(),s=this.height();e.beginPath(),t?$.drawRoundedRectPath(e,r,s,t):e.rect(0,0,r,s),e.closePath(),e.fillStrokeShape(this)}}vf.prototype.className="Rect";sn(vf);F.addGetterSetter(vf,"cornerRadius",0,qp(4));class Ca extends ge{_sceneFunc(e){const t=this._getPoints(),r=this.radius(),s=this.sides(),l=this.cornerRadius();if(e.beginPath(),l)$.drawRoundedPolygonPath(e,t,s,r,l);else{e.moveTo(t[0].x,t[0].y);for(let c=1;c<t.length;c++)e.lineTo(t[c].x,t[c].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,t=this.attrs.radius||0,r=[];for(let s=0;s<e;s++)r.push({x:t*Math.sin(s*2*Math.PI/e),y:-1*t*Math.cos(s*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();let t=e[0].x,r=e[0].x,s=e[0].y,l=e[0].y;return e.forEach(c=>{t=Math.min(t,c.x),r=Math.max(r,c.x),s=Math.min(s,c.y),l=Math.max(l,c.y)}),{x:t,y:s,width:r-t,height:l-s}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Ca.prototype.className="RegularPolygon";Ca.prototype._centroid=!0;Ca.prototype._attrsAffectingSize=["radius"];sn(Ca);F.addGetterSetter(Ca,"radius",0,Ce());F.addGetterSetter(Ca,"sides",0,Ce());F.addGetterSetter(Ca,"cornerRadius",0,qp(4));const fv=Math.PI*2;class Tl extends ge{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,fv,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),fv,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Tl.prototype.className="Ring";Tl.prototype._centroid=!0;Tl.prototype._attrsAffectingSize=["innerRadius","outerRadius"];sn(Tl);F.addGetterSetter(Tl,"innerRadius",0,Ce());F.addGetterSetter(Tl,"outerRadius",0,Ce());class ws extends ge{constructor(e){super(e),this._updated=!0,this.anim=new hi(()=>{const t=this._updated;return this._updated=!1,t}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const t=this.animation(),r=this.frameIndex(),s=r*4,l=this.animations()[t],c=this.frameOffsets(),d=l[s+0],h=l[s+1],g=l[s+2],y=l[s+3],w=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,g,y),e.closePath(),e.fillStrokeShape(this)),w)if(c){const _=c[t],k=r*2;e.drawImage(w,d,h,g,y,_[k+0],_[k+1],g,y)}else e.drawImage(w,d,h,g,y,0,0,g,y)}_hitFunc(e){const t=this.animation(),r=this.frameIndex(),s=r*4,l=this.animations()[t],c=this.frameOffsets(),d=l[s+2],h=l[s+3];if(e.beginPath(),c){const g=c[t],y=r*2;e.rect(g[y+0],g[y+1],d,h)}else e.rect(0,0,d,h);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),t=this.animation(),r=this.animations(),s=r[t],l=s.length/4;e<l-1?this.frameIndex(e+1):this.frameIndex(0)}}ws.prototype.className="Sprite";sn(ws);F.addGetterSetter(ws,"animation");F.addGetterSetter(ws,"animations");F.addGetterSetter(ws,"frameOffsets");F.addGetterSetter(ws,"image");F.addGetterSetter(ws,"frameIndex",0,Ce());F.addGetterSetter(ws,"frameRate",17,Ce());F.backCompat(ws,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Ea extends ge{_sceneFunc(e){const t=this.innerRadius(),r=this.outerRadius(),s=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let l=1;l<s*2;l++){const c=l%2===0?r:t,d=c*Math.sin(l*Math.PI/s),h=-1*c*Math.cos(l*Math.PI/s);e.lineTo(d,h)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Ea.prototype.className="Star";Ea.prototype._centroid=!0;Ea.prototype._attrsAffectingSize=["innerRadius","outerRadius"];sn(Ea);F.addGetterSetter(Ea,"numPoints",5,Ce());F.addGetterSetter(Ea,"innerRadius",0,Ce());F.addGetterSetter(Ea,"outerRadius",0,Ce());function ua(n){return[...n].reduce((e,t,r,s)=>{if(new RegExp("\\p{Emoji}","u").test(t)){const l=s[r+1];l&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(l)?(e.push(t+l),s[r+1]=""):e.push(t)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(t+(s[r+1]||""))?e.push(t+s[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(t)?e[e.length-1]+=t:t&&e.push(t);return e},[])}const Mu="auto",ZP="center",L5="inherit",bd="justify",JP="Change.konva",eT="2d",hv="-",D5="left",tT="text",nT="Text",rT="top",iT="bottom",pv="middle",j5="normal",sT="px ",Yh=" ",oT="right",mv="rtl",aT="word",lT="char",gv="none",fg="",F5=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],uT=F5.length;function cT(n){return n.split(",").map(e=>{e=e.trim();const t=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return t&&!r&&(e=`"${e}"`),e}).join(", ")}let Kh;function hg(){return Kh||(Kh=$.createCanvasElement().getContext(eT),Kh)}function dT(n){n.fillText(this._partialText,this._partialTextX,this._partialTextY)}function fT(n){n.setAttr("miterLimit",2),n.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function hT(n){return n=n||{},!n.fillLinearGradientColorStops&&!n.fillRadialGradientColorStops&&!n.fillPatternImage&&(n.fill=n.fill||"black"),n}class Qt extends ge{constructor(e){super(hT(e)),this._partialTextX=0,this._partialTextY=0;for(let t=0;t<uT;t++)this.on(F5[t]+JP,this._setTextData);this._setTextData()}_sceneFunc(e){var t,r;const s=this.textArr,l=s.length;if(!this.text())return;let c=this.padding(),d=this.fontSize(),h=this.lineHeight()*d,g=this.verticalAlign(),y=this.direction(),w=0,_=this.align(),k=this.getWidth(),R=this.letterSpacing(),P=this.charRenderFunc(),N=this.fill(),M=this.textDecoration(),I=this.underlineOffset(),L=M.indexOf("underline")!==-1,D=M.indexOf("line-through")!==-1,z;y=y===L5?e.direction:y;let U=h/2,H=pv;if(!Pe.legacyTextRendering){const K=this.measureSize("M");H="alphabetic";const re=(t=K.fontBoundingBoxAscent)!==null&&t!==void 0?t:K.actualBoundingBoxAscent,ue=(r=K.fontBoundingBoxDescent)!==null&&r!==void 0?r:K.actualBoundingBoxDescent;U=(re-ue)/2+h/2}for(y===mv&&e.setAttr("direction",y),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",H),e.setAttr("textAlign",D5),g===pv?w=(this.getHeight()-l*h-c*2)/2:g===iT&&(w=this.getHeight()-l*h-c*2),e.translate(c,w+c),z=0;z<l;z++){let K=0,re=0;const ue=s[z],ve=ue.text,ae=ue.width,ye=ue.lastInParagraph;if(e.save(),_===oT?K+=k-ae-c*2:_===ZP&&(K+=(k-ae-c*2)/2),L){e.save(),e.beginPath();const de=I??(Pe.legacyTextRendering?Math.round(d/2):Math.round(d/4)),ie=K,me=U+re+de;e.moveTo(ie,me);const Q=_===bd&&!ye?k-c*2:ae;e.lineTo(ie+Math.round(Q),me),e.lineWidth=d/15;const le=this._getLinearGradient();e.strokeStyle=le||N,e.stroke(),e.restore()}const se=K;if(y!==mv&&(R!==0||_===bd||P)){const de=ve.split(" ").length-1,ie=ua(ve);for(let me=0;me<ie.length;me++){const Q=ie[me];if(Q===" "&&!ye&&_===bd&&(K+=(k-c*2-ae)/de),this._partialTextX=K,this._partialTextY=U+re,this._partialText=Q,P){e.save();const ce=s.slice(0,z).reduce((X,Ae)=>X+ua(Ae.text).length,0),B=me+ce;P({char:Q,index:B,x:K,y:U+re,lineIndex:z,column:me,isLastInLine:ye,width:this.measureSize(Q).width,context:e})}e.fillStrokeShape(this),P&&e.restore(),K+=this.measureSize(Q).width+R}}else R!==0&&e.setAttr("letterSpacing",`${R}px`),this._partialTextX=K,this._partialTextY=U+re,this._partialText=ve,e.fillStrokeShape(this);if(D){e.save(),e.beginPath();const de=Pe.legacyTextRendering?0:-Math.round(d/4),ie=se;e.moveTo(ie,U+re+de);const me=_===bd&&!ye?k-c*2:ae;e.lineTo(ie+Math.round(me),U+re+de),e.lineWidth=d/15;const Q=this._getLinearGradient();e.strokeStyle=Q||N,e.stroke(),e.restore()}e.restore(),l>1&&(U+=h)}}_hitFunc(e){const t=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)}setText(e){const t=$._isString(e)?e:e==null?"":e+"";return this._setAttr(tT,t),this}getWidth(){return this.attrs.width===Mu||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===Mu||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return $.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var t,r,s,l,c,d,h,g,y,w,_;let k=hg(),R=this.fontSize(),P;k.save(),k.font=this._getContextFont(),P=k.measureText(e),k.restore();const N=R/100;return{actualBoundingBoxAscent:(t=P.actualBoundingBoxAscent)!==null&&t!==void 0?t:71.58203125*N,actualBoundingBoxDescent:(r=P.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(s=P.actualBoundingBoxLeft)!==null&&s!==void 0?s:-7.421875*N,actualBoundingBoxRight:(l=P.actualBoundingBoxRight)!==null&&l!==void 0?l:75.732421875*N,alphabeticBaseline:(c=P.alphabeticBaseline)!==null&&c!==void 0?c:0,emHeightAscent:(d=P.emHeightAscent)!==null&&d!==void 0?d:100*N,emHeightDescent:(h=P.emHeightDescent)!==null&&h!==void 0?h:-20*N,fontBoundingBoxAscent:(g=P.fontBoundingBoxAscent)!==null&&g!==void 0?g:91*N,fontBoundingBoxDescent:(y=P.fontBoundingBoxDescent)!==null&&y!==void 0?y:21*N,hangingBaseline:(w=P.hangingBaseline)!==null&&w!==void 0?w:72.80000305175781*N,ideographicBaseline:(_=P.ideographicBaseline)!==null&&_!==void 0?_:-21*N,width:P.width,height:R}}_getContextFont(){return this.fontStyle()+Yh+this.fontVariant()+Yh+(this.fontSize()+sT)+cT(this.fontFamily())}_addTextLine(e){this.align()===bd&&(e=e.trim());const r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){const t=this.letterSpacing(),r=e.length;return hg().measureText(e).width+t*r}_setTextData(){let e=this.text().split(`
`),t=+this.fontSize(),r=0,s=this.lineHeight()*t,l=this.attrs.width,c=this.attrs.height,d=l!==Mu&&l!==void 0,h=c!==Mu&&c!==void 0,g=this.padding(),y=l-g*2,w=c-g*2,_=0,k=this.wrap(),R=k!==gv,P=k!==lT&&R,N=this.ellipsis();this.textArr=[],hg().font=this._getContextFont();const M=N?this._getTextWidth(fg):0;for(let I=0,L=e.length;I<L;++I){let D=e[I],z=this._getTextWidth(D);if(d&&z>y)for(;D.length>0;){let U=0,H=ua(D).length,K="",re=0;for(;U<H;){const ue=U+H>>>1,ve=ua(D),ae=ve.slice(0,ue+1).join(""),ye=this._getTextWidth(ae);(N&&h&&_+s>w?ye+M:ye)<=y?(U=ue+1,K=ae,re=ye):H=ue}if(K){if(P){const ae=ua(D),ye=ua(K),se=ae[ye.length],de=se===Yh||se===hv;let ie;if(de&&re<=y)ie=ye.length;else{const me=ye.lastIndexOf(Yh),Q=ye.lastIndexOf(hv);ie=Math.max(me,Q)+1}ie>0&&(U=ie,K=ae.slice(0,U).join(""),re=this._getTextWidth(K))}if(K=K.trimRight(),this._addTextLine(K),r=Math.max(r,re),_+=s,this._shouldHandleEllipsis(_)){this._tryToAddEllipsisToLastLine();break}if(D=ua(D).slice(U).join("").trimLeft(),D.length>0&&(z=this._getTextWidth(D),z<=y)){this._addTextLine(D),_+=s,r=Math.max(r,z);break}}else break}else this._addTextLine(D),_+=s,r=Math.max(r,z),this._shouldHandleEllipsis(_)&&I<L-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),h&&_+s>w)break}this.textHeight=t,this.textWidth=r}_shouldHandleEllipsis(e){const t=+this.fontSize(),r=this.lineHeight()*t,s=this.attrs.height,l=s!==Mu&&s!==void 0,c=this.padding(),d=s-c*2;return!(this.wrap()!==gv)||l&&e+r>d}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,t=e!==Mu&&e!==void 0,r=this.padding(),s=e-r*2,l=this.ellipsis(),c=this.textArr[this.textArr.length-1];!c||!l||(t&&(this._getTextWidth(c.text+fg)<s||(c.text=c.text.slice(0,c.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(c.text+fg))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,t=this.hasShadow();return e&&t?!0:super._useBufferCanvas()}}Qt.prototype._fillFunc=dT;Qt.prototype._strokeFunc=fT;Qt.prototype.className=nT;Qt.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];sn(Qt);F.overWriteSetter(Qt,"width",q0());F.overWriteSetter(Qt,"height",q0());F.addGetterSetter(Qt,"direction",L5);F.addGetterSetter(Qt,"fontFamily","Arial");F.addGetterSetter(Qt,"fontSize",12,Ce());F.addGetterSetter(Qt,"fontStyle",j5);F.addGetterSetter(Qt,"fontVariant",j5);F.addGetterSetter(Qt,"padding",0,Ce());F.addGetterSetter(Qt,"align",D5);F.addGetterSetter(Qt,"verticalAlign",rT);F.addGetterSetter(Qt,"lineHeight",1,Ce());F.addGetterSetter(Qt,"wrap",aT);F.addGetterSetter(Qt,"ellipsis",!1,Gi());F.addGetterSetter(Qt,"letterSpacing",0,Ce());F.addGetterSetter(Qt,"text","",_l());F.addGetterSetter(Qt,"textDecoration","");F.addGetterSetter(Qt,"underlineOffset",void 0,Ce());F.addGetterSetter(Qt,"charRenderFunc",void 0);const pT="",z5="normal";function B5(n){n.fillText(this.partialText,0,0)}function G5(n){n.strokeText(this.partialText,0,0)}class Ln extends ge{constructor(e){super(e),this.dummyCanvas=$.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Wt.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const t=this.pathLength;return e>t?null:Wt.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Wt.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const t=this.textDecoration(),r=this.fill(),s=this.fontSize(),l=this.glyphInfo,c=t.indexOf("underline")!==-1,d=t.indexOf("line-through")!==-1;c&&e.beginPath();for(let h=0;h<l.length;h++){e.save();const g=l[h].p0;e.translate(g.x,g.y),e.rotate(l[h].rotation),this.partialText=l[h].text,e.fillStrokeShape(this),c&&(h===0&&e.moveTo(0,s/2+1),e.lineTo(l[h].width,s/2+1)),e.restore()}if(c&&(e.strokeStyle=r,e.lineWidth=s/20,e.stroke()),d){e.beginPath();for(let h=0;h<l.length;h++){e.save();const g=l[h].p0;e.translate(g.x,g.y),e.rotate(l[h].rotation),h===0&&e.moveTo(0,0),e.lineTo(l[h].width,0),e.restore()}e.strokeStyle=r,e.lineWidth=s/20,e.stroke()}e.restore()}_hitFunc(e){e.beginPath();const t=this.glyphInfo;if(t.length>=1){const r=t[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<t.length;r++){const s=t[r].p1;e.lineTo(s.x,s.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return $.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Qt.prototype.setText.call(this,e)}_getContextFont(){return Qt.prototype._getContextFont.call(this)}_getTextSize(e){const r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();const s=r.measureText(e);return r.restore(),{width:s.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=ua(this.text()),t=[];let r=0;for(let w=0;w<e.length;w++)t.push({char:e[w],width:this._getTextSize(e[w]).width}),r+=t[w].width;const{height:s}=this._getTextSize(this.attrs.text);if(this.textWidth=r,this.textHeight=s,this.glyphInfo=[],!this.attrs.data)return null;const l=this.letterSpacing(),c=this.align(),d=this.kerningFunc(),h=Math.max(this.textWidth+((this.attrs.text||"").length-1)*l,0);let g=0;c==="center"&&(g=Math.max(0,this.pathLength/2-h/2)),c==="right"&&(g=Math.max(0,this.pathLength-h));let y=g;for(let w=0;w<t.length;w++){const _=this._getPointAtLength(y);if(!_)return;const k=t[w].char;let R=t[w].width+l;if(k===" "&&c==="justify"){const D=this.text().split(" ").length-1;R+=(this.pathLength-h)/D}const P=this._getPointAtLength(y+R);if(!P)return;const N=Wt.getLineLength(_.x,_.y,P.x,P.y);let M=0;if(d)try{M=d(t[w-1].char,k)*this.fontSize()}catch{M=0}_.x+=M,P.x+=M,this.textWidth+=M;const I=Wt.getPointOnLine(M+N/2,_.x,_.y,P.x,P.y),L=Math.atan2(P.y-_.y,P.x-_.x);this.glyphInfo.push({transposeX:I.x,transposeY:I.y,text:e[w],rotation:L,p0:_,p1:P,width:N}),y+=R}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(g){e.push(g.p0.x),e.push(g.p0.y),e.push(g.p1.x),e.push(g.p1.y)});let t=e[0]||0,r=e[0]||0,s=e[1]||0,l=e[1]||0,c,d;for(let g=0;g<e.length/2;g++)c=e[g*2],d=e[g*2+1],t=Math.min(t,c),r=Math.max(r,c),s=Math.min(s,d),l=Math.max(l,d);const h=this.fontSize();return{x:t-h/2,y:s-h/2,width:r-t+h,height:l-s+h}}destroy(){return $.releaseCanvas(this.dummyCanvas),super.destroy()}}Ln.prototype._fillFunc=B5;Ln.prototype._strokeFunc=G5;Ln.prototype._fillFuncHit=B5;Ln.prototype._strokeFuncHit=G5;Ln.prototype.className="TextPath";Ln.prototype._attrsAffectingSize=["text","fontSize","data"];sn(Ln);F.addGetterSetter(Ln,"data");F.addGetterSetter(Ln,"fontFamily","Arial");F.addGetterSetter(Ln,"fontSize",12,Ce());F.addGetterSetter(Ln,"fontStyle",z5);F.addGetterSetter(Ln,"align","left");F.addGetterSetter(Ln,"letterSpacing",0,Ce());F.addGetterSetter(Ln,"textBaseline","middle");F.addGetterSetter(Ln,"fontVariant",z5);F.addGetterSetter(Ln,"text",pT);F.addGetterSetter(Ln,"textDecoration","");F.addGetterSetter(Ln,"kerningFunc",void 0);const U5="tr-konva",mT=["resizeEnabledChange","rotateAnchorOffsetChange","rotateAnchorAngleChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(n=>n+`.${U5}`).join(" "),yv="nodesRect",gT=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],yT={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},vT="ontouchstart"in Pe._global;function xT(n,e,t){if(n==="rotater")return t;e+=$.degToRad(yT[n]||0);const r=($.radToDeg(e)%360+360)%360;return $._inRange(r,315+22.5,360)||$._inRange(r,0,22.5)?"ns-resize":$._inRange(r,45-22.5,45+22.5)?"nesw-resize":$._inRange(r,90-22.5,90+22.5)?"ew-resize":$._inRange(r,135-22.5,135+22.5)?"nwse-resize":$._inRange(r,180-22.5,180+22.5)?"ns-resize":$._inRange(r,225-22.5,225+22.5)?"nesw-resize":$._inRange(r,270-22.5,270+22.5)?"ew-resize":$._inRange(r,315-22.5,315+22.5)?"nwse-resize":($.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}const Tp=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function wT(n){return{x:n.x+n.width/2*Math.cos(n.rotation)+n.height/2*Math.sin(-n.rotation),y:n.y+n.height/2*Math.cos(n.rotation)+n.width/2*Math.sin(n.rotation)}}function H5(n,e,t){const r=t.x+(n.x-t.x)*Math.cos(e)-(n.y-t.y)*Math.sin(e),s=t.y+(n.x-t.x)*Math.sin(e)+(n.y-t.y)*Math.cos(e);return{...n,rotation:n.rotation+e,x:r,y:s}}function ST(n,e){const t=wT(n);return H5(n,e,t)}function _T(n,e,t){let r=e;for(let s=0;s<n.length;s++){const l=Pe.getAngle(n[s]),c=Math.abs(l-e)%(Math.PI*2);Math.min(c,Math.PI*2-c)<t&&(r=l)}return r}let a0=0;class gt extends ac{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(mT,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return $.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return U5+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const t=e.filter(s=>s.isAncestorOf(this)?($.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=t,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(s=>{const l=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(s._attrsAffectingSize.length){const c=s._attrsAffectingSize.map(d=>d+"Change."+this._getEventNamespace()).join(" ");s.on(c,l)}s.on(gT.map(c=>c+`.${this._getEventNamespace()}`).join(" "),l),s.on(`absoluteTransformChange.${this._getEventNamespace()}`,l),this._proxyDrag(s)}),this._resetTransformCache(),this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let t;e.on(`dragstart.${this._getEventNamespace()}`,r=>{t=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!t)return;const s=e.getAbsolutePosition(),l=s.x-t.x,c=s.y-t.y;this.nodes().forEach(d=>{if(d===e||d.isDragging())return;const h=d.getAbsolutePosition();d.setAbsolutePosition({x:h.x+l,y:h.y+c}),d.startDrag(r)}),t=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(yv),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(yv,this.__getNodeRect)}__getNodeShape(e,t=this.rotation(),r){const s=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),l=e.getAbsoluteScale(r),c=e.getAbsolutePosition(r),d=s.x*l.x-e.offsetX()*l.x,h=s.y*l.y-e.offsetY()*l.y,g=(Pe.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),y={x:c.x+d*Math.cos(g)+h*Math.sin(-g),y:c.y+h*Math.cos(g)+d*Math.sin(g),width:s.width*l.x,height:s.height*l.y,rotation:g};return H5(y,-Pe.getAngle(t),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const t=[];this.nodes().map(g=>{const y=g.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),w=[{x:y.x,y:y.y},{x:y.x+y.width,y:y.y},{x:y.x+y.width,y:y.y+y.height},{x:y.x,y:y.y+y.height}],_=g.getAbsoluteTransform();w.forEach(function(k){const R=_.point(k);t.push(R)})});const r=new qr;r.rotate(-Pe.getAngle(this.rotation()));let s=1/0,l=1/0,c=-1/0,d=-1/0;t.forEach(function(g){const y=r.point(g);s===void 0&&(s=c=y.x,l=d=y.y),s=Math.min(s,y.x),l=Math.min(l,y.y),c=Math.max(c,y.x),d=Math.max(d,y.y)}),r.invert();const h=r.point({x:s,y:l});return{x:h.x,y:h.y,width:c-s,height:d-l,rotation:Pe.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Tp.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const t=new vf({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:vT?10:"auto"}),r=this;t.on("mousedown touchstart",function(s){r._handleMouseDown(s)}),t.on("dragstart",s=>{t.stopDrag(),s.cancelBubble=!0}),t.on("dragend",s=>{s.cancelBubble=!0}),t.on("mouseenter",()=>{const s=Pe.getAngle(this.rotation()),l=this.rotateAnchorCursor(),c=xT(e,s,l);t.getStage().content&&(t.getStage().content.style.cursor=c),this._cursorChange=!0}),t.on("mouseout",()=>{t.getStage().content&&(t.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(t)}_createBack(){const e=new ge({name:"back",width:0,height:0,sceneFunc(t,r){const s=r.getParent(),l=s.padding(),c=r.width(),d=r.height();if(t.beginPath(),t.rect(-l,-l,c+l*2,d+l*2),s.rotateEnabled()&&s.rotateLineVisible()){const h=s.rotateAnchorAngle(),g=s.rotateAnchorOffset(),y=$.degToRad(h),w=Math.sin(y),_=-Math.cos(y),k=c/2,R=d/2;let P=1/0;_<0?P=Math.min(P,-R/_):_>0&&(P=Math.min(P,(d-R)/_)),w<0?P=Math.min(P,-k/w):w>0&&(P=Math.min(P,(c-k)/w));const N=k+w*P,M=R+_*P,I=$._sign(d),L=N+w*g*I,D=M+_*g*I;t.moveTo(N,M),t.lineTo(L,D)}t.fillStrokeShape(r)},hitFunc:(t,r)=>{if(!this.shouldOverdrawWholeArea())return;const s=this.padding();t.beginPath(),t.rect(-s,-s,r.width()+s*2,r.height()+s*2),t.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",t=>{t.cancelBubble=!0}),e.on("dragmove",t=>{t.cancelBubble=!0}),e.on("dragend",t=>{t.cancelBubble=!0}),this.on("dragmove",t=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const t=this._getNodeRect(),r=t.width,s=t.height,l=Math.sqrt(Math.pow(r,2)+Math.pow(s,2));this.sin=Math.abs(s/l),this.cos=Math.abs(r/l),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const c=e.target.getAbsolutePosition(),d=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:d.x-c.x,y:d.y-c.y},a0++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(h=>{h._fire("transformstart",{evt:e.evt,target:h})})}_handleMouseMove(e){let t,r,s;const l=this.findOne("."+this._movingAnchorName),c=l.getStage();c.setPointersPositions(e);const d=c.getPointerPosition();let h={x:d.x-this._anchorDragOffset.x,y:d.y-this._anchorDragOffset.y};const g=l.getAbsolutePosition();this.anchorDragBoundFunc()&&(h=this.anchorDragBoundFunc()(g,h,e)),l.setAbsolutePosition(h);const y=l.getAbsolutePosition();if(g.x===y.x&&g.y===y.y)return;if(this._movingAnchorName==="rotater"){const I=this._getNodeRect();t=l.x()-I.width/2,r=-l.y()+I.height/2;const L=Pe.getAngle(this.rotateAnchorAngle());let D=Math.atan2(-r,t)+Math.PI/2-L;I.height<0&&(D-=Math.PI);const U=Pe.getAngle(this.rotation())+D,H=Pe.getAngle(this.rotationSnapTolerance()),re=_T(this.rotationSnaps(),U,H)-I.rotation,ue=ST(I,re);this._fitNodesInto(ue,e);return}const w=this.shiftBehavior();let _;w==="inverted"?_=this.keepRatio()&&!e.shiftKey:w==="none"?_=this.keepRatio():_=this.keepRatio()||e.shiftKey;let k=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(_){const I=k?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};s=Math.sqrt(Math.pow(I.x-l.x(),2)+Math.pow(I.y-l.y(),2));const L=this.findOne(".top-left").x()>I.x?-1:1,D=this.findOne(".top-left").y()>I.y?-1:1;t=s*this.cos*L,r=s*this.sin*D,this.findOne(".top-left").x(I.x-t),this.findOne(".top-left").y(I.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(l.y());else if(this._movingAnchorName==="top-right"){if(_){const I=k?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};s=Math.sqrt(Math.pow(l.x()-I.x,2)+Math.pow(I.y-l.y(),2));const L=this.findOne(".top-right").x()<I.x?-1:1,D=this.findOne(".top-right").y()>I.y?-1:1;t=s*this.cos*L,r=s*this.sin*D,this.findOne(".top-right").x(I.x+t),this.findOne(".top-right").y(I.y-r)}var R=l.position();this.findOne(".top-left").y(R.y),this.findOne(".bottom-right").x(R.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(l.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(l.x());else if(this._movingAnchorName==="bottom-left"){if(_){const I=k?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};s=Math.sqrt(Math.pow(I.x-l.x(),2)+Math.pow(l.y()-I.y,2));const L=I.x<l.x()?-1:1,D=l.y()<I.y?-1:1;t=s*this.cos*L,r=s*this.sin*D,l.x(I.x-t),l.y(I.y+r)}R=l.position(),this.findOne(".top-left").x(R.x),this.findOne(".bottom-right").y(R.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(l.y());else if(this._movingAnchorName==="bottom-right"){if(_){const I=k?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};s=Math.sqrt(Math.pow(l.x()-I.x,2)+Math.pow(l.y()-I.y,2));const L=this.findOne(".bottom-right").x()<I.x?-1:1,D=this.findOne(".bottom-right").y()<I.y?-1:1;t=s*this.cos*L,r=s*this.sin*D,this.findOne(".bottom-right").x(I.x+t),this.findOne(".bottom-right").y(I.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(k=this.centeredScaling()||e.altKey,k){const I=this.findOne(".top-left"),L=this.findOne(".bottom-right"),D=I.x(),z=I.y(),U=this.getWidth()-L.x(),H=this.getHeight()-L.y();L.move({x:-D,y:-z}),I.move({x:U,y:H})}const P=this.findOne(".top-left").getAbsolutePosition();t=P.x,r=P.y;const N=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),M=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:t,y:r,width:N,height:M,rotation:Pe.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var t;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const r=this.getNode();a0--,this._fire("transformend",{evt:e,target:r}),(t=this.getLayer())===null||t===void 0||t.batchDraw(),r&&this._nodes.forEach(s=>{var l;s._fire("transformend",{evt:e,target:s}),(l=s.getLayer())===null||l===void 0||l.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,t){const r=this._getNodeRect(),s=1;if($._inRange(e.width,-this.padding()*2-s,s)){this.update();return}if($._inRange(e.height,-this.padding()*2-s,s)){this.update();return}const l=new qr;if(l.rotate(Pe.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const _=l.point({x:-this.padding()*2,y:0});e.x+=_.x,e.y+=_.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=_.x,this._anchorDragOffset.y-=_.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const _=l.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=_.x,this._anchorDragOffset.y-=_.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const _=l.point({x:0,y:-this.padding()*2});e.x+=_.x,e.y+=_.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=_.x,this._anchorDragOffset.y-=_.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const _=l.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=_.x,this._anchorDragOffset.y-=_.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const _=this.boundBoxFunc()(r,e);_?e=_:$.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const c=1e7,d=new qr;d.translate(r.x,r.y),d.rotate(r.rotation),d.scale(r.width/c,r.height/c);const h=new qr,g=e.width/c,y=e.height/c;this.flipEnabled()===!1?(h.translate(e.x,e.y),h.rotate(e.rotation),h.translate(e.width<0?e.width:0,e.height<0?e.height:0),h.scale(Math.abs(g),Math.abs(y))):(h.translate(e.x,e.y),h.rotate(e.rotation),h.scale(g,y));const w=h.multiply(d.invert());this._nodes.forEach(_=>{var k;if(!_.getStage())return;const R=_.getParent().getAbsoluteTransform(),P=_.getTransform().copy();P.translate(_.offsetX(),_.offsetY());const N=new qr;N.multiply(R.copy().invert()).multiply(w).multiply(R).multiply(P);const M=N.decompose();_.setAttrs(M),(k=_.getLayer())===null||k===void 0||k.batchDraw()}),this.rotation($._getRotation(e.rotation)),this._nodes.forEach(_=>{this._fire("transform",{evt:t,target:_}),_._fire("transform",{evt:t,target:_})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,t){this.findOne(e).setAttrs(t)}update(){var e;const t=this._getNodeRect();this.rotation($._getRotation(t.rotation));const r=t.width,s=t.height,l=this.enabledAnchors(),c=this.resizeEnabled(),d=this.padding(),h=this.anchorSize(),g=this.find("._anchor");g.forEach(U=>{U.setAttrs({width:h,height:h,offsetX:h/2,offsetY:h/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:h/2+d,offsetY:h/2+d,visible:c&&l.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:h/2+d,visible:c&&l.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:h/2-d,offsetY:h/2+d,visible:c&&l.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:s/2,offsetX:h/2+d,visible:c&&l.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:s/2,offsetX:h/2-d,visible:c&&l.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:s,offsetX:h/2+d,offsetY:h/2-d,visible:c&&l.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:s,offsetY:h/2-d,visible:c&&l.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:s,offsetX:h/2-d,offsetY:h/2-d,visible:c&&l.indexOf("bottom-right")>=0});const y=this.rotateAnchorAngle(),w=this.rotateAnchorOffset(),_=$.degToRad(y),k=Math.sin(_),R=-Math.cos(_),P=r/2,N=s/2;let M=1/0;R<0?M=Math.min(M,-N/R):R>0&&(M=Math.min(M,(s-N)/R)),k<0?M=Math.min(M,-P/k):k>0&&(M=Math.min(M,(r-P)/k));const I=P+k*M,L=N+R*M,D=$._sign(s);this._batchChangeChild(".rotater",{x:I+k*w*D,y:L+R*w*D-d*R,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:s,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(U=>U.draggable()),x:0,y:0});const z=this.anchorStyleFunc();z&&g.forEach(U=>{z(U)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),ac.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Ee.prototype.toObject.call(this)}clone(e){return Ee.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}gt.isTransforming=()=>a0>0;function CT(n){return n instanceof Array||$.warn("enabledAnchors value should be an array"),n instanceof Array&&n.forEach(function(e){Tp.indexOf(e)===-1&&$.warn("Unknown anchor name: "+e+". Available names are: "+Tp.join(", "))}),n||[]}gt.prototype.className="Transformer";sn(gt);F.addGetterSetter(gt,"enabledAnchors",Tp,CT);F.addGetterSetter(gt,"flipEnabled",!0,Gi());F.addGetterSetter(gt,"resizeEnabled",!0);F.addGetterSetter(gt,"anchorSize",10,Ce());F.addGetterSetter(gt,"rotateEnabled",!0);F.addGetterSetter(gt,"rotateLineVisible",!0);F.addGetterSetter(gt,"rotationSnaps",[]);F.addGetterSetter(gt,"rotateAnchorOffset",50,Ce());F.addGetterSetter(gt,"rotateAnchorAngle",0,Ce());F.addGetterSetter(gt,"rotateAnchorCursor","crosshair");F.addGetterSetter(gt,"rotationSnapTolerance",5,Ce());F.addGetterSetter(gt,"borderEnabled",!0);F.addGetterSetter(gt,"anchorStroke","rgb(0, 161, 255)");F.addGetterSetter(gt,"anchorStrokeWidth",1,Ce());F.addGetterSetter(gt,"anchorFill","white");F.addGetterSetter(gt,"anchorCornerRadius",0,Ce());F.addGetterSetter(gt,"borderStroke","rgb(0, 161, 255)");F.addGetterSetter(gt,"borderStrokeWidth",1,Ce());F.addGetterSetter(gt,"borderDash");F.addGetterSetter(gt,"keepRatio",!0);F.addGetterSetter(gt,"shiftBehavior","default");F.addGetterSetter(gt,"centeredScaling",!1);F.addGetterSetter(gt,"ignoreStroke",!1);F.addGetterSetter(gt,"padding",0,Ce());F.addGetterSetter(gt,"nodes");F.addGetterSetter(gt,"node");F.addGetterSetter(gt,"boundBoxFunc");F.addGetterSetter(gt,"anchorDragBoundFunc");F.addGetterSetter(gt,"anchorStyleFunc");F.addGetterSetter(gt,"shouldOverdrawWholeArea",!1);F.addGetterSetter(gt,"useSingleNodeRotation",!0);F.backCompat(gt,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class uo extends ge{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,Pe.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}uo.prototype.className="Wedge";uo.prototype._centroid=!0;uo.prototype._attrsAffectingSize=["radius"];sn(uo);F.addGetterSetter(uo,"radius",0,Ce());F.addGetterSetter(uo,"angle",0,Ce());F.addGetterSetter(uo,"clockwise",!1);F.backCompat(uo,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function vv(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const ET=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],PT=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function TT(n,e){const t=n.data,r=n.width,s=n.height;let l,c,d,h,g,y,w,_,k,R,P,N,M,I,L,D,z,U,H,K;const re=e+e+1,ue=r-1,ve=s-1,ae=e+1,ye=ae*(ae+1)/2,se=new vv,de=ET[e],ie=PT[e];let me=null,Q=se,le=null,ce=null;for(let B=1;B<re;B++)Q=Q.next=new vv,B===ae&&(me=Q);Q.next=se,d=c=0;for(let B=0;B<s;B++){N=M=I=L=h=g=y=w=0,_=ae*(D=t[c]),k=ae*(z=t[c+1]),R=ae*(U=t[c+2]),P=ae*(H=t[c+3]),h+=ye*D,g+=ye*z,y+=ye*U,w+=ye*H,Q=se;for(let X=0;X<ae;X++)Q.r=D,Q.g=z,Q.b=U,Q.a=H,Q=Q.next;for(let X=1;X<ae;X++)l=c+((ue<X?ue:X)<<2),h+=(Q.r=D=t[l])*(K=ae-X),g+=(Q.g=z=t[l+1])*K,y+=(Q.b=U=t[l+2])*K,w+=(Q.a=H=t[l+3])*K,N+=D,M+=z,I+=U,L+=H,Q=Q.next;le=se,ce=me;for(let X=0;X<r;X++)t[c+3]=H=w*de>>ie,H!==0?(H=255/H,t[c]=(h*de>>ie)*H,t[c+1]=(g*de>>ie)*H,t[c+2]=(y*de>>ie)*H):t[c]=t[c+1]=t[c+2]=0,h-=_,g-=k,y-=R,w-=P,_-=le.r,k-=le.g,R-=le.b,P-=le.a,l=d+((l=X+e+1)<ue?l:ue)<<2,N+=le.r=t[l],M+=le.g=t[l+1],I+=le.b=t[l+2],L+=le.a=t[l+3],h+=N,g+=M,y+=I,w+=L,le=le.next,_+=D=ce.r,k+=z=ce.g,R+=U=ce.b,P+=H=ce.a,N-=D,M-=z,I-=U,L-=H,ce=ce.next,c+=4;d+=r}for(let B=0;B<r;B++){M=I=L=N=g=y=w=h=0,c=B<<2,_=ae*(D=t[c]),k=ae*(z=t[c+1]),R=ae*(U=t[c+2]),P=ae*(H=t[c+3]),h+=ye*D,g+=ye*z,y+=ye*U,w+=ye*H,Q=se;for(let Ae=0;Ae<ae;Ae++)Q.r=D,Q.g=z,Q.b=U,Q.a=H,Q=Q.next;let X=r;for(let Ae=1;Ae<=e;Ae++)c=X+B<<2,h+=(Q.r=D=t[c])*(K=ae-Ae),g+=(Q.g=z=t[c+1])*K,y+=(Q.b=U=t[c+2])*K,w+=(Q.a=H=t[c+3])*K,N+=D,M+=z,I+=U,L+=H,Q=Q.next,Ae<ve&&(X+=r);c=B,le=se,ce=me;for(let Ae=0;Ae<s;Ae++)l=c<<2,t[l+3]=H=w*de>>ie,H>0?(H=255/H,t[l]=(h*de>>ie)*H,t[l+1]=(g*de>>ie)*H,t[l+2]=(y*de>>ie)*H):t[l]=t[l+1]=t[l+2]=0,h-=_,g-=k,y-=R,w-=P,_-=le.r,k-=le.g,R-=le.b,P-=le.a,l=B+((l=Ae+ae)<ve?l:ve)*r<<2,h+=N+=le.r=t[l],g+=M+=le.g=t[l+1],y+=I+=le.b=t[l+2],w+=L+=le.a=t[l+3],le=le.next,_+=D=ce.r,k+=z=ce.g,R+=U=ce.b,P+=H=ce.a,N-=D,M-=z,I-=U,L-=H,ce=ce.next,c+=r}}const bT=function(e){const t=Math.round(this.blurRadius());t>0&&TT(e,t)};F.addGetterSetter(Ee,"blurRadius",0,Ce(),F.afterSetFilter);const kT=function(n){const e=this.brightness()*255,t=n.data,r=t.length;for(let s=0;s<r;s+=4)t[s]+=e,t[s+1]+=e,t[s+2]+=e};F.addGetterSetter(Ee,"brightness",0,Ce(),F.afterSetFilter);const RT=function(n){const e=this.brightness(),t=n.data,r=t.length;for(let s=0;s<r;s+=4)t[s]=Math.min(255,t[s]*e),t[s+1]=Math.min(255,t[s+1]*e),t[s+2]=Math.min(255,t[s+2]*e)},NT=function(n){const e=Math.pow((this.contrast()+100)/100,2),t=n.data,r=t.length;let s=150,l=150,c=150;for(let d=0;d<r;d+=4)s=t[d],l=t[d+1],c=t[d+2],s/=255,s-=.5,s*=e,s+=.5,s*=255,l/=255,l-=.5,l*=e,l+=.5,l*=255,c/=255,c-=.5,c*=e,c+=.5,c*=255,s=s<0?0:s>255?255:s,l=l<0?0:l>255?255:l,c=c<0?0:c>255?255:c,t[d]=s,t[d+1]=l,t[d+2]=c};F.addGetterSetter(Ee,"contrast",0,Ce(),F.afterSetFilter);const AT=function(n){var e,t,r,s,l,c,d,h,g;const y=n.data,w=n.width,_=n.height,k=Math.min(1,Math.max(0,(t=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&t!==void 0?t:.5)),R=Math.min(1,Math.max(0,(s=(r=this.embossWhiteLevel)===null||r===void 0?void 0:r.call(this))!==null&&s!==void 0?s:.5)),N=(d={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(c=(l=this.embossDirection)===null||l===void 0?void 0:l.call(this))!==null&&c!==void 0?c:"top-left"])!==null&&d!==void 0?d:315,M=!!((g=(h=this.embossBlend)===null||h===void 0?void 0:h.call(this))!==null&&g!==void 0&&g),I=k*10,L=R*255,D=N*Math.PI/180,z=Math.cos(D),U=Math.sin(D),H=128/1020*I,K=new Uint8ClampedArray(y),re=new Float32Array(w*_);for(let se=0,de=0;de<y.length;de+=4,se++)re[se]=.2126*K[de]+.7152*K[de+1]+.0722*K[de+2];const ue=[-1,0,1,-2,0,2,-1,0,1],ve=[-1,-2,-1,0,0,0,1,2,1],ae=[-w-1,-w,-w+1,-1,0,1,w-1,w,w+1],ye=se=>se<0?0:se>255?255:se;for(let se=1;se<_-1;se++)for(let de=1;de<w-1;de++){const ie=se*w+de;let me=0,Q=0;me+=re[ie+ae[0]]*ue[0],Q+=re[ie+ae[0]]*ve[0],me+=re[ie+ae[1]]*ue[1],Q+=re[ie+ae[1]]*ve[1],me+=re[ie+ae[2]]*ue[2],Q+=re[ie+ae[2]]*ve[2],me+=re[ie+ae[3]]*ue[3],Q+=re[ie+ae[3]]*ve[3],me+=re[ie+ae[5]]*ue[5],Q+=re[ie+ae[5]]*ve[5],me+=re[ie+ae[6]]*ue[6],Q+=re[ie+ae[6]]*ve[6],me+=re[ie+ae[7]]*ue[7],Q+=re[ie+ae[7]]*ve[7],me+=re[ie+ae[8]]*ue[8],Q+=re[ie+ae[8]]*ve[8];const le=z*me+U*Q,ce=ye(L+le*H),B=ie*4;if(M){const X=ce-L;y[B]=ye(K[B]+X),y[B+1]=ye(K[B+1]+X),y[B+2]=ye(K[B+2]+X),y[B+3]=K[B+3]}else y[B]=y[B+1]=y[B+2]=ce,y[B+3]=K[B+3]}for(let se=0;se<w;se++){let de=se*4,ie=((_-1)*w+se)*4;y[de]=K[de],y[de+1]=K[de+1],y[de+2]=K[de+2],y[de+3]=K[de+3],y[ie]=K[ie],y[ie+1]=K[ie+1],y[ie+2]=K[ie+2],y[ie+3]=K[ie+3]}for(let se=1;se<_-1;se++){let de=se*w*4,ie=(se*w+(w-1))*4;y[de]=K[de],y[de+1]=K[de+1],y[de+2]=K[de+2],y[de+3]=K[de+3],y[ie]=K[ie],y[ie+1]=K[ie+1],y[ie+2]=K[ie+2],y[ie+3]=K[ie+3]}return n};F.addGetterSetter(Ee,"embossStrength",.5,Ce(),F.afterSetFilter);F.addGetterSetter(Ee,"embossWhiteLevel",.5,Ce(),F.afterSetFilter);F.addGetterSetter(Ee,"embossDirection","top-left",void 0,F.afterSetFilter);F.addGetterSetter(Ee,"embossBlend",!1,void 0,F.afterSetFilter);function pg(n,e,t,r,s){const l=t-e,c=s-r;if(l===0)return r+c/2;if(c===0)return r;let d=(n-e)/l;return d=c*d+r,d}const MT=function(n){const e=n.data,t=e.length;let r=e[0],s=r,l,c=e[1],d=c,h,g=e[2],y=g,w;const _=this.enhance();if(_===0)return;for(let L=0;L<t;L+=4)l=e[L+0],l<r?r=l:l>s&&(s=l),h=e[L+1],h<c?c=h:h>d&&(d=h),w=e[L+2],w<g?g=w:w>y&&(y=w);s===r&&(s=255,r=0),d===c&&(d=255,c=0),y===g&&(y=255,g=0);let k,R,P,N,M,I;if(_>0)k=s+_*(255-s),R=r-_*(r-0),P=d+_*(255-d),N=c-_*(c-0),M=y+_*(255-y),I=g-_*(g-0);else{const L=(s+r)*.5;k=s+_*(s-L),R=r+_*(r-L);const D=(d+c)*.5;P=d+_*(d-D),N=c+_*(c-D);const z=(y+g)*.5;M=y+_*(y-z),I=g+_*(g-z)}for(let L=0;L<t;L+=4)e[L+0]=pg(e[L+0],r,s,R,k),e[L+1]=pg(e[L+1],c,d,N,P),e[L+2]=pg(e[L+2],g,y,I,M)};F.addGetterSetter(Ee,"enhance",0,Ce(),F.afterSetFilter);const IT=function(n){const e=n.data,t=e.length;for(let r=0;r<t;r+=4){const s=.34*e[r]+.5*e[r+1]+.16*e[r+2];e[r]=s,e[r+1]=s,e[r+2]=s}};F.addGetterSetter(Ee,"hue",0,Ce(),F.afterSetFilter);F.addGetterSetter(Ee,"saturation",0,Ce(),F.afterSetFilter);F.addGetterSetter(Ee,"luminance",0,Ce(),F.afterSetFilter);const OT=function(n){const e=n.data,t=e.length,r=1,s=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,c=this.luminance()*127,d=r*s*Math.cos(l*Math.PI/180),h=r*s*Math.sin(l*Math.PI/180),g=.299*r+.701*d+.167*h,y=.587*r-.587*d+.33*h,w=.114*r-.114*d-.497*h,_=.299*r-.299*d-.328*h,k=.587*r+.413*d+.035*h,R=.114*r-.114*d+.293*h,P=.299*r-.3*d+1.25*h,N=.587*r-.586*d-1.05*h,M=.114*r+.886*d-.2*h;let I,L,D,z;for(let U=0;U<t;U+=4)I=e[U+0],L=e[U+1],D=e[U+2],z=e[U+3],e[U+0]=g*I+y*L+w*D+c,e[U+1]=_*I+k*L+R*D+c,e[U+2]=P*I+N*L+M*D+c,e[U+3]=z},LT=function(n){const e=n.data,t=e.length,r=Math.pow(2,this.value()),s=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,c=r*s*Math.cos(l*Math.PI/180),d=r*s*Math.sin(l*Math.PI/180),h=.299*r+.701*c+.167*d,g=.587*r-.587*c+.33*d,y=.114*r-.114*c-.497*d,w=.299*r-.299*c-.328*d,_=.587*r+.413*c+.035*d,k=.114*r-.114*c+.293*d,R=.299*r-.3*c+1.25*d,P=.587*r-.586*c-1.05*d,N=.114*r+.886*c-.2*d;for(let M=0;M<t;M+=4){const I=e[M+0],L=e[M+1],D=e[M+2],z=e[M+3];e[M+0]=h*I+g*L+y*D,e[M+1]=w*I+_*L+k*D,e[M+2]=R*I+P*L+N*D,e[M+3]=z}};F.addGetterSetter(Ee,"hue",0,Ce(),F.afterSetFilter);F.addGetterSetter(Ee,"saturation",0,Ce(),F.afterSetFilter);F.addGetterSetter(Ee,"value",0,Ce(),F.afterSetFilter);const DT=function(n){const e=n.data,t=e.length;for(let r=0;r<t;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]},jT=function(n,e,t){const r=n.data,s=e.data,l=n.width,c=n.height,d=t.polarCenterX||l/2,h=t.polarCenterY||c/2;let g=Math.sqrt(d*d+h*h),y=l-d,w=c-h;const _=Math.sqrt(y*y+w*w);g=_>g?_:g;const k=c,R=l,P=360/R*Math.PI/180;for(let N=0;N<R;N+=1){const M=Math.sin(N*P),I=Math.cos(N*P);for(let L=0;L<k;L+=1){y=Math.floor(d+g*L/k*I),w=Math.floor(h+g*L/k*M);let D=(w*l+y)*4;const z=r[D+0],U=r[D+1],H=r[D+2],K=r[D+3];D=(N+L*l)*4,s[D+0]=z,s[D+1]=U,s[D+2]=H,s[D+3]=K}}},FT=function(n,e,t){const r=n.data,s=e.data,l=n.width,c=n.height,d=t.polarCenterX||l/2,h=t.polarCenterY||c/2;let g=Math.sqrt(d*d+h*h),y=l-d,w=c-h;const _=Math.sqrt(y*y+w*w);g=_>g?_:g;const k=c,R=l,P=0;let N,M;for(y=0;y<l;y+=1)for(w=0;w<c;w+=1){const I=y-d,L=w-h,D=Math.sqrt(I*I+L*L)*k/g;let z=(Math.atan2(L,I)*180/Math.PI+360+P)%360;z=z*R/360,N=Math.floor(z),M=Math.floor(D);let U=(M*l+N)*4;const H=r[U+0],K=r[U+1],re=r[U+2],ue=r[U+3];U=(w*l+y)*4,s[U+0]=H,s[U+1]=K,s[U+2]=re,s[U+3]=ue}},zT=function(n){const e=n.width,t=n.height;let r,s,l,c,d,h,g,y,w,_,k=Math.round(this.kaleidoscopePower());const R=Math.round(this.kaleidoscopeAngle()),P=Math.floor(e*(R%360)/360);if(k<1)return;const N=$.createCanvasElement();N.width=e,N.height=t;const M=N.getContext("2d").getImageData(0,0,e,t);$.releaseCanvas(N),jT(n,M,{polarCenterX:e/2,polarCenterY:t/2});let I=e/Math.pow(2,k);for(;I<=8;)I=I*2,k-=1;I=Math.ceil(I);let L=I,D=0,z=L,U=1;for(P+I>e&&(D=L,z=0,U=-1),s=0;s<t;s+=1)for(r=D;r!==z;r+=U)l=Math.round(r+P)%e,w=(e*s+l)*4,d=M.data[w+0],h=M.data[w+1],g=M.data[w+2],y=M.data[w+3],_=(e*s+r)*4,M.data[_+0]=d,M.data[_+1]=h,M.data[_+2]=g,M.data[_+3]=y;for(s=0;s<t;s+=1)for(L=Math.floor(I),c=0;c<k;c+=1){for(r=0;r<L+1;r+=1)w=(e*s+r)*4,d=M.data[w+0],h=M.data[w+1],g=M.data[w+2],y=M.data[w+3],_=(e*s+L*2-r-1)*4,M.data[_+0]=d,M.data[_+1]=h,M.data[_+2]=g,M.data[_+3]=y;L*=2}FT(M,n,{})};F.addGetterSetter(Ee,"kaleidoscopePower",2,Ce(),F.afterSetFilter);F.addGetterSetter(Ee,"kaleidoscopeAngle",0,Ce(),F.afterSetFilter);function Zh(n,e,t){let r=(t*n.width+e)*4;const s=[];return s.push(n.data[r++],n.data[r++],n.data[r++],n.data[r++]),s}function kd(n,e){return Math.sqrt(Math.pow(n[0]-e[0],2)+Math.pow(n[1]-e[1],2)+Math.pow(n[2]-e[2],2))}function BT(n){const e=[0,0,0];for(let t=0;t<n.length;t++)e[0]+=n[t][0],e[1]+=n[t][1],e[2]+=n[t][2];return e[0]/=n.length,e[1]/=n.length,e[2]/=n.length,e}function GT(n,e){const t=Zh(n,0,0),r=Zh(n,n.width-1,0),s=Zh(n,0,n.height-1),l=Zh(n,n.width-1,n.height-1),c=e||10;if(kd(t,r)<c&&kd(r,l)<c&&kd(l,s)<c&&kd(s,t)<c){const d=BT([r,t,l,s]),h=[];for(let g=0;g<n.width*n.height;g++){const y=kd(d,[n.data[g*4],n.data[g*4+1],n.data[g*4+2]]);h[g]=y<c?0:255}return h}}function UT(n,e){for(let t=0;t<n.width*n.height;t++)n.data[4*t+3]=e[t]}function HT(n,e,t){const r=[1,1,1,1,0,1,1,1,1],s=Math.round(Math.sqrt(r.length)),l=Math.floor(s/2),c=[];for(let d=0;d<t;d++)for(let h=0;h<e;h++){const g=d*e+h;let y=0;for(let w=0;w<s;w++)for(let _=0;_<s;_++){const k=d+w-l,R=h+_-l;if(k>=0&&k<t&&R>=0&&R<e){const P=k*e+R,N=r[w*s+_];y+=n[P]*N}}c[g]=y===2040?255:0}return c}function VT(n,e,t){const r=[1,1,1,1,1,1,1,1,1],s=Math.round(Math.sqrt(r.length)),l=Math.floor(s/2),c=[];for(let d=0;d<t;d++)for(let h=0;h<e;h++){const g=d*e+h;let y=0;for(let w=0;w<s;w++)for(let _=0;_<s;_++){const k=d+w-l,R=h+_-l;if(k>=0&&k<t&&R>=0&&R<e){const P=k*e+R,N=r[w*s+_];y+=n[P]*N}}c[g]=y>=1020?255:0}return c}function WT(n,e,t){const r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],s=Math.round(Math.sqrt(r.length)),l=Math.floor(s/2),c=[];for(let d=0;d<t;d++)for(let h=0;h<e;h++){const g=d*e+h;let y=0;for(let w=0;w<s;w++)for(let _=0;_<s;_++){const k=d+w-l,R=h+_-l;if(k>=0&&k<t&&R>=0&&R<e){const P=k*e+R,N=r[w*s+_];y+=n[P]*N}}c[g]=y}return c}const QT=function(n){const e=this.threshold();let t=GT(n,e);return t&&(t=HT(t,n.width,n.height),t=VT(t,n.width,n.height),t=WT(t,n.width,n.height),UT(n,t)),n};F.addGetterSetter(Ee,"threshold",0,Ce(),F.afterSetFilter);const qT=function(n){const e=this.noise()*255,t=n.data,r=t.length,s=e/2;for(let l=0;l<r;l+=4)t[l+0]+=s-2*s*Math.random(),t[l+1]+=s-2*s*Math.random(),t[l+2]+=s-2*s*Math.random()};F.addGetterSetter(Ee,"noise",.2,Ce(),F.afterSetFilter);const $T=function(n){let e=Math.ceil(this.pixelSize()),t=n.width,r=n.height,s=Math.ceil(t/e),l=Math.ceil(r/e),c=n.data;if(e<=0){$.error("pixelSize value can not be <= 0");return}for(let d=0;d<s;d+=1)for(let h=0;h<l;h+=1){let g=0,y=0,w=0,_=0;const k=d*e,R=k+e,P=h*e,N=P+e;let M=0;for(let I=k;I<R;I+=1)if(!(I>=t))for(let L=P;L<N;L+=1){if(L>=r)continue;const D=(t*L+I)*4;g+=c[D+0],y+=c[D+1],w+=c[D+2],_+=c[D+3],M+=1}g=g/M,y=y/M,w=w/M,_=_/M;for(let I=k;I<R;I+=1)if(!(I>=t))for(let L=P;L<N;L+=1){if(L>=r)continue;const D=(t*L+I)*4;c[D+0]=g,c[D+1]=y,c[D+2]=w,c[D+3]=_}}};F.addGetterSetter(Ee,"pixelSize",8,Ce(),F.afterSetFilter);const XT=function(n){const e=Math.round(this.levels()*254)+1,t=n.data,r=t.length,s=255/e;for(let l=0;l<r;l+=1)t[l]=Math.floor(t[l]/s)*s};F.addGetterSetter(Ee,"levels",.5,Ce(),F.afterSetFilter);const YT=function(n){const e=n.data,t=e.length,r=this.red(),s=this.green(),l=this.blue();for(let c=0;c<t;c+=4){const d=(.34*e[c]+.5*e[c+1]+.16*e[c+2])/255;e[c]=d*r,e[c+1]=d*s,e[c+2]=d*l,e[c+3]=e[c+3]}};F.addGetterSetter(Ee,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});F.addGetterSetter(Ee,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});F.addGetterSetter(Ee,"blue",0,f5,F.afterSetFilter);const KT=function(n){const e=n.data,t=e.length,r=this.red(),s=this.green(),l=this.blue(),c=this.alpha();for(let d=0;d<t;d+=4){const h=1-c;e[d]=r*c+e[d]*h,e[d+1]=s*c+e[d+1]*h,e[d+2]=l*c+e[d+2]*h}};F.addGetterSetter(Ee,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});F.addGetterSetter(Ee,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});F.addGetterSetter(Ee,"blue",0,f5,F.afterSetFilter);F.addGetterSetter(Ee,"alpha",1,function(n){return this._filterUpToDate=!1,n>1?1:n<0?0:n});const ZT=function(n){const e=n.data,t=e.length;for(let r=0;r<t;r+=4){const s=e[r+0],l=e[r+1],c=e[r+2];e[r+0]=Math.min(255,s*.393+l*.769+c*.189),e[r+1]=Math.min(255,s*.349+l*.686+c*.168),e[r+2]=Math.min(255,s*.272+l*.534+c*.131)}},JT=function(n){const t=n.data;for(let r=0;r<t.length;r+=4){const s=t[r],l=t[r+1],c=t[r+2];.2126*s+.7152*l+.0722*c>=128&&(t[r]=255-s,t[r+1]=255-l,t[r+2]=255-c)}return n},eb=function(n){const e=this.threshold()*255,t=n.data,r=t.length;for(let s=0;s<r;s+=1)t[s]=t[s]<e?0:255};F.addGetterSetter(Ee,"threshold",.5,Ce(),F.afterSetFilter);xl.Util._assign(xl,{Arc:ao,Arrow:El,Circle:mc,Ellipse:_a,Image:Ui,Label:Y0,Tag:Pl,Line:lo,Path:Wt,Rect:vf,RegularPolygon:Ca,Ring:Tl,Sprite:ws,Star:Ea,Text:Qt,TextPath:Ln,Transformer:gt,Wedge:uo,Filters:{Blur:bT,Brightness:RT,Brighten:kT,Contrast:NT,Emboss:AT,Enhance:MT,Grayscale:IT,HSL:OT,HSV:LT,Invert:DT,Kaleidoscope:zT,Mask:QT,Noise:qT,Pixelate:$T,Posterize:XT,RGB:YT,RGBA:KT,Sepia:ZT,Solarize:JT,Threshold:eb}});var mg={exports:{}};var gg,xv;function tb(){return xv||(xv=1,gg=function(e){var t={},r=uc(),s=g0(),l=Object.assign;function c(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,h=Symbol.for("react.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),R=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),z=Symbol.iterator;function U(a){return a===null||typeof a!="object"?null:(a=z&&a[z]||a["@@iterator"],typeof a=="function"?a:null)}function H(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case y:return"Fragment";case g:return"Portal";case _:return"Profiler";case w:return"StrictMode";case N:return"Suspense";case M:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case R:return(a.displayName||"Context")+".Consumer";case k:return(a._context.displayName||"Context")+".Provider";case P:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case I:return u=a.displayName||null,u!==null?u:H(a.type)||"Memo";case L:u=a._payload,a=a._init;try{return H(a(u))}catch{}}return null}function K(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(u);case 8:return u===w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function re(a){var u=a,p=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(p=u.return),a=u.return;while(a)}return u.tag===3?p:null}function ue(a){if(re(a)!==a)throw Error(c(188))}function ve(a){var u=a.alternate;if(!u){if(u=re(a),u===null)throw Error(c(188));return u!==a?null:a}for(var p=a,v=u;;){var S=p.return;if(S===null)break;var T=S.alternate;if(T===null){if(v=S.return,v!==null){p=v;continue}break}if(S.child===T.child){for(T=S.child;T;){if(T===p)return ue(S),a;if(T===v)return ue(S),u;T=T.sibling}throw Error(c(188))}if(p.return!==v.return)p=S,v=T;else{for(var O=!1,W=S.child;W;){if(W===p){O=!0,p=S,v=T;break}if(W===v){O=!0,v=S,p=T;break}W=W.sibling}if(!O){for(W=T.child;W;){if(W===p){O=!0,p=T,v=S;break}if(W===v){O=!0,v=T,p=S;break}W=W.sibling}if(!O)throw Error(c(189))}}if(p.alternate!==v)throw Error(c(190))}if(p.tag!==3)throw Error(c(188));return p.stateNode.current===p?a:u}function ae(a){return a=ve(a),a!==null?ye(a):null}function ye(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=ye(a);if(u!==null)return u;a=a.sibling}return null}function se(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){if(a.tag!==4){var u=se(a);if(u!==null)return u}a=a.sibling}return null}var de=Array.isArray,ie=e.getPublicInstance,me=e.getRootHostContext,Q=e.getChildHostContext,le=e.prepareForCommit,ce=e.resetAfterCommit,B=e.createInstance,X=e.appendInitialChild,Ae=e.finalizeInitialChildren,Ve=e.prepareUpdate,tt=e.shouldSetTextContent,Ke=e.createTextInstance,be=e.scheduleTimeout,Ue=e.cancelTimeout,Ze=e.noTimeout,Z=e.isPrimaryRenderer,Me=e.supportsMutation,He=e.supportsPersistence,ot=e.supportsHydration,Dn=e.getInstanceFromNode,br=e.preparePortalMount,co=e.getCurrentEventPriority,_s=e.detachDeletedInstance,wf=e.supportsMicrotasks,yc=e.scheduleMicrotask,mi=e.supportsTestSelectors,fo=e.findFiberRoot,vc=e.getBoundingRect,Sf=e.getTextContent,ho=e.isHiddenSubtree,_f=e.matchAccessibilityRole,Cf=e.setFocusIfFocusable,xc=e.setupIntersectionObserver,bl=e.appendChild,Ef=e.appendChildToContainer,ka=e.commitTextUpdate,Ra=e.commitMount,nm=e.commitUpdate,Pf=e.insertBefore,Tf=e.insertInContainerBefore,rm=e.removeChild,wc=e.removeChildFromContainer,kl=e.resetTextContent,Sc=e.hideInstance,_c=e.hideTextInstance,Cc=e.unhideInstance,po=e.unhideTextInstance,mo=e.clearContainer,bf=e.cloneInstance,Ec=e.createContainerChildSet,Pc=e.appendChildToContainerChildSet,kf=e.finalizeContainerChildren,Rl=e.replaceContainerChildren,Nl=e.cloneHiddenInstance,Tc=e.cloneHiddenTextInstance,Na=e.canHydrateInstance,bc=e.canHydrateTextInstance,Aa=e.canHydrateSuspenseInstance,Rf=e.isSuspenseInstancePending,Cs=e.isSuspenseInstanceFallback,Al=e.getSuspenseInstanceFallbackErrorDetails,Ml=e.registerSuspenseInstanceRetry,go=e.getNextHydratableSibling,im=e.getFirstHydratableChild,sm=e.getFirstHydratableChildWithinContainer,om=e.getFirstHydratableChildWithinSuspenseInstance,Es=e.hydrateInstance,Nf=e.hydrateTextInstance,Af=e.hydrateSuspenseInstance,am=e.getNextHydratableInstanceAfterSuspenseInstance,Mf=e.commitHydratedContainer,If=e.commitHydratedSuspenseInstance,Of=e.clearSuspenseBoundary,Lf=e.clearSuspenseBoundaryFromContainer,lm=e.shouldDeleteUnhydratedTailInstances,um=e.didNotMatchHydratedContainerTextInstance,Kt=e.didNotMatchHydratedTextInstance,kc;function Ps(a){if(kc===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);kc=u&&u[1]||""}return`
`+kc+a}var Il=!1;function yo(a,u){if(!a||Il)return"";Il=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Se){var v=Se}Reflect.construct(a,[],u)}else{try{u.call()}catch(Se){v=Se}a.call(u.prototype)}else{try{throw Error()}catch(Se){v=Se}a()}}catch(Se){if(Se&&v&&typeof Se.stack=="string"){for(var S=Se.stack.split(`
`),T=v.stack.split(`
`),O=S.length-1,W=T.length-1;1<=O&&0<=W&&S[O]!==T[W];)W--;for(;1<=O&&0<=W;O--,W--)if(S[O]!==T[W]){if(O!==1||W!==1)do if(O--,W--,0>W||S[O]!==T[W]){var ne=`
`+S[O].replace(" at new "," at ");return a.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",a.displayName)),ne}while(1<=O&&0<=W);break}}}finally{Il=!1,Error.prepareStackTrace=p}return(a=a?a.displayName||a.name:"")?Ps(a):""}var cm=Object.prototype.hasOwnProperty,Ol=[],gi=-1;function bn(a){return{current:a}}function Ot(a){0>gi||(a.current=Ol[gi],Ol[gi]=null,gi--)}function ct(a,u){gi++,Ol[gi]=a.current,a.current=u}var Vi={},jn=bn(Vi),sr=bn(!1),Kr=Vi;function yi(a,u){var p=a.type.contextTypes;if(!p)return Vi;var v=a.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var S={},T;for(T in p)S[T]=u[T];return v&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=S),S}function wn(a){return a=a.childContextTypes,a!=null}function Ts(){Ot(sr),Ot(jn)}function Df(a,u,p){if(jn.current!==Vi)throw Error(c(168));ct(jn,u),ct(sr,p)}function jf(a,u,p){var v=a.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return p;v=v.getChildContext();for(var S in v)if(!(S in u))throw Error(c(108,K(a)||"Unknown",S));return l({},p,v)}function vo(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vi,Kr=jn.current,ct(jn,a),ct(sr,sr.current),!0}function Rc(a,u,p){var v=a.stateNode;if(!v)throw Error(c(169));p?(a=jf(a,u,Kr),v.__reactInternalMemoizedMergedChildContext=a,Ot(sr),Ot(jn),ct(jn,a)):Ot(sr),ct(sr,p)}var hr=Math.clz32?Math.clz32:Nc,Ma=Math.log,dm=Math.LN2;function Nc(a){return a>>>=0,a===0?32:31-(Ma(a)/dm|0)|0}var yt=64,Ia=4194304;function xo(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function wo(a,u){var p=a.pendingLanes;if(p===0)return 0;var v=0,S=a.suspendedLanes,T=a.pingedLanes,O=p&268435455;if(O!==0){var W=O&~S;W!==0?v=xo(W):(T&=O,T!==0&&(v=xo(T)))}else O=p&~S,O!==0?v=xo(O):T!==0&&(v=xo(T));if(v===0)return 0;if(u!==0&&u!==v&&(u&S)===0&&(S=v&-v,T=u&-u,S>=T||S===16&&(T&4194240)!==0))return u;if((v&4)!==0&&(v|=p&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=v;0<u;)p=31-hr(u),S=1<<p,v|=a[p],u&=~S;return v}function Ff(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zf(a,u){for(var p=a.suspendedLanes,v=a.pingedLanes,S=a.expirationTimes,T=a.pendingLanes;0<T;){var O=31-hr(T),W=1<<O,ne=S[O];ne===-1?((W&p)===0||(W&v)!==0)&&(S[O]=Ff(W,u)):ne<=u&&(a.expiredLanes|=W),T&=~W}}function Ll(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Dl(){var a=yt;return yt<<=1,(yt&4194240)===0&&(yt=64),a}function So(a){for(var u=[],p=0;31>p;p++)u.push(a);return u}function kr(a,u,p){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-hr(u),a[u]=p}function Wi(a,u){var p=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var v=a.eventTimes;for(a=a.expirationTimes;0<p;){var S=31-hr(p),T=1<<S;u[S]=0,v[S]=-1,a[S]=-1,p&=~T}}function Zr(a,u){var p=a.entangledLanes|=u;for(a=a.entanglements;p;){var v=31-hr(p),S=1<<v;S&u|a[v]&u&&(a[v]|=u),p&=~S}}var dt=0;function _o(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Jr=s.unstable_scheduleCallback,Bf=s.unstable_cancelCallback,Gf=s.unstable_shouldYield,Oa=s.unstable_requestPaint,Sn=s.unstable_now,jl=s.unstable_ImmediatePriority,Fl=s.unstable_UserBlockingPriority,zl=s.unstable_NormalPriority,fm=s.unstable_IdlePriority,Qi=null,or=null;function Co(a){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(Qi,a,void 0,(a.current.flags&128)===128)}catch{}}function Bl(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var jr=typeof Object.is=="function"?Object.is:Bl,vi=null,Eo=!1,Po=!1;function Gl(a){vi===null?vi=[a]:vi.push(a)}function Uf(a){Eo=!0,Gl(a)}function kn(){if(!Po&&vi!==null){Po=!0;var a=0,u=dt;try{var p=vi;for(dt=1;a<p.length;a++){var v=p[a];do v=v(!0);while(v!==null)}vi=null,Eo=!1}catch(S){throw vi!==null&&(vi=vi.slice(a+1)),Jr(jl,kn),S}finally{dt=u,Po=!1}}return null}var qi=[],xi=0,La=null,bs=0,qn=[],pr=0,dn=null,ar=1,Fr="";function zr(a,u){qi[xi++]=bs,qi[xi++]=La,La=a,bs=u}function Hf(a,u,p){qn[pr++]=ar,qn[pr++]=Fr,qn[pr++]=dn,dn=a;var v=ar;a=Fr;var S=32-hr(v)-1;v&=~(1<<S),p+=1;var T=32-hr(u)+S;if(30<T){var O=S-S%5;T=(v&(1<<O)-1).toString(32),v>>=O,S-=O,ar=1<<32-hr(u)+S|p<<S|v,Fr=T+a}else ar=1<<T|p<<S|v,Fr=a}function Da(a){a.return!==null&&(zr(a,1),Hf(a,1,0))}function ja(a){for(;a===La;)La=qi[--xi],qi[xi]=null,bs=qi[--xi],qi[xi]=null;for(;a===dn;)dn=qn[--pr],qn[pr]=null,Fr=qn[--pr],qn[pr]=null,ar=qn[--pr],qn[pr]=null}var Rn=null,$n=null,Lt=!1,Fa=!1,Br=null;function Vf(a,u){var p=Er(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=a,u=a.deletions,u===null?(a.deletions=[p],a.flags|=16):u.push(p)}function Ul(a,u){switch(a.tag){case 5:return u=Na(u,a.type,a.pendingProps),u!==null?(a.stateNode=u,Rn=a,$n=im(u),!0):!1;case 6:return u=bc(u,a.pendingProps),u!==null?(a.stateNode=u,Rn=a,$n=null,!0):!1;case 13:if(u=Aa(u),u!==null){var p=dn!==null?{id:ar,overflow:Fr}:null;return a.memoizedState={dehydrated:u,treeContext:p,retryLane:1073741824},p=Er(18,null,null,0),p.stateNode=u,p.return=a,a.child=p,Rn=a,$n=null,!0}return!1;default:return!1}}function Ac(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Mc(a){if(Lt){var u=$n;if(u){var p=u;if(!Ul(a,u)){if(Ac(a))throw Error(c(418));u=go(p);var v=Rn;u&&Ul(a,u)?Vf(v,p):(a.flags=a.flags&-4097|2,Lt=!1,Rn=a)}}else{if(Ac(a))throw Error(c(418));a.flags=a.flags&-4097|2,Lt=!1,Rn=a}}}function Wf(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Rn=a}function Hl(a){if(!ot||a!==Rn)return!1;if(!Lt)return Wf(a),Lt=!0,!1;if(a.tag!==3&&(a.tag!==5||lm(a.type)&&!tt(a.type,a.memoizedProps))){var u=$n;if(u){if(Ac(a))throw Qf(),Error(c(418));for(;u;)Vf(a,u),u=go(u)}}if(Wf(a),a.tag===13){if(!ot)throw Error(c(316));if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(c(317));$n=am(a)}else $n=Rn?go(a.stateNode):null;return!0}function Qf(){for(var a=$n;a;)a=go(a)}function ks(){ot&&($n=Rn=null,Fa=Lt=!1)}function Ic(a){Br===null?Br=[a]:Br.push(a)}var hm=d.ReactCurrentBatchConfig;function Vl(a,u){if(jr(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var p=Object.keys(a),v=Object.keys(u);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var S=p[v];if(!cm.call(u,S)||!jr(a[S],u[S]))return!1}return!0}function pm(a){switch(a.tag){case 5:return Ps(a.type);case 16:return Ps("Lazy");case 13:return Ps("Suspense");case 19:return Ps("SuspenseList");case 0:case 2:case 15:return a=yo(a.type,!1),a;case 11:return a=yo(a.type.render,!1),a;case 1:return a=yo(a.type,!0),a;default:return""}}function Rs(a,u,p){if(a=p.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(c(309));var v=p.stateNode}if(!v)throw Error(c(147,a));var S=v,T=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===T?u.ref:(u=function(O){var W=S.refs;O===null?delete W[T]:W[T]=O},u._stringRef=T,u)}if(typeof a!="string")throw Error(c(284));if(!p._owner)throw Error(c(290,a))}return a}function Wl(a,u){throw a=Object.prototype.toString.call(u),Error(c(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function qf(a){var u=a._init;return u(a._payload)}function $f(a){function u(ee,q){if(a){var oe=ee.deletions;oe===null?(ee.deletions=[q],ee.flags|=16):oe.push(q)}}function p(ee,q){if(!a)return null;for(;q!==null;)u(ee,q),q=q.sibling;return null}function v(ee,q){for(ee=new Map;q!==null;)q.key!==null?ee.set(q.key,q):ee.set(q.index,q),q=q.sibling;return ee}function S(ee,q){return ee=ds(ee,q),ee.index=0,ee.sibling=null,ee}function T(ee,q,oe){return ee.index=oe,a?(oe=ee.alternate,oe!==null?(oe=oe.index,oe<q?(ee.flags|=2,q):oe):(ee.flags|=2,q)):(ee.flags|=1048576,q)}function O(ee){return a&&ee.alternate===null&&(ee.flags|=2),ee}function W(ee,q,oe,Ne){return q===null||q.tag!==6?(q=Yo(oe,ee.mode,Ne),q.return=ee,q):(q=S(q,oe),q.return=ee,q)}function ne(ee,q,oe,Ne){var Ge=oe.type;return Ge===y?Le(ee,q,oe.props.children,Ne,oe.key):q!==null&&(q.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===L&&qf(Ge)===q.type)?(Ne=S(q,oe.props),Ne.ref=Rs(ee,q,oe),Ne.return=ee,Ne):(Ne=Cu(oe.type,oe.key,oe.props,null,ee.mode,Ne),Ne.ref=Rs(ee,q,oe),Ne.return=ee,Ne)}function Se(ee,q,oe,Ne){return q===null||q.tag!==4||q.stateNode.containerInfo!==oe.containerInfo||q.stateNode.implementation!==oe.implementation?(q=Eu(oe,ee.mode,Ne),q.return=ee,q):(q=S(q,oe.children||[]),q.return=ee,q)}function Le(ee,q,oe,Ne,Ge){return q===null||q.tag!==7?(q=Mn(oe,ee.mode,Ne,Ge),q.return=ee,q):(q=S(q,oe),q.return=ee,q)}function Je(ee,q,oe){if(typeof q=="string"&&q!==""||typeof q=="number")return q=Yo(""+q,ee.mode,oe),q.return=ee,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case h:return oe=Cu(q.type,q.key,q.props,null,ee.mode,oe),oe.ref=Rs(ee,null,q),oe.return=ee,oe;case g:return q=Eu(q,ee.mode,oe),q.return=ee,q;case L:var Ne=q._init;return Je(ee,Ne(q._payload),oe)}if(de(q)||U(q))return q=Mn(q,ee.mode,oe,null),q.return=ee,q;Wl(ee,q)}return null}function ke(ee,q,oe,Ne){var Ge=q!==null?q.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Ge!==null?null:W(ee,q,""+oe,Ne);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case h:return oe.key===Ge?ne(ee,q,oe,Ne):null;case g:return oe.key===Ge?Se(ee,q,oe,Ne):null;case L:return Ge=oe._init,ke(ee,q,Ge(oe._payload),Ne)}if(de(oe)||U(oe))return Ge!==null?null:Le(ee,q,oe,Ne,null);Wl(ee,oe)}return null}function Mt(ee,q,oe,Ne,Ge){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return ee=ee.get(oe)||null,W(q,ee,""+Ne,Ge);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case h:return ee=ee.get(Ne.key===null?oe:Ne.key)||null,ne(q,ee,Ne,Ge);case g:return ee=ee.get(Ne.key===null?oe:Ne.key)||null,Se(q,ee,Ne,Ge);case L:var rt=Ne._init;return Mt(ee,q,oe,rt(Ne._payload),Ge)}if(de(Ne)||U(Ne))return ee=ee.get(oe)||null,Le(q,ee,Ne,Ge,null);Wl(q,Ne)}return null}function Et(ee,q,oe,Ne){for(var Ge=null,rt=null,et=q,pt=q=0,gn=null;et!==null&&pt<oe.length;pt++){et.index>pt?(gn=et,et=null):gn=et.sibling;var ht=ke(ee,et,oe[pt],Ne);if(ht===null){et===null&&(et=gn);break}a&&et&&ht.alternate===null&&u(ee,et),q=T(ht,q,pt),rt===null?Ge=ht:rt.sibling=ht,rt=ht,et=gn}if(pt===oe.length)return p(ee,et),Lt&&zr(ee,pt),Ge;if(et===null){for(;pt<oe.length;pt++)et=Je(ee,oe[pt],Ne),et!==null&&(q=T(et,q,pt),rt===null?Ge=et:rt.sibling=et,rt=et);return Lt&&zr(ee,pt),Ge}for(et=v(ee,et);pt<oe.length;pt++)gn=Mt(et,ee,pt,oe[pt],Ne),gn!==null&&(a&&gn.alternate!==null&&et.delete(gn.key===null?pt:gn.key),q=T(gn,q,pt),rt===null?Ge=gn:rt.sibling=gn,rt=gn);return a&&et.forEach(function(Hn){return u(ee,Hn)}),Lt&&zr(ee,pt),Ge}function er(ee,q,oe,Ne){var Ge=U(oe);if(typeof Ge!="function")throw Error(c(150));if(oe=Ge.call(oe),oe==null)throw Error(c(151));for(var rt=Ge=null,et=q,pt=q=0,gn=null,ht=oe.next();et!==null&&!ht.done;pt++,ht=oe.next()){et.index>pt?(gn=et,et=null):gn=et.sibling;var Hn=ke(ee,et,ht.value,Ne);if(Hn===null){et===null&&(et=gn);break}a&&et&&Hn.alternate===null&&u(ee,et),q=T(Hn,q,pt),rt===null?Ge=Hn:rt.sibling=Hn,rt=Hn,et=gn}if(ht.done)return p(ee,et),Lt&&zr(ee,pt),Ge;if(et===null){for(;!ht.done;pt++,ht=oe.next())ht=Je(ee,ht.value,Ne),ht!==null&&(q=T(ht,q,pt),rt===null?Ge=ht:rt.sibling=ht,rt=ht);return Lt&&zr(ee,pt),Ge}for(et=v(ee,et);!ht.done;pt++,ht=oe.next())ht=Mt(et,ee,pt,ht.value,Ne),ht!==null&&(a&&ht.alternate!==null&&et.delete(ht.key===null?pt:ht.key),q=T(ht,q,pt),rt===null?Ge=ht:rt.sibling=ht,rt=ht);return a&&et.forEach(function(xm){return u(ee,xm)}),Lt&&zr(ee,pt),Ge}function li(ee,q,oe,Ne){if(typeof oe=="object"&&oe!==null&&oe.type===y&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case h:e:{for(var Ge=oe.key,rt=q;rt!==null;){if(rt.key===Ge){if(Ge=oe.type,Ge===y){if(rt.tag===7){p(ee,rt.sibling),q=S(rt,oe.props.children),q.return=ee,ee=q;break e}}else if(rt.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===L&&qf(Ge)===rt.type){p(ee,rt.sibling),q=S(rt,oe.props),q.ref=Rs(ee,rt,oe),q.return=ee,ee=q;break e}p(ee,rt);break}else u(ee,rt);rt=rt.sibling}oe.type===y?(q=Mn(oe.props.children,ee.mode,Ne,oe.key),q.return=ee,ee=q):(Ne=Cu(oe.type,oe.key,oe.props,null,ee.mode,Ne),Ne.ref=Rs(ee,q,oe),Ne.return=ee,ee=Ne)}return O(ee);case g:e:{for(rt=oe.key;q!==null;){if(q.key===rt)if(q.tag===4&&q.stateNode.containerInfo===oe.containerInfo&&q.stateNode.implementation===oe.implementation){p(ee,q.sibling),q=S(q,oe.children||[]),q.return=ee,ee=q;break e}else{p(ee,q);break}else u(ee,q);q=q.sibling}q=Eu(oe,ee.mode,Ne),q.return=ee,ee=q}return O(ee);case L:return rt=oe._init,li(ee,q,rt(oe._payload),Ne)}if(de(oe))return Et(ee,q,oe,Ne);if(U(oe))return er(ee,q,oe,Ne);Wl(ee,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,q!==null&&q.tag===6?(p(ee,q.sibling),q=S(q,oe),q.return=ee,ee=q):(p(ee,q),q=Yo(oe,ee.mode,Ne),q.return=ee,ee=q),O(ee)):p(ee,q)}return li}var Ns=$f(!0),Xf=$f(!1),Ql=bn(null),ql=null,To=null,Oc=null;function Lc(){Oc=To=ql=null}function Yf(a,u,p){Z?(ct(Ql,u._currentValue),u._currentValue=p):(ct(Ql,u._currentValue2),u._currentValue2=p)}function za(a){var u=Ql.current;Ot(Ql),Z?a._currentValue=u:a._currentValue2=u}function As(a,u,p){for(;a!==null;){var v=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),a===p)break;a=a.return}}function bo(a,u){ql=a,Oc=To=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&u)!==0&&(hn=!0),a.firstContext=null)}function mr(a){var u=Z?a._currentValue:a._currentValue2;if(Oc!==a)if(a={context:a,memoizedValue:u,next:null},To===null){if(ql===null)throw Error(c(308));To=a,ql.dependencies={lanes:0,firstContext:a}}else To=To.next=a;return u}var $i=null;function $l(a){$i===null?$i=[a]:$i.push(a)}function Dc(a,u,p,v){var S=u.interleaved;return S===null?(p.next=p,$l(u)):(p.next=S.next,S.next=p),u.interleaved=p,Gr(a,v)}function Gr(a,u){a.lanes|=u;var p=a.alternate;for(p!==null&&(p.lanes|=u),p=a,a=a.return;a!==null;)a.childLanes|=u,p=a.alternate,p!==null&&(p.childLanes|=u),p=a,a=a.return;return p.tag===3?p.stateNode:null}var gr=!1;function jc(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kf(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function wi(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Si(a,u,p){var v=a.updateQueue;if(v===null)return null;if(v=v.shared,(nt&2)!==0){var S=v.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),v.pending=u,Gr(a,p)}return S=v.interleaved,S===null?(u.next=u,$l(v)):(u.next=S.next,S.next=u),v.interleaved=u,Gr(a,p)}function Ba(a,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194240)!==0)){var v=u.lanes;v&=a.pendingLanes,p|=v,u.lanes=p,Zr(a,p)}}function ko(a,u){var p=a.updateQueue,v=a.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var S=null,T=null;if(p=p.firstBaseUpdate,p!==null){do{var O={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};T===null?S=T=O:T=T.next=O,p=p.next}while(p!==null);T===null?S=T=u:T=T.next=u}else S=T=u;p={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:T,shared:v.shared,effects:v.effects},a.updateQueue=p;return}a=p.lastBaseUpdate,a===null?p.firstBaseUpdate=u:a.next=u,p.lastBaseUpdate=u}function Xi(a,u,p,v){var S=a.updateQueue;gr=!1;var T=S.firstBaseUpdate,O=S.lastBaseUpdate,W=S.shared.pending;if(W!==null){S.shared.pending=null;var ne=W,Se=ne.next;ne.next=null,O===null?T=Se:O.next=Se,O=ne;var Le=a.alternate;Le!==null&&(Le=Le.updateQueue,W=Le.lastBaseUpdate,W!==O&&(W===null?Le.firstBaseUpdate=Se:W.next=Se,Le.lastBaseUpdate=ne))}if(T!==null){var Je=S.baseState;O=0,Le=Se=ne=null,W=T;do{var ke=W.lane,Mt=W.eventTime;if((v&ke)===ke){Le!==null&&(Le=Le.next={eventTime:Mt,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var Et=a,er=W;switch(ke=u,Mt=p,er.tag){case 1:if(Et=er.payload,typeof Et=="function"){Je=Et.call(Mt,Je,ke);break e}Je=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=er.payload,ke=typeof Et=="function"?Et.call(Mt,Je,ke):Et,ke==null)break e;Je=l({},Je,ke);break e;case 2:gr=!0}}W.callback!==null&&W.lane!==0&&(a.flags|=64,ke=S.effects,ke===null?S.effects=[W]:ke.push(W))}else Mt={eventTime:Mt,lane:ke,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Le===null?(Se=Le=Mt,ne=Je):Le=Le.next=Mt,O|=ke;if(W=W.next,W===null){if(W=S.shared.pending,W===null)break;ke=W,W=ke.next,ke.next=null,S.lastBaseUpdate=ke,S.shared.pending=null}}while(!0);if(Le===null&&(ne=Je),S.baseState=ne,S.firstBaseUpdate=Se,S.lastBaseUpdate=Le,u=S.shared.interleaved,u!==null){S=u;do O|=S.lane,S=S.next;while(S!==u)}else T===null&&(S.shared.lanes=0);Ti|=O,a.lanes=O,a.memoizedState=Je}}function Zf(a,u,p){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var v=a[u],S=v.callback;if(S!==null){if(v.callback=null,v=p,typeof S!="function")throw Error(c(191,S));S.call(v)}}}var Yi={},Rr=bn(Yi),Ro=bn(Yi),Ki=bn(Yi);function Nr(a){if(a===Yi)throw Error(c(174));return a}function Xl(a,u){ct(Ki,u),ct(Ro,a),ct(Rr,Yi),a=me(u),Ot(Rr),ct(Rr,a)}function Ms(){Ot(Rr),Ot(Ro),Ot(Ki)}function Fc(a){var u=Nr(Ki.current),p=Nr(Rr.current);u=Q(p,a.type,u),p!==u&&(ct(Ro,a),ct(Rr,u))}function zc(a){Ro.current===a&&(Ot(Rr),Ot(Ro))}var qt=bn(0);function Yl(a){for(var u=a;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||Rf(p)||Cs(p)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Bc=[];function Gc(){for(var a=0;a<Bc.length;a++){var u=Bc[a];Z?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}Bc.length=0}var lr=d.ReactCurrentDispatcher,Is=d.ReactCurrentBatchConfig,Zi=0,Bt=null,on=null,fn=null,No=!1,Ga=!1,Ua=0,Ao=0;function _n(){throw Error(c(321))}function Os(a,u){if(u===null)return!1;for(var p=0;p<u.length&&p<a.length;p++)if(!jr(a[p],u[p]))return!1;return!0}function Ha(a,u,p,v,S,T){if(Zi=T,Bt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,lr.current=a===null||a.memoizedState===null?Kc:Zc,a=p(v,S),Ga){T=0;do{if(Ga=!1,Ua=0,25<=T)throw Error(c(301));T+=1,fn=on=null,u.updateQueue=null,lr.current=Jc,a=p(v,S)}while(Ga)}if(lr.current=zs,u=on!==null&&on.next!==null,Zi=0,fn=on=Bt=null,No=!1,u)throw Error(c(300));return a}function Kl(){var a=Ua!==0;return Ua=0,a}function yr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Bt.memoizedState=fn=a:fn=fn.next=a,fn}function Nn(){if(on===null){var a=Bt.alternate;a=a!==null?a.memoizedState:null}else a=on.next;var u=fn===null?Bt.memoizedState:fn.next;if(u!==null)fn=u,on=a;else{if(a===null)throw Error(c(310));on=a,a={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},fn===null?Bt.memoizedState=fn=a:fn=fn.next=a}return fn}function Ls(a,u){return typeof u=="function"?u(a):u}function Zl(a){var u=Nn(),p=u.queue;if(p===null)throw Error(c(311));p.lastRenderedReducer=a;var v=on,S=v.baseQueue,T=p.pending;if(T!==null){if(S!==null){var O=S.next;S.next=T.next,T.next=O}v.baseQueue=S=T,p.pending=null}if(S!==null){T=S.next,v=v.baseState;var W=O=null,ne=null,Se=T;do{var Le=Se.lane;if((Zi&Le)===Le)ne!==null&&(ne=ne.next={lane:0,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),v=Se.hasEagerState?Se.eagerState:a(v,Se.action);else{var Je={lane:Le,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null};ne===null?(W=ne=Je,O=v):ne=ne.next=Je,Bt.lanes|=Le,Ti|=Le}Se=Se.next}while(Se!==null&&Se!==T);ne===null?O=v:ne.next=W,jr(v,u.memoizedState)||(hn=!0),u.memoizedState=v,u.baseState=O,u.baseQueue=ne,p.lastRenderedState=v}if(a=p.interleaved,a!==null){S=a;do T=S.lane,Bt.lanes|=T,Ti|=T,S=S.next;while(S!==a)}else S===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function Mo(a){var u=Nn(),p=u.queue;if(p===null)throw Error(c(311));p.lastRenderedReducer=a;var v=p.dispatch,S=p.pending,T=u.memoizedState;if(S!==null){p.pending=null;var O=S=S.next;do T=a(T,O.action),O=O.next;while(O!==S);jr(T,u.memoizedState)||(hn=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),p.lastRenderedState=T}return[T,v]}function Uc(){}function Hc(a,u){var p=Bt,v=Nn(),S=u(),T=!jr(v.memoizedState,S);if(T&&(v.memoizedState=S,hn=!0),v=v.queue,tu(Qc.bind(null,p,v,a),[a]),v.getSnapshot!==u||T||fn!==null&&fn.memoizedState.tag&1){if(p.flags|=2048,Ds(9,Wc.bind(null,p,v,S,u),void 0,null),kt===null)throw Error(c(349));(Zi&30)!==0||Vc(p,u,S)}return S}function Vc(a,u,p){a.flags|=16384,a={getSnapshot:u,value:p},u=Bt.updateQueue,u===null?(u={lastEffect:null,stores:null},Bt.updateQueue=u,u.stores=[a]):(p=u.stores,p===null?u.stores=[a]:p.push(a))}function Wc(a,u,p,v){u.value=p,u.getSnapshot=v,qc(u)&&_i(a)}function Qc(a,u,p){return p(function(){qc(u)&&_i(a)})}function qc(a){var u=a.getSnapshot;a=a.value;try{var p=u();return!jr(a,p)}catch{return!0}}function _i(a){var u=Gr(a,1);u!==null&&Gn(u,a,1,-1)}function Jl(a){var u=yr();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:a},u.queue=a,a=a.dispatch=mm.bind(null,Bt,a),[u.memoizedState,a]}function Ds(a,u,p,v){return a={tag:a,create:u,destroy:p,deps:v,next:null},u=Bt.updateQueue,u===null?(u={lastEffect:null,stores:null},Bt.updateQueue=u,u.lastEffect=a.next=a):(p=u.lastEffect,p===null?u.lastEffect=a.next=a:(v=p.next,p.next=a,a.next=v,u.lastEffect=a)),a}function Jf(){return Nn().memoizedState}function eu(a,u,p,v){var S=yr();Bt.flags|=a,S.memoizedState=Ds(1|u,p,void 0,v===void 0?null:v)}function Ji(a,u,p,v){var S=Nn();v=v===void 0?null:v;var T=void 0;if(on!==null){var O=on.memoizedState;if(T=O.destroy,v!==null&&Os(v,O.deps)){S.memoizedState=Ds(u,p,T,v);return}}Bt.flags|=a,S.memoizedState=Ds(1|u,p,T,v)}function eh(a,u){return eu(8390656,8,a,u)}function tu(a,u){return Ji(2048,8,a,u)}function $c(a,u){return Ji(4,2,a,u)}function Rt(a,u){return Ji(4,4,a,u)}function nu(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function Va(a,u,p){return p=p!=null?p.concat([a]):null,Ji(4,4,nu.bind(null,u,a),p)}function js(){}function Xc(a,u){var p=Nn();u=u===void 0?null:u;var v=p.memoizedState;return v!==null&&u!==null&&Os(u,v[1])?v[0]:(p.memoizedState=[a,u],a)}function ru(a,u){var p=Nn();u=u===void 0?null:u;var v=p.memoizedState;return v!==null&&u!==null&&Os(u,v[1])?v[0]:(a=a(),p.memoizedState=[a,u],a)}function Io(a,u,p){return(Zi&21)===0?(a.baseState&&(a.baseState=!1,hn=!0),a.memoizedState=p):(jr(p,u)||(p=Dl(),Bt.lanes|=p,Ti|=p,a.baseState=!0),u)}function iu(a,u){var p=dt;dt=p!==0&&4>p?p:4,a(!0);var v=Is.transition;Is.transition={};try{a(!1),u()}finally{dt=p,Is.transition=v}}function Fs(){return Nn().memoizedState}function th(a,u,p){var v=mn(a);if(p={lane:v,action:p,hasEagerState:!1,eagerState:null,next:null},nh(a))Yc(u,p);else if(p=Dc(a,u,p,v),p!==null){var S=Dt();Gn(p,a,v,S),Wa(p,u,v)}}function mm(a,u,p){var v=mn(a),S={lane:v,action:p,hasEagerState:!1,eagerState:null,next:null};if(nh(a))Yc(u,S);else{var T=a.alternate;if(a.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer,T!==null))try{var O=u.lastRenderedState,W=T(O,p);if(S.hasEagerState=!0,S.eagerState=W,jr(W,O)){var ne=u.interleaved;ne===null?(S.next=S,$l(u)):(S.next=ne.next,ne.next=S),u.interleaved=S;return}}catch{}p=Dc(a,u,S,v),p!==null&&(S=Dt(),Gn(p,a,v,S),Wa(p,u,v))}}function nh(a){var u=a.alternate;return a===Bt||u!==null&&u===Bt}function Yc(a,u){Ga=No=!0;var p=a.pending;p===null?u.next=u:(u.next=p.next,p.next=u),a.pending=u}function Wa(a,u,p){if((p&4194240)!==0){var v=u.lanes;v&=a.pendingLanes,p|=v,u.lanes=p,Zr(a,p)}}var zs={readContext:mr,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},Kc={readContext:mr,useCallback:function(a,u){return yr().memoizedState=[a,u===void 0?null:u],a},useContext:mr,useEffect:eh,useImperativeHandle:function(a,u,p){return p=p!=null?p.concat([a]):null,eu(4194308,4,nu.bind(null,u,a),p)},useLayoutEffect:function(a,u){return eu(4194308,4,a,u)},useInsertionEffect:function(a,u){return eu(4,2,a,u)},useMemo:function(a,u){var p=yr();return u=u===void 0?null:u,a=a(),p.memoizedState=[a,u],a},useReducer:function(a,u,p){var v=yr();return u=p!==void 0?p(u):u,v.memoizedState=v.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},v.queue=a,a=a.dispatch=th.bind(null,Bt,a),[v.memoizedState,a]},useRef:function(a){var u=yr();return a={current:a},u.memoizedState=a},useState:Jl,useDebugValue:js,useDeferredValue:function(a){return yr().memoizedState=a},useTransition:function(){var a=Jl(!1),u=a[0];return a=iu.bind(null,a[1]),yr().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,p){var v=Bt,S=yr();if(Lt){if(p===void 0)throw Error(c(407));p=p()}else{if(p=u(),kt===null)throw Error(c(349));(Zi&30)!==0||Vc(v,u,p)}S.memoizedState=p;var T={value:p,getSnapshot:u};return S.queue=T,eh(Qc.bind(null,v,T,a),[a]),v.flags|=2048,Ds(9,Wc.bind(null,v,T,p,u),void 0,null),p},useId:function(){var a=yr(),u=kt.identifierPrefix;if(Lt){var p=Fr,v=ar;p=(v&~(1<<32-hr(v)-1)).toString(32)+p,u=":"+u+"R"+p,p=Ua++,0<p&&(u+="H"+p.toString(32)),u+=":"}else p=Ao++,u=":"+u+"r"+p.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},Zc={readContext:mr,useCallback:Xc,useContext:mr,useEffect:tu,useImperativeHandle:Va,useInsertionEffect:$c,useLayoutEffect:Rt,useMemo:ru,useReducer:Zl,useRef:Jf,useState:function(){return Zl(Ls)},useDebugValue:js,useDeferredValue:function(a){var u=Nn();return Io(u,on.memoizedState,a)},useTransition:function(){var a=Zl(Ls)[0],u=Nn().memoizedState;return[a,u]},useMutableSource:Uc,useSyncExternalStore:Hc,useId:Fs,unstable_isNewReconciler:!1},Jc={readContext:mr,useCallback:Xc,useContext:mr,useEffect:tu,useImperativeHandle:Va,useInsertionEffect:$c,useLayoutEffect:Rt,useMemo:ru,useReducer:Mo,useRef:Jf,useState:function(){return Mo(Ls)},useDebugValue:js,useDeferredValue:function(a){var u=Nn();return on===null?u.memoizedState=a:Io(u,on.memoizedState,a)},useTransition:function(){var a=Mo(Ls)[0],u=Nn().memoizedState;return[a,u]},useMutableSource:Uc,useSyncExternalStore:Hc,useId:Fs,unstable_isNewReconciler:!1};function vr(a,u){if(a&&a.defaultProps){u=l({},u),a=a.defaultProps;for(var p in a)u[p]===void 0&&(u[p]=a[p]);return u}return u}function ed(a,u,p,v){u=a.memoizedState,p=p(v,u),p=p==null?u:l({},u,p),a.memoizedState=p,a.lanes===0&&(a.updateQueue.baseState=p)}var Qa={isMounted:function(a){return(a=a._reactInternals)?re(a)===a:!1},enqueueSetState:function(a,u,p){a=a._reactInternals;var v=Dt(),S=mn(a),T=wi(v,S);T.payload=u,p!=null&&(T.callback=p),u=Si(a,T,S),u!==null&&(Gn(u,a,S,v),Ba(u,a,S))},enqueueReplaceState:function(a,u,p){a=a._reactInternals;var v=Dt(),S=mn(a),T=wi(v,S);T.tag=1,T.payload=u,p!=null&&(T.callback=p),u=Si(a,T,S),u!==null&&(Gn(u,a,S,v),Ba(u,a,S))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var p=Dt(),v=mn(a),S=wi(p,v);S.tag=2,u!=null&&(S.callback=u),u=Si(a,S,v),u!==null&&(Gn(u,a,v,p),Ba(u,a,v))}};function rh(a,u,p,v,S,T,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(v,T,O):u.prototype&&u.prototype.isPureReactComponent?!Vl(p,v)||!Vl(S,T):!0}function ih(a,u,p){var v=!1,S=Vi,T=u.contextType;return typeof T=="object"&&T!==null?T=mr(T):(S=wn(u)?Kr:jn.current,v=u.contextTypes,T=(v=v!=null)?yi(a,S):Vi),u=new u(p,T),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Qa,a.stateNode=u,u._reactInternals=a,v&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=S,a.__reactInternalMemoizedMaskedChildContext=T),u}function su(a,u,p,v){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,v),u.state!==a&&Qa.enqueueReplaceState(u,u.state,null)}function ei(a,u,p,v){var S=a.stateNode;S.props=p,S.state=a.memoizedState,S.refs={},jc(a);var T=u.contextType;typeof T=="object"&&T!==null?S.context=mr(T):(T=wn(u)?Kr:jn.current,S.context=yi(a,T)),S.state=a.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(ed(a,u,T,p),S.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(u=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),u!==S.state&&Qa.enqueueReplaceState(S,S.state,null),Xi(a,p,S,v),S.state=a.memoizedState),typeof S.componentDidMount=="function"&&(a.flags|=4194308)}function Bs(a,u){try{var p="",v=u;do p+=pm(v),v=v.return;while(v);var S=p}catch(T){S=`
Error generating stack: `+T.message+`
`+T.stack}return{value:a,source:u,stack:S,digest:null}}function es(a,u,p){return{value:a,source:null,stack:p??null,digest:u??null}}function Ar(a,u){try{console.error(u.value)}catch(p){setTimeout(function(){throw p})}}var qa=typeof WeakMap=="function"?WeakMap:Map;function ti(a,u,p){p=wi(-1,p),p.tag=3,p.payload={element:null};var v=u.value;return p.callback=function(){Yt||(Yt=!0,an=v),Ar(a,u)},p}function ou(a,u,p){p=wi(-1,p),p.tag=3;var v=a.type.getDerivedStateFromError;if(typeof v=="function"){var S=u.value;p.payload=function(){return v(S)},p.callback=function(){Ar(a,u)}}var T=a.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(p.callback=function(){Ar(a,u),typeof v!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var O=u.stack;this.componentDidCatch(u.value,{componentStack:O!==null?O:""})}),p}function sh(a,u,p){var v=a.pingCache;if(v===null){v=a.pingCache=new qa;var S=new Set;v.set(u,S)}else S=v.get(u),S===void 0&&(S=new Set,v.set(u,S));S.has(p)||(S.add(p),a=hh.bind(null,a,u,p),u.then(a,a))}function oh(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function ts(a,u,p,v,S){return(a.mode&1)===0?(a===u?a.flags|=65536:(a.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(u=wi(-1,1),u.tag=2,Si(p,u,1))),p.lanes|=1),a):(a.flags|=65536,a.lanes=S,a)}var $a=d.ReactCurrentOwner,hn=!1;function Cn(a,u,p,v){u.child=a===null?Xf(u,null,p,v):Ns(u,a.child,p,v)}function au(a,u,p,v,S){p=p.render;var T=u.ref;return bo(u,S),v=Ha(a,u,p,v,T,S),p=Kl(),a!==null&&!hn?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~S,Ei(a,u,S)):(Lt&&p&&Da(u),u.flags|=1,Cn(a,u,v,S),u.child)}function Gs(a,u,p,v,S){if(a===null){var T=p.type;return typeof T=="function"&&!$o(T)&&T.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(u.tag=15,u.type=T,Ci(a,u,T,v,S)):(a=Cu(p.type,null,v,u,u.mode,S),a.ref=u.ref,a.return=u,u.child=a)}if(T=a.child,(a.lanes&S)===0){var O=T.memoizedProps;if(p=p.compare,p=p!==null?p:Vl,p(O,v)&&a.ref===u.ref)return Ei(a,u,S)}return u.flags|=1,a=ds(T,v),a.ref=u.ref,a.return=u,u.child=a}function Ci(a,u,p,v,S){if(a!==null){var T=a.memoizedProps;if(Vl(T,v)&&a.ref===u.ref)if(hn=!1,u.pendingProps=v=T,(a.lanes&S)!==0)(a.flags&131072)!==0&&(hn=!0);else return u.lanes=a.lanes,Ei(a,u,S)}return ni(a,u,p,v,S)}function Nt(a,u,p){var v=u.pendingProps,S=v.children,T=a!==null?a.memoizedState:null;if(v.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(as,pn),pn|=p;else{if((p&1073741824)===0)return a=T!==null?T.baseLanes|p:p,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,ct(as,pn),pn|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=T!==null?T.baseLanes:p,ct(as,pn),pn|=v}else T!==null?(v=T.baseLanes|p,u.memoizedState=null):v=p,ct(as,pn),pn|=v;return Cn(a,u,S,p),u.child}function bt(a,u){var p=u.ref;(a===null&&p!==null||a!==null&&a.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function ni(a,u,p,v,S){var T=wn(p)?Kr:jn.current;return T=yi(u,T),bo(u,S),p=Ha(a,u,p,v,T,S),v=Kl(),a!==null&&!hn?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~S,Ei(a,u,S)):(Lt&&v&&Da(u),u.flags|=1,Cn(a,u,p,S),u.child)}function An(a,u,p,v,S){if(wn(p)){var T=!0;vo(u)}else T=!1;if(bo(u,S),u.stateNode===null)Xa(a,u),ih(u,p,v),ei(u,p,v,S),v=!0;else if(a===null){var O=u.stateNode,W=u.memoizedProps;O.props=W;var ne=O.context,Se=p.contextType;typeof Se=="object"&&Se!==null?Se=mr(Se):(Se=wn(p)?Kr:jn.current,Se=yi(u,Se));var Le=p.getDerivedStateFromProps,Je=typeof Le=="function"||typeof O.getSnapshotBeforeUpdate=="function";Je||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(W!==v||ne!==Se)&&su(u,O,v,Se),gr=!1;var ke=u.memoizedState;O.state=ke,Xi(u,v,O,S),ne=u.memoizedState,W!==v||ke!==ne||sr.current||gr?(typeof Le=="function"&&(ed(u,p,Le,v),ne=u.memoizedState),(W=gr||rh(u,p,W,v,ke,ne,Se))?(Je||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(u.flags|=4194308)):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=ne),O.props=v,O.state=ne,O.context=Se,v=W):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{O=u.stateNode,Kf(a,u),W=u.memoizedProps,Se=u.type===u.elementType?W:vr(u.type,W),O.props=Se,Je=u.pendingProps,ke=O.context,ne=p.contextType,typeof ne=="object"&&ne!==null?ne=mr(ne):(ne=wn(p)?Kr:jn.current,ne=yi(u,ne));var Mt=p.getDerivedStateFromProps;(Le=typeof Mt=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(W!==Je||ke!==ne)&&su(u,O,v,ne),gr=!1,ke=u.memoizedState,O.state=ke,Xi(u,v,O,S);var Et=u.memoizedState;W!==Je||ke!==Et||sr.current||gr?(typeof Mt=="function"&&(ed(u,p,Mt,v),Et=u.memoizedState),(Se=gr||rh(u,p,Se,v,ke,Et,ne)||!1)?(Le||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(v,Et,ne),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(v,Et,ne)),typeof O.componentDidUpdate=="function"&&(u.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof O.componentDidUpdate!="function"||W===a.memoizedProps&&ke===a.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||W===a.memoizedProps&&ke===a.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=Et),O.props=v,O.state=Et,O.context=ne,v=Se):(typeof O.componentDidUpdate!="function"||W===a.memoizedProps&&ke===a.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||W===a.memoizedProps&&ke===a.memoizedState||(u.flags|=1024),v=!1)}return Fn(a,u,p,v,T,S)}function Fn(a,u,p,v,S,T){bt(a,u);var O=(u.flags&128)!==0;if(!v&&!O)return S&&Rc(u,p,!1),Ei(a,u,T);v=u.stateNode,$a.current=u;var W=O&&typeof p.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,a!==null&&O?(u.child=Ns(u,a.child,null,T),u.child=Ns(u,null,W,T)):Cn(a,u,W,T),u.memoizedState=v.state,S&&Rc(u,p,!0),u.child}function ns(a){var u=a.stateNode;u.pendingContext?Df(a,u.pendingContext,u.pendingContext!==u.context):u.context&&Df(a,u.context,!1),Xl(a,u.containerInfo)}function Us(a,u,p,v,S){return ks(),Ic(S),u.flags|=256,Cn(a,u,p,v),u.child}var zn={dehydrated:null,treeContext:null,retryLane:0};function Oo(a){return{baseLanes:a,cachePool:null,transitions:null}}function td(a,u,p){var v=u.pendingProps,S=qt.current,T=!1,O=(u.flags&128)!==0,W;if((W=O)||(W=a!==null&&a.memoizedState===null?!1:(S&2)!==0),W?(T=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(S|=1),ct(qt,S&1),a===null)return Mc(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((u.mode&1)===0?u.lanes=1:Cs(a)?u.lanes=8:u.lanes=1073741824,null):(O=v.children,a=v.fallback,T?(v=u.mode,T=u.child,O={mode:"hidden",children:O},(v&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=O):T=Xo(O,v,0,null),a=Mn(a,v,p,null),T.return=u,a.return=u,T.sibling=a,u.child=T,u.child.memoizedState=Oo(p),u.memoizedState=zn,a):lu(u,O));if(S=a.memoizedState,S!==null&&(W=S.dehydrated,W!==null))return ah(a,u,O,v,W,S,p);if(T){T=v.fallback,O=u.mode,S=a.child,W=S.sibling;var ne={mode:"hidden",children:v.children};return(O&1)===0&&u.child!==S?(v=u.child,v.childLanes=0,v.pendingProps=ne,u.deletions=null):(v=ds(S,ne),v.subtreeFlags=S.subtreeFlags&14680064),W!==null?T=ds(W,T):(T=Mn(T,O,p,null),T.flags|=2),T.return=u,v.return=u,v.sibling=T,u.child=v,v=T,T=u.child,O=a.child.memoizedState,O=O===null?Oo(p):{baseLanes:O.baseLanes|p,cachePool:null,transitions:O.transitions},T.memoizedState=O,T.childLanes=a.childLanes&~p,u.memoizedState=zn,v}return T=a.child,a=T.sibling,v=ds(T,{mode:"visible",children:v.children}),(u.mode&1)===0&&(v.lanes=p),v.return=u,v.sibling=null,a!==null&&(p=u.deletions,p===null?(u.deletions=[a],u.flags|=16):p.push(a)),u.child=v,u.memoizedState=null,v}function lu(a,u){return u=Xo({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function Hs(a,u,p,v){return v!==null&&Ic(v),Ns(u,a.child,null,p),a=lu(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function ah(a,u,p,v,S,T,O){if(p)return u.flags&256?(u.flags&=-257,v=es(Error(c(422))),Hs(a,u,O,v)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(T=v.fallback,S=u.mode,v=Xo({mode:"visible",children:v.children},S,0,null),T=Mn(T,S,O,null),T.flags|=2,v.return=u,T.return=u,v.sibling=T,u.child=v,(u.mode&1)!==0&&Ns(u,a.child,null,O),u.child.memoizedState=Oo(O),u.memoizedState=zn,T);if((u.mode&1)===0)return Hs(a,u,O,null);if(Cs(S))return v=Al(S).digest,T=Error(c(419)),v=es(T,v,void 0),Hs(a,u,O,v);if(p=(O&a.childLanes)!==0,hn||p){if(v=kt,v!==null){switch(O&-O){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(v.suspendedLanes|O))!==0?0:S,S!==0&&S!==T.retryLane&&(T.retryLane=S,Gr(a,S),Gn(v,a,S,-1))}return qo(),v=es(Error(c(421))),Hs(a,u,O,v)}return Rf(S)?(u.flags|=128,u.child=a.child,u=mh.bind(null,a),Ml(S,u),null):(a=T.treeContext,ot&&($n=om(S),Rn=u,Lt=!0,Br=null,Fa=!1,a!==null&&(qn[pr++]=ar,qn[pr++]=Fr,qn[pr++]=dn,ar=a.id,Fr=a.overflow,dn=u)),u=lu(u,v.children),u.flags|=4096,u)}function ri(a,u,p){a.lanes|=u;var v=a.alternate;v!==null&&(v.lanes|=u),As(a.return,u,p)}function Lo(a,u,p,v,S){var T=a.memoizedState;T===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:S}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=v,T.tail=p,T.tailMode=S)}function uu(a,u,p){var v=u.pendingProps,S=v.revealOrder,T=v.tail;if(Cn(a,u,v.children,p),v=qt.current,(v&2)!==0)v=v&1|2,u.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&ri(a,p,u);else if(a.tag===19)ri(a,p,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}v&=1}if(ct(qt,v),(u.mode&1)===0)u.memoizedState=null;else switch(S){case"forwards":for(p=u.child,S=null;p!==null;)a=p.alternate,a!==null&&Yl(a)===null&&(S=p),p=p.sibling;p=S,p===null?(S=u.child,u.child=null):(S=p.sibling,p.sibling=null),Lo(u,!1,S,p,T);break;case"backwards":for(p=null,S=u.child,u.child=null;S!==null;){if(a=S.alternate,a!==null&&Yl(a)===null){u.child=S;break}a=S.sibling,S.sibling=p,p=S,S=a}Lo(u,!0,p,null,T);break;case"together":Lo(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Xa(a,u){(u.mode&1)===0&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function Ei(a,u,p){if(a!==null&&(u.dependencies=a.dependencies),Ti|=u.lanes,(p&u.childLanes)===0)return null;if(a!==null&&u.child!==a.child)throw Error(c(153));if(u.child!==null){for(a=u.child,p=ds(a,a.pendingProps),u.child=p,p.return=u;a.sibling!==null;)a=a.sibling,p=p.sibling=ds(a,a.pendingProps),p.return=u;p.sibling=null}return u.child}function rs(a,u,p){switch(u.tag){case 3:ns(u),ks();break;case 5:Fc(u);break;case 1:wn(u.type)&&vo(u);break;case 4:Xl(u,u.stateNode.containerInfo);break;case 10:Yf(u,u.type._context,u.memoizedProps.value);break;case 13:var v=u.memoizedState;if(v!==null)return v.dehydrated!==null?(ct(qt,qt.current&1),u.flags|=128,null):(p&u.child.childLanes)!==0?td(a,u,p):(ct(qt,qt.current&1),a=Ei(a,u,p),a!==null?a.sibling:null);ct(qt,qt.current&1);break;case 19:if(v=(p&u.childLanes)!==0,(a.flags&128)!==0){if(v)return uu(a,u,p);u.flags|=128}var S=u.memoizedState;if(S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),ct(qt,qt.current),v)break;return null;case 22:case 23:return u.lanes=0,Nt(a,u,p)}return Ei(a,u,p)}function Xn(a){a.flags|=4}function Vs(a,u){if(a!==null&&a.child===u.child)return!0;if((u.flags&16)!==0)return!1;for(a=u.child;a!==null;){if((a.flags&12854)!==0||(a.subtreeFlags&12854)!==0)return!1;a=a.sibling}return!0}var is,ss,Yn,Kn;if(Me)is=function(a,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)X(a,p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},ss=function(){},Yn=function(a,u,p,v,S){if(a=a.memoizedProps,a!==v){var T=u.stateNode,O=Nr(Rr.current);p=Ve(T,p,a,v,S,O),(u.updateQueue=p)&&Xn(u)}},Kn=function(a,u,p,v){p!==v&&Xn(u)};else if(He){is=function(a,u,p,v){for(var S=u.child;S!==null;){if(S.tag===5){var T=S.stateNode;p&&v&&(T=Nl(T,S.type,S.memoizedProps,S)),X(a,T)}else if(S.tag===6)T=S.stateNode,p&&v&&(T=Tc(T,S.memoizedProps,S)),X(a,T);else if(S.tag!==4){if(S.tag===22&&S.memoizedState!==null)T=S.child,T!==null&&(T.return=S),is(a,S,!0,!0);else if(S.child!==null){S.child.return=S,S=S.child;continue}}if(S===u)break;for(;S.sibling===null;){if(S.return===null||S.return===u)return;S=S.return}S.sibling.return=S.return,S=S.sibling}};var os=function(a,u,p,v){for(var S=u.child;S!==null;){if(S.tag===5){var T=S.stateNode;p&&v&&(T=Nl(T,S.type,S.memoizedProps,S)),Pc(a,T)}else if(S.tag===6)T=S.stateNode,p&&v&&(T=Tc(T,S.memoizedProps,S)),Pc(a,T);else if(S.tag!==4){if(S.tag===22&&S.memoizedState!==null)T=S.child,T!==null&&(T.return=S),os(a,S,!0,!0);else if(S.child!==null){S.child.return=S,S=S.child;continue}}if(S===u)break;for(;S.sibling===null;){if(S.return===null||S.return===u)return;S=S.return}S.sibling.return=S.return,S=S.sibling}};ss=function(a,u){var p=u.stateNode;if(!Vs(a,u)){a=p.containerInfo;var v=Ec(a);os(v,u,!1,!1),p.pendingChildren=v,Xn(u),kf(a,v)}},Yn=function(a,u,p,v,S){var T=a.stateNode,O=a.memoizedProps;if((a=Vs(a,u))&&O===v)u.stateNode=T;else{var W=u.stateNode,ne=Nr(Rr.current),Se=null;O!==v&&(Se=Ve(W,p,O,v,S,ne)),a&&Se===null?u.stateNode=T:(T=bf(T,Se,p,O,v,u,a,W),Ae(T,p,v,S,ne)&&Xn(u),u.stateNode=T,a?Xn(u):is(T,u,!1,!1))}},Kn=function(a,u,p,v){p!==v?(a=Nr(Ki.current),p=Nr(Rr.current),u.stateNode=Ke(v,a,p,u),Xn(u)):u.stateNode=a.stateNode}}else ss=function(){},Yn=function(){},Kn=function(){};function xr(a,u){if(!Lt)switch(a.tailMode){case"hidden":u=a.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a.tail=null:p.sibling=null;break;case"collapsed":p=a.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:v.sibling=null}}function Gt(a){var u=a.alternate!==null&&a.alternate.child===a.child,p=0,v=0;if(u)for(var S=a.child;S!==null;)p|=S.lanes|S.childLanes,v|=S.subtreeFlags&14680064,v|=S.flags&14680064,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)p|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=v,a.childLanes=p,u}function Ws(a,u,p){var v=u.pendingProps;switch(ja(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(u),null;case 1:return wn(u.type)&&Ts(),Gt(u),null;case 3:return p=u.stateNode,Ms(),Ot(sr),Ot(jn),Gc(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(a===null||a.child===null)&&(Hl(u)?Xn(u):a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Br!==null&&(Su(Br),Br=null))),ss(a,u),Gt(u),null;case 5:zc(u),p=Nr(Ki.current);var S=u.type;if(a!==null&&u.stateNode!=null)Yn(a,u,S,v,p),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(c(166));return Gt(u),null}if(a=Nr(Rr.current),Hl(u)){if(!ot)throw Error(c(175));a=Es(u.stateNode,u.type,u.memoizedProps,p,a,u,!Fa),u.updateQueue=a,a!==null&&Xn(u)}else{var T=B(S,v,p,a,u);is(T,u,!1,!1),u.stateNode=T,Ae(T,S,v,p,a)&&Xn(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Gt(u),null;case 6:if(a&&u.stateNode!=null)Kn(a,u,a.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(c(166));if(a=Nr(Ki.current),p=Nr(Rr.current),Hl(u)){if(!ot)throw Error(c(176));if(a=u.stateNode,p=u.memoizedProps,(v=Nf(a,p,u,!Fa))&&(S=Rn,S!==null))switch(S.tag){case 3:um(S.stateNode.containerInfo,a,p,(S.mode&1)!==0);break;case 5:Kt(S.type,S.memoizedProps,S.stateNode,a,p,(S.mode&1)!==0)}v&&Xn(u)}else u.stateNode=Ke(v,a,p,u)}return Gt(u),null;case 13:if(Ot(qt),v=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Lt&&$n!==null&&(u.mode&1)!==0&&(u.flags&128)===0)Qf(),ks(),u.flags|=98560,S=!1;else if(S=Hl(u),v!==null&&v.dehydrated!==null){if(a===null){if(!S)throw Error(c(318));if(!ot)throw Error(c(344));if(S=u.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(c(317));Af(S,u)}else ks(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Gt(u),S=!1}else Br!==null&&(Su(Br),Br=null),S=!0;if(!S)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=p,u):(p=v!==null,p!==(a!==null&&a.memoizedState!==null)&&p&&(u.child.flags|=8192,(u.mode&1)!==0&&(a===null||(qt.current&1)!==0?Ht===0&&(Ht=3):qo())),u.updateQueue!==null&&(u.flags|=4),Gt(u),null);case 4:return Ms(),ss(a,u),a===null&&br(u.stateNode.containerInfo),Gt(u),null;case 10:return za(u.type._context),Gt(u),null;case 17:return wn(u.type)&&Ts(),Gt(u),null;case 19:if(Ot(qt),S=u.memoizedState,S===null)return Gt(u),null;if(v=(u.flags&128)!==0,T=S.rendering,T===null)if(v)xr(S,!1);else{if(Ht!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(T=Yl(a),T!==null){for(u.flags|=128,xr(S,!1),a=T.updateQueue,a!==null&&(u.updateQueue=a,u.flags|=4),u.subtreeFlags=0,a=p,p=u.child;p!==null;)v=p,S=a,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=S,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,S=T.dependencies,v.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext}),p=p.sibling;return ct(qt,qt.current&1|2),u.child}a=a.sibling}S.tail!==null&&Sn()>nl&&(u.flags|=128,v=!0,xr(S,!1),u.lanes=4194304)}else{if(!v)if(a=Yl(T),a!==null){if(u.flags|=128,v=!0,a=a.updateQueue,a!==null&&(u.updateQueue=a,u.flags|=4),xr(S,!0),S.tail===null&&S.tailMode==="hidden"&&!T.alternate&&!Lt)return Gt(u),null}else 2*Sn()-S.renderingStartTime>nl&&p!==1073741824&&(u.flags|=128,v=!0,xr(S,!1),u.lanes=4194304);S.isBackwards?(T.sibling=u.child,u.child=T):(a=S.last,a!==null?a.sibling=T:u.child=T,S.last=T)}return S.tail!==null?(u=S.tail,S.rendering=u,S.tail=u.sibling,S.renderingStartTime=Sn(),u.sibling=null,a=qt.current,ct(qt,v?a&1|2:a&1),u):(Gt(u),null);case 22:case 23:return _u(),p=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==p&&(u.flags|=8192),p&&(u.mode&1)!==0?(pn&1073741824)!==0&&(Gt(u),Me&&u.subtreeFlags&6&&(u.flags|=8192)):Gt(u),null;case 24:return null;case 25:return null}throw Error(c(156,u.tag))}function lh(a,u){switch(ja(u),u.tag){case 1:return wn(u.type)&&Ts(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return Ms(),Ot(sr),Ot(jn),Gc(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 5:return zc(u),null;case 13:if(Ot(qt),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(c(340));ks()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return Ot(qt),null;case 4:return Ms(),null;case 10:return za(u.type._context),null;case 22:case 23:return _u(),null;case 24:return null;default:return null}}var Do=!1,En=!1,wr=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Ct(a,u){var p=a.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(v){jt(a,u,v)}else p.current=null}function Sr(a,u,p){try{p()}catch(v){jt(a,u,v)}}var nd=!1;function uh(a,u){for(le(a.containerInfo),Te=u;Te!==null;)if(a=Te,u=a.child,(a.subtreeFlags&1028)!==0&&u!==null)u.return=a,Te=u;else for(;Te!==null;){a=Te;try{var p=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,S=p.memoizedState,T=a.stateNode,O=T.getSnapshotBeforeUpdate(a.elementType===a.type?v:vr(a.type,v),S);T.__reactInternalSnapshotBeforeUpdate=O}break;case 3:Me&&mo(a.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(W){jt(a,a.return,W)}if(u=a.sibling,u!==null){u.return=a.return,Te=u;break}Te=a.return}return p=nd,nd=!1,p}function Qs(a,u,p){var v=u.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var S=v=v.next;do{if((S.tag&a)===a){var T=S.destroy;S.destroy=void 0,T!==void 0&&Sr(u,p,T)}S=S.next}while(S!==v)}}function jo(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&a)===a){var v=p.create;p.destroy=v()}p=p.next}while(p!==u)}}function cu(a){var u=a.ref;if(u!==null){var p=a.stateNode;a.tag===5?a=ie(p):a=p,typeof u=="function"?u(a):u.current=a}}function Ya(a){var u=a.alternate;u!==null&&(a.alternate=null,Ya(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&_s(u)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function rd(a){return a.tag===5||a.tag===3||a.tag===4}function qs(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||rd(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Ka(a,u,p){var v=a.tag;if(v===5||v===6)a=a.stateNode,u?Tf(p,a,u):Ef(p,a);else if(v!==4&&(a=a.child,a!==null))for(Ka(a,u,p),a=a.sibling;a!==null;)Ka(a,u,p),a=a.sibling}function id(a,u,p){var v=a.tag;if(v===5||v===6)a=a.stateNode,u?Pf(p,a,u):bl(p,a);else if(v!==4&&(a=a.child,a!==null))for(id(a,u,p),a=a.sibling;a!==null;)id(a,u,p),a=a.sibling}var Zt=null,ur=!1;function Ur(a,u,p){for(p=p.child;p!==null;)du(a,u,p),p=p.sibling}function du(a,u,p){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(Qi,p)}catch{}switch(p.tag){case 5:En||Ct(p,u);case 6:if(Me){var v=Zt,S=ur;Zt=null,Ur(a,u,p),Zt=v,ur=S,Zt!==null&&(ur?wc(Zt,p.stateNode):rm(Zt,p.stateNode))}else Ur(a,u,p);break;case 18:Me&&Zt!==null&&(ur?Lf(Zt,p.stateNode):Of(Zt,p.stateNode));break;case 4:Me?(v=Zt,S=ur,Zt=p.stateNode.containerInfo,ur=!0,Ur(a,u,p),Zt=v,ur=S):(He&&(v=p.stateNode.containerInfo,S=Ec(v),Rl(v,S)),Ur(a,u,p));break;case 0:case 11:case 14:case 15:if(!En&&(v=p.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){S=v=v.next;do{var T=S,O=T.destroy;T=T.tag,O!==void 0&&((T&2)!==0||(T&4)!==0)&&Sr(p,u,O),S=S.next}while(S!==v)}Ur(a,u,p);break;case 1:if(!En&&(Ct(p,u),v=p.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=p.memoizedProps,v.state=p.memoizedState,v.componentWillUnmount()}catch(W){jt(p,u,W)}Ur(a,u,p);break;case 21:Ur(a,u,p);break;case 22:p.mode&1?(En=(v=En)||p.memoizedState!==null,Ur(a,u,p),En=v):Ur(a,u,p);break;default:Ur(a,u,p)}}function $s(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var p=a.stateNode;p===null&&(p=a.stateNode=new wr),u.forEach(function(v){var S=gm.bind(null,a,v);p.has(v)||(p.add(v),v.then(S,S))})}}function Mr(a,u){var p=u.deletions;if(p!==null)for(var v=0;v<p.length;v++){var S=p[v];try{var T=a,O=u;if(Me){var W=O;e:for(;W!==null;){switch(W.tag){case 5:Zt=W.stateNode,ur=!1;break e;case 3:Zt=W.stateNode.containerInfo,ur=!0;break e;case 4:Zt=W.stateNode.containerInfo,ur=!0;break e}W=W.return}if(Zt===null)throw Error(c(160));du(T,O,S),Zt=null,ur=!1}else du(T,O,S);var ne=S.alternate;ne!==null&&(ne.return=null),S.return=null}catch(Se){jt(S,u,Se)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)Za(u,a),u=u.sibling}function Za(a,u){var p=a.alternate,v=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Mr(u,a),_r(a),v&4){try{Qs(3,a,a.return),jo(3,a)}catch(ke){jt(a,a.return,ke)}try{Qs(5,a,a.return)}catch(ke){jt(a,a.return,ke)}}break;case 1:Mr(u,a),_r(a),v&512&&p!==null&&Ct(p,p.return);break;case 5:if(Mr(u,a),_r(a),v&512&&p!==null&&Ct(p,p.return),Me){if(a.flags&32){var S=a.stateNode;try{kl(S)}catch(ke){jt(a,a.return,ke)}}if(v&4&&(S=a.stateNode,S!=null)){var T=a.memoizedProps;if(p=p!==null?p.memoizedProps:T,v=a.type,u=a.updateQueue,a.updateQueue=null,u!==null)try{nm(S,u,v,p,T,a)}catch(ke){jt(a,a.return,ke)}}}break;case 6:if(Mr(u,a),_r(a),v&4&&Me){if(a.stateNode===null)throw Error(c(162));S=a.stateNode,T=a.memoizedProps,p=p!==null?p.memoizedProps:T;try{ka(S,p,T)}catch(ke){jt(a,a.return,ke)}}break;case 3:if(Mr(u,a),_r(a),v&4){if(Me&&ot&&p!==null&&p.memoizedState.isDehydrated)try{Mf(u.containerInfo)}catch(ke){jt(a,a.return,ke)}if(He){S=u.containerInfo,T=u.pendingChildren;try{Rl(S,T)}catch(ke){jt(a,a.return,ke)}}}break;case 4:if(Mr(u,a),_r(a),v&4&&He){T=a.stateNode,S=T.containerInfo,T=T.pendingChildren;try{Rl(S,T)}catch(ke){jt(a,a.return,ke)}}break;case 13:Mr(u,a),_r(a),S=a.child,S.flags&8192&&(T=S.memoizedState!==null,S.stateNode.isHidden=T,!T||S.alternate!==null&&S.alternate.memoizedState!==null||(Ho=Sn())),v&4&&$s(a);break;case 22:var O=p!==null&&p.memoizedState!==null;if(a.mode&1?(En=(p=En)||O,Mr(u,a),En=p):Mr(u,a),_r(a),v&8192){if(p=a.memoizedState!==null,(a.stateNode.isHidden=p)&&!O&&(a.mode&1)!==0)for(Te=a,v=a.child;v!==null;){for(u=Te=v;Te!==null;){O=Te;var W=O.child;switch(O.tag){case 0:case 11:case 14:case 15:Qs(4,O,O.return);break;case 1:Ct(O,O.return);var ne=O.stateNode;if(typeof ne.componentWillUnmount=="function"){var Se=O,Le=O.return;try{var Je=Se;ne.props=Je.memoizedProps,ne.state=Je.memoizedState,ne.componentWillUnmount()}catch(ke){jt(Se,Le,ke)}}break;case 5:Ct(O,O.return);break;case 22:if(O.memoizedState!==null){pu(u);continue}}W!==null?(W.return=O,Te=W):pu(u)}v=v.sibling}if(Me){e:if(v=null,Me)for(u=a;;){if(u.tag===5){if(v===null){v=u;try{S=u.stateNode,p?Sc(S):Cc(u.stateNode,u.memoizedProps)}catch(ke){jt(a,a.return,ke)}}}else if(u.tag===6){if(v===null)try{T=u.stateNode,p?_c(T):po(T,u.memoizedProps)}catch(ke){jt(a,a.return,ke)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===a)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;v===u&&(v=null),u=u.return}v===u&&(v=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:Mr(u,a),_r(a),v&4&&$s(a);break;case 21:break;default:Mr(u,a),_r(a)}}function _r(a){var u=a.flags;if(u&2){try{if(Me){e:{for(var p=a.return;p!==null;){if(rd(p)){var v=p;break e}p=p.return}throw Error(c(160))}switch(v.tag){case 5:var S=v.stateNode;v.flags&32&&(kl(S),v.flags&=-33);var T=qs(a);id(a,T,S);break;case 3:case 4:var O=v.stateNode.containerInfo,W=qs(a);Ka(a,W,O);break;default:throw Error(c(161))}}}catch(ne){jt(a,a.return,ne)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function Fo(a,u,p){Te=a,fu(a)}function fu(a,u,p){for(var v=(a.mode&1)!==0;Te!==null;){var S=Te,T=S.child;if(S.tag===22&&v){var O=S.memoizedState!==null||Do;if(!O){var W=S.alternate,ne=W!==null&&W.memoizedState!==null||En;W=Do;var Se=En;if(Do=O,(En=ne)&&!Se)for(Te=S;Te!==null;)O=Te,ne=O.child,O.tag===22&&O.memoizedState!==null?mu(S):ne!==null?(ne.return=O,Te=ne):mu(S);for(;T!==null;)Te=T,fu(T),T=T.sibling;Te=S,Do=W,En=Se}hu(a)}else(S.subtreeFlags&8772)!==0&&T!==null?(T.return=S,Te=T):hu(a)}}function hu(a){for(;Te!==null;){var u=Te;if((u.flags&8772)!==0){var p=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:En||jo(5,u);break;case 1:var v=u.stateNode;if(u.flags&4&&!En)if(p===null)v.componentDidMount();else{var S=u.elementType===u.type?p.memoizedProps:vr(u.type,p.memoizedProps);v.componentDidUpdate(S,p.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var T=u.updateQueue;T!==null&&Zf(u,T,v);break;case 3:var O=u.updateQueue;if(O!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=ie(u.child.stateNode);break;case 1:p=u.child.stateNode}Zf(u,O,p)}break;case 5:var W=u.stateNode;p===null&&u.flags&4&&Ra(W,u.type,u.memoizedProps,u);break;case 6:break;case 4:break;case 12:break;case 13:if(ot&&u.memoizedState===null){var ne=u.alternate;if(ne!==null){var Se=ne.memoizedState;if(Se!==null){var Le=Se.dehydrated;Le!==null&&If(Le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(c(163))}En||u.flags&512&&cu(u)}catch(Je){jt(u,u.return,Je)}}if(u===a){Te=null;break}if(p=u.sibling,p!==null){p.return=u.return,Te=p;break}Te=u.return}}function pu(a){for(;Te!==null;){var u=Te;if(u===a){Te=null;break}var p=u.sibling;if(p!==null){p.return=u.return,Te=p;break}Te=u.return}}function mu(a){for(;Te!==null;){var u=Te;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{jo(4,u)}catch(ne){jt(u,p,ne)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var S=u.return;try{v.componentDidMount()}catch(ne){jt(u,S,ne)}}var T=u.return;try{cu(u)}catch(ne){jt(u,T,ne)}break;case 5:var O=u.return;try{cu(u)}catch(ne){jt(u,O,ne)}}}catch(ne){jt(u,u.return,ne)}if(u===a){Te=null;break}var W=u.sibling;if(W!==null){W.return=u.return,Te=W;break}Te=u.return}}var Pi=0,Zn=1,ii=2,zo=3,Ja=4;if(typeof Symbol=="function"&&Symbol.for){var Cr=Symbol.for;Pi=Cr("selector.component"),Zn=Cr("selector.has_pseudo_class"),ii=Cr("selector.role"),zo=Cr("selector.test_id"),Ja=Cr("selector.text")}function si(a){var u=Dn(a);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(c(364));return u}if(a=fo(a),a===null)throw Error(c(362));return a.stateNode.current}function el(a,u){switch(u.$$typeof){case Pi:if(a.type===u.value)return!0;break;case Zn:e:{u=u.value,a=[a,0];for(var p=0;p<a.length;){var v=a[p++],S=a[p++],T=u[S];if(v.tag!==5||!ho(v)){for(;T!=null&&el(v,T);)S++,T=u[S];if(S===u.length){u=!0;break e}else for(v=v.child;v!==null;)a.push(v,S),v=v.sibling}}u=!1}return u;case ii:if(a.tag===5&&_f(a.stateNode,u.value))return!0;break;case Ja:if((a.tag===5||a.tag===6)&&(a=Sf(a),a!==null&&0<=a.indexOf(u.value)))return!0;break;case zo:if(a.tag===5&&(a=a.memoizedProps["data-testname"],typeof a=="string"&&a.toLowerCase()===u.value.toLowerCase()))return!0;break;default:throw Error(c(365))}return!1}function gu(a){switch(a.$$typeof){case Pi:return"<"+(H(a.value)||"Unknown")+">";case Zn:return":has("+(gu(a)||"")+")";case ii:return'[role="'+a.value+'"]';case Ja:return'"'+a.value+'"';case zo:return'[data-testname="'+a.value+'"]';default:throw Error(c(365))}}function oi(a,u){var p=[];a=[a,0];for(var v=0;v<a.length;){var S=a[v++],T=a[v++],O=u[T];if(S.tag!==5||!ho(S)){for(;O!=null&&el(S,O);)T++,O=u[T];if(T===u.length)p.push(S);else for(S=S.child;S!==null;)a.push(S,T),S=S.sibling}}return p}function ai(a,u){if(!mi)throw Error(c(363));a=si(a),a=oi(a,u),u=[],a=Array.from(a);for(var p=0;p<a.length;){var v=a[p++];if(v.tag===5)ho(v)||u.push(v.stateNode);else for(v=v.child;v!==null;)a.push(v),v=v.sibling}return u}var yu=Math.ceil,tl=d.ReactCurrentDispatcher,Bo=d.ReactCurrentOwner,Xt=d.ReactCurrentBatchConfig,nt=0,kt=null,Ut=null,Jt=0,pn=0,as=bn(0),Ht=0,Go=null,Ti=0,At=0,Uo=0,Xs=null,Bn=null,Ho=0,nl=1/0,Jn=null;function Tt(){nl=Sn()+500}var Yt=!1,an=null,Hr=null,ls=!1,Ir=null,vu=0,ln=0,rl=null,Vo=-1,Wo=0;function Dt(){return(nt&6)!==0?Sn():Vo!==-1?Vo:Vo=Sn()}function mn(a){return(a.mode&1)===0?1:(nt&2)!==0&&Jt!==0?Jt&-Jt:hm.transition!==null?(Wo===0&&(Wo=Dl()),Wo):(a=dt,a!==0?a:co())}function Gn(a,u,p,v){if(50<ln)throw ln=0,rl=null,Error(c(185));kr(a,p,v),((nt&2)===0||a!==kt)&&(a===kt&&((nt&2)===0&&(At|=p),Ht===4&&bi(a,Jt)),Un(a,v),p===1&&nt===0&&(u.mode&1)===0&&(Tt(),Eo&&kn()))}function Un(a,u){var p=a.callbackNode;zf(a,u);var v=wo(a,a===kt?Jt:0);if(v===0)p!==null&&Bf(p),a.callbackNode=null,a.callbackPriority=0;else if(u=v&-v,a.callbackPriority!==u){if(p!=null&&Bf(p),u===1)a.tag===0?Uf(sd.bind(null,a)):Gl(sd.bind(null,a)),wf?yc(function(){(nt&6)===0&&kn()}):Jr(jl,kn),p=null;else{switch(_o(v)){case 1:p=jl;break;case 4:p=Fl;break;case 16:p=zl;break;case 536870912:p=fm;break;default:p=zl}p=fd(p,xu.bind(null,a))}a.callbackPriority=u,a.callbackNode=p}}function xu(a,u){if(Vo=-1,Wo=0,(nt&6)!==0)throw Error(c(327));var p=a.callbackNode;if(ki()&&a.callbackNode!==p)return null;var v=wo(a,a===kt?Jt:0);if(v===0)return null;if((v&30)!==0||(v&a.expiredLanes)!==0||u)u=Ys(a,v);else{u=v;var S=nt;nt|=2;var T=ad();(kt!==a||Jt!==u)&&(Jn=null,Tt(),us(a,u));do try{ld();break}catch(W){Qo(a,W)}while(!0);Lc(),tl.current=T,nt=S,Ut!==null?u=0:(kt=null,Jt=0,u=Ht)}if(u!==0){if(u===2&&(S=Ll(a),S!==0&&(v=S,u=wu(a,S))),u===1)throw p=Go,us(a,0),bi(a,v),Un(a,Sn()),p;if(u===6)bi(a,v);else{if(S=a.current.alternate,(v&30)===0&&!ch(S)&&(u=Ys(a,v),u===2&&(T=Ll(a),T!==0&&(v=T,u=wu(a,T))),u===1))throw p=Go,us(a,0),bi(a,v),Un(a,Sn()),p;switch(a.finishedWork=S,a.finishedLanes=v,u){case 0:case 1:throw Error(c(345));case 2:cs(a,Bn,Jn);break;case 3:if(bi(a,v),(v&130023424)===v&&(u=Ho+500-Sn(),10<u)){if(wo(a,0)!==0)break;if(S=a.suspendedLanes,(S&v)!==v){Dt(),a.pingedLanes|=a.suspendedLanes&S;break}a.timeoutHandle=be(cs.bind(null,a,Bn,Jn),u);break}cs(a,Bn,Jn);break;case 4:if(bi(a,v),(v&4194240)===v)break;for(u=a.eventTimes,S=-1;0<v;){var O=31-hr(v);T=1<<O,O=u[O],O>S&&(S=O),v&=~T}if(v=S,v=Sn()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*yu(v/1960))-v,10<v){a.timeoutHandle=be(cs.bind(null,a,Bn,Jn),v);break}cs(a,Bn,Jn);break;case 5:cs(a,Bn,Jn);break;default:throw Error(c(329))}}}return Un(a,Sn()),a.callbackNode===p?xu.bind(null,a):null}function wu(a,u){var p=Xs;return a.current.memoizedState.isDehydrated&&(us(a,u).flags|=256),a=Ys(a,u),a!==2&&(u=Bn,Bn=p,u!==null&&Su(u)),a}function Su(a){Bn===null?Bn=a:Bn.push.apply(Bn,a)}function ch(a){for(var u=a;;){if(u.flags&16384){var p=u.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var v=0;v<p.length;v++){var S=p[v],T=S.getSnapshot;S=S.value;try{if(!jr(T(),S))return!1}catch{return!1}}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function bi(a,u){for(u&=~Uo,u&=~At,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var p=31-hr(u),v=1<<p;a[p]=-1,u&=~v}}function sd(a){if((nt&6)!==0)throw Error(c(327));ki();var u=wo(a,0);if((u&1)===0)return Un(a,Sn()),null;var p=Ys(a,u);if(a.tag!==0&&p===2){var v=Ll(a);v!==0&&(u=v,p=wu(a,v))}if(p===1)throw p=Go,us(a,0),bi(a,u),Un(a,Sn()),p;if(p===6)throw Error(c(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,cs(a,Bn,Jn),Un(a,Sn()),null}function od(a){Ir!==null&&Ir.tag===0&&(nt&6)===0&&ki();var u=nt;nt|=1;var p=Xt.transition,v=dt;try{if(Xt.transition=null,dt=1,a)return a()}finally{dt=v,Xt.transition=p,nt=u,(nt&6)===0&&kn()}}function _u(){pn=as.current,Ot(as)}function us(a,u){a.finishedWork=null,a.finishedLanes=0;var p=a.timeoutHandle;if(p!==Ze&&(a.timeoutHandle=Ze,Ue(p)),Ut!==null)for(p=Ut.return;p!==null;){var v=p;switch(ja(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Ts();break;case 3:Ms(),Ot(sr),Ot(jn),Gc();break;case 5:zc(v);break;case 4:Ms();break;case 13:Ot(qt);break;case 19:Ot(qt);break;case 10:za(v.type._context);break;case 22:case 23:_u()}p=p.return}if(kt=a,Ut=a=ds(a.current,null),Jt=pn=u,Ht=0,Go=null,Uo=At=Ti=0,Bn=Xs=null,$i!==null){for(u=0;u<$i.length;u++)if(p=$i[u],v=p.interleaved,v!==null){p.interleaved=null;var S=v.next,T=p.pending;if(T!==null){var O=T.next;T.next=S,v.next=O}p.pending=v}$i=null}return a}function Qo(a,u){do{var p=Ut;try{if(Lc(),lr.current=zs,No){for(var v=Bt.memoizedState;v!==null;){var S=v.queue;S!==null&&(S.pending=null),v=v.next}No=!1}if(Zi=0,fn=on=Bt=null,Ga=!1,Ua=0,Bo.current=null,p===null||p.return===null){Ht=1,Go=u,Ut=null;break}e:{var T=a,O=p.return,W=p,ne=u;if(u=Jt,W.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var Se=ne,Le=W,Je=Le.tag;if((Le.mode&1)===0&&(Je===0||Je===11||Je===15)){var ke=Le.alternate;ke?(Le.updateQueue=ke.updateQueue,Le.memoizedState=ke.memoizedState,Le.lanes=ke.lanes):(Le.updateQueue=null,Le.memoizedState=null)}var Mt=oh(O);if(Mt!==null){Mt.flags&=-257,ts(Mt,O,W,T,u),Mt.mode&1&&sh(T,Se,u),u=Mt,ne=Se;var Et=u.updateQueue;if(Et===null){var er=new Set;er.add(ne),u.updateQueue=er}else Et.add(ne);break e}else{if((u&1)===0){sh(T,Se,u),qo();break e}ne=Error(c(426))}}else if(Lt&&W.mode&1){var li=oh(O);if(li!==null){(li.flags&65536)===0&&(li.flags|=256),ts(li,O,W,T,u),Ic(Bs(ne,W));break e}}T=ne=Bs(ne,W),Ht!==4&&(Ht=2),Xs===null?Xs=[T]:Xs.push(T),T=O;do{switch(T.tag){case 3:T.flags|=65536,u&=-u,T.lanes|=u;var ee=ti(T,ne,u);ko(T,ee);break e;case 1:W=ne;var q=T.type,oe=T.stateNode;if((T.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Hr===null||!Hr.has(oe)))){T.flags|=65536,u&=-u,T.lanes|=u;var Ne=ou(T,W,u);ko(T,Ne);break e}}T=T.return}while(T!==null)}cd(p)}catch(Ge){u=Ge,Ut===p&&p!==null&&(Ut=p=p.return);continue}break}while(!0)}function ad(){var a=tl.current;return tl.current=zs,a===null?zs:a}function qo(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),kt===null||(Ti&268435455)===0&&(At&268435455)===0||bi(kt,Jt)}function Ys(a,u){var p=nt;nt|=2;var v=ad();(kt!==a||Jt!==u)&&(Jn=null,us(a,u));do try{dh();break}catch(S){Qo(a,S)}while(!0);if(Lc(),nt=p,tl.current=v,Ut!==null)throw Error(c(261));return kt=null,Jt=0,Ht}function dh(){for(;Ut!==null;)ud(Ut)}function ld(){for(;Ut!==null&&!Gf();)ud(Ut)}function ud(a){var u=gh(a.alternate,a,pn);a.memoizedProps=a.pendingProps,u===null?cd(a):Ut=u,Bo.current=null}function cd(a){var u=a;do{var p=u.alternate;if(a=u.return,(u.flags&32768)===0){if(p=Ws(p,u,pn),p!==null){Ut=p;return}}else{if(p=lh(p,u),p!==null){p.flags&=32767,Ut=p;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Ht=6,Ut=null;return}}if(u=u.sibling,u!==null){Ut=u;return}Ut=u=a}while(u!==null);Ht===0&&(Ht=5)}function cs(a,u,p){var v=dt,S=Xt.transition;try{Xt.transition=null,dt=1,fh(a,u,p,v)}finally{Xt.transition=S,dt=v}return null}function fh(a,u,p,v){do ki();while(Ir!==null);if((nt&6)!==0)throw Error(c(327));p=a.finishedWork;var S=a.finishedLanes;if(p===null)return null;if(a.finishedWork=null,a.finishedLanes=0,p===a.current)throw Error(c(177));a.callbackNode=null,a.callbackPriority=0;var T=p.lanes|p.childLanes;if(Wi(a,T),a===kt&&(Ut=kt=null,Jt=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||ls||(ls=!0,fd(zl,function(){return ki(),null})),T=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||T){T=Xt.transition,Xt.transition=null;var O=dt;dt=1;var W=nt;nt|=4,Bo.current=null,uh(a,p),Za(p,a),ce(a.containerInfo),a.current=p,Fo(p),Oa(),nt=W,dt=O,Xt.transition=T}else a.current=p;if(ls&&(ls=!1,Ir=a,vu=S),T=a.pendingLanes,T===0&&(Hr=null),Co(p.stateNode),Un(a,Sn()),u!==null)for(v=a.onRecoverableError,p=0;p<u.length;p++)S=u[p],v(S.value,{componentStack:S.stack,digest:S.digest});if(Yt)throw Yt=!1,a=an,an=null,a;return(vu&1)!==0&&a.tag!==0&&ki(),T=a.pendingLanes,(T&1)!==0?a===rl?ln++:(ln=0,rl=a):ln=0,kn(),null}function ki(){if(Ir!==null){var a=_o(vu),u=Xt.transition,p=dt;try{if(Xt.transition=null,dt=16>a?16:a,Ir===null)var v=!1;else{if(a=Ir,Ir=null,vu=0,(nt&6)!==0)throw Error(c(331));var S=nt;for(nt|=4,Te=a.current;Te!==null;){var T=Te,O=T.child;if((Te.flags&16)!==0){var W=T.deletions;if(W!==null){for(var ne=0;ne<W.length;ne++){var Se=W[ne];for(Te=Se;Te!==null;){var Le=Te;switch(Le.tag){case 0:case 11:case 15:Qs(8,Le,T)}var Je=Le.child;if(Je!==null)Je.return=Le,Te=Je;else for(;Te!==null;){Le=Te;var ke=Le.sibling,Mt=Le.return;if(Ya(Le),Le===Se){Te=null;break}if(ke!==null){ke.return=Mt,Te=ke;break}Te=Mt}}}var Et=T.alternate;if(Et!==null){var er=Et.child;if(er!==null){Et.child=null;do{var li=er.sibling;er.sibling=null,er=li}while(er!==null)}}Te=T}}if((T.subtreeFlags&2064)!==0&&O!==null)O.return=T,Te=O;else e:for(;Te!==null;){if(T=Te,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:Qs(9,T,T.return)}var ee=T.sibling;if(ee!==null){ee.return=T.return,Te=ee;break e}Te=T.return}}var q=a.current;for(Te=q;Te!==null;){O=Te;var oe=O.child;if((O.subtreeFlags&2064)!==0&&oe!==null)oe.return=O,Te=oe;else e:for(O=q;Te!==null;){if(W=Te,(W.flags&2048)!==0)try{switch(W.tag){case 0:case 11:case 15:jo(9,W)}}catch(Ge){jt(W,W.return,Ge)}if(W===O){Te=null;break e}var Ne=W.sibling;if(Ne!==null){Ne.return=W.return,Te=Ne;break e}Te=W.return}}if(nt=S,kn(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(Qi,a)}catch{}v=!0}return v}finally{dt=p,Xt.transition=u}}return!1}function dd(a,u,p){u=Bs(p,u),u=ti(a,u,1),a=Si(a,u,1),u=Dt(),a!==null&&(kr(a,1,u),Un(a,u))}function jt(a,u,p){if(a.tag===3)dd(a,a,p);else for(;u!==null;){if(u.tag===3){dd(u,a,p);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Hr===null||!Hr.has(v))){a=Bs(p,a),a=ou(u,a,1),u=Si(u,a,1),a=Dt(),u!==null&&(kr(u,1,a),Un(u,a));break}}u=u.return}}function hh(a,u,p){var v=a.pingCache;v!==null&&v.delete(u),u=Dt(),a.pingedLanes|=a.suspendedLanes&p,kt===a&&(Jt&p)===p&&(Ht===4||Ht===3&&(Jt&130023424)===Jt&&500>Sn()-Ho?us(a,0):Uo|=p),Un(a,u)}function ph(a,u){u===0&&((a.mode&1)===0?u=1:(u=Ia,Ia<<=1,(Ia&130023424)===0&&(Ia=4194304)));var p=Dt();a=Gr(a,u),a!==null&&(kr(a,u,p),Un(a,p))}function mh(a){var u=a.memoizedState,p=0;u!==null&&(p=u.retryLane),ph(a,p)}function gm(a,u){var p=0;switch(a.tag){case 13:var v=a.stateNode,S=a.memoizedState;S!==null&&(p=S.retryLane);break;case 19:v=a.stateNode;break;default:throw Error(c(314))}v!==null&&v.delete(u),ph(a,p)}var gh;gh=function(a,u,p){if(a!==null)if(a.memoizedProps!==u.pendingProps||sr.current)hn=!0;else{if((a.lanes&p)===0&&(u.flags&128)===0)return hn=!1,rs(a,u,p);hn=(a.flags&131072)!==0}else hn=!1,Lt&&(u.flags&1048576)!==0&&Hf(u,bs,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;Xa(a,u),a=u.pendingProps;var S=yi(u,jn.current);bo(u,p),S=Ha(null,u,v,a,S,p);var T=Kl();return u.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,wn(v)?(T=!0,vo(u)):T=!1,u.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,jc(u),S.updater=Qa,u.stateNode=S,S._reactInternals=u,ei(u,v,a,p),u=Fn(null,u,v,!0,T,p)):(u.tag=0,Lt&&T&&Da(u),Cn(null,u,S,p),u=u.child),u;case 16:v=u.elementType;e:{switch(Xa(a,u),a=u.pendingProps,S=v._init,v=S(v._payload),u.type=v,S=u.tag=ym(v),a=vr(v,a),S){case 0:u=ni(null,u,v,a,p);break e;case 1:u=An(null,u,v,a,p);break e;case 11:u=au(null,u,v,a,p);break e;case 14:u=Gs(null,u,v,vr(v.type,a),p);break e}throw Error(c(306,v,""))}return u;case 0:return v=u.type,S=u.pendingProps,S=u.elementType===v?S:vr(v,S),ni(a,u,v,S,p);case 1:return v=u.type,S=u.pendingProps,S=u.elementType===v?S:vr(v,S),An(a,u,v,S,p);case 3:e:{if(ns(u),a===null)throw Error(c(387));v=u.pendingProps,T=u.memoizedState,S=T.element,Kf(a,u),Xi(u,v,null,p);var O=u.memoizedState;if(v=O.element,ot&&T.isDehydrated)if(T={element:v,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},u.updateQueue.baseState=T,u.memoizedState=T,u.flags&256){S=Bs(Error(c(423)),u),u=Us(a,u,v,p,S);break e}else if(v!==S){S=Bs(Error(c(424)),u),u=Us(a,u,v,p,S);break e}else for(ot&&($n=sm(u.stateNode.containerInfo),Rn=u,Lt=!0,Br=null,Fa=!1),p=Xf(u,null,v,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(ks(),v===S){u=Ei(a,u,p);break e}Cn(a,u,v,p)}u=u.child}return u;case 5:return Fc(u),a===null&&Mc(u),v=u.type,S=u.pendingProps,T=a!==null?a.memoizedProps:null,O=S.children,tt(v,S)?O=null:T!==null&&tt(v,T)&&(u.flags|=32),bt(a,u),Cn(a,u,O,p),u.child;case 6:return a===null&&Mc(u),null;case 13:return td(a,u,p);case 4:return Xl(u,u.stateNode.containerInfo),v=u.pendingProps,a===null?u.child=Ns(u,null,v,p):Cn(a,u,v,p),u.child;case 11:return v=u.type,S=u.pendingProps,S=u.elementType===v?S:vr(v,S),au(a,u,v,S,p);case 7:return Cn(a,u,u.pendingProps,p),u.child;case 8:return Cn(a,u,u.pendingProps.children,p),u.child;case 12:return Cn(a,u,u.pendingProps.children,p),u.child;case 10:e:{if(v=u.type._context,S=u.pendingProps,T=u.memoizedProps,O=S.value,Yf(u,v,O),T!==null)if(jr(T.value,O)){if(T.children===S.children&&!sr.current){u=Ei(a,u,p);break e}}else for(T=u.child,T!==null&&(T.return=u);T!==null;){var W=T.dependencies;if(W!==null){O=T.child;for(var ne=W.firstContext;ne!==null;){if(ne.context===v){if(T.tag===1){ne=wi(-1,p&-p),ne.tag=2;var Se=T.updateQueue;if(Se!==null){Se=Se.shared;var Le=Se.pending;Le===null?ne.next=ne:(ne.next=Le.next,Le.next=ne),Se.pending=ne}}T.lanes|=p,ne=T.alternate,ne!==null&&(ne.lanes|=p),As(T.return,p,u),W.lanes|=p;break}ne=ne.next}}else if(T.tag===10)O=T.type===u.type?null:T.child;else if(T.tag===18){if(O=T.return,O===null)throw Error(c(341));O.lanes|=p,W=O.alternate,W!==null&&(W.lanes|=p),As(O,p,u),O=T.sibling}else O=T.child;if(O!==null)O.return=T;else for(O=T;O!==null;){if(O===u){O=null;break}if(T=O.sibling,T!==null){T.return=O.return,O=T;break}O=O.return}T=O}Cn(a,u,S.children,p),u=u.child}return u;case 9:return S=u.type,v=u.pendingProps.children,bo(u,p),S=mr(S),v=v(S),u.flags|=1,Cn(a,u,v,p),u.child;case 14:return v=u.type,S=vr(v,u.pendingProps),S=vr(v.type,S),Gs(a,u,v,S,p);case 15:return Ci(a,u,u.type,u.pendingProps,p);case 17:return v=u.type,S=u.pendingProps,S=u.elementType===v?S:vr(v,S),Xa(a,u),u.tag=1,wn(v)?(a=!0,vo(u)):a=!1,bo(u,p),ih(u,v,S),ei(u,v,S,p),Fn(null,u,v,!0,a,p);case 19:return uu(a,u,p);case 22:return Nt(a,u,p)}throw Error(c(156,u.tag))};function fd(a,u){return Jr(a,u)}function yh(a,u,p,v){this.tag=a,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(a,u,p,v){return new yh(a,u,p,v)}function $o(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ym(a){if(typeof a=="function")return $o(a)?1:0;if(a!=null){if(a=a.$$typeof,a===P)return 11;if(a===I)return 14}return 2}function ds(a,u){var p=a.alternate;return p===null?(p=Er(a.tag,u,a.key,a.mode),p.elementType=a.elementType,p.type=a.type,p.stateNode=a.stateNode,p.alternate=a,a.alternate=p):(p.pendingProps=u,p.type=a.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=a.flags&14680064,p.childLanes=a.childLanes,p.lanes=a.lanes,p.child=a.child,p.memoizedProps=a.memoizedProps,p.memoizedState=a.memoizedState,p.updateQueue=a.updateQueue,u=a.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=a.sibling,p.index=a.index,p.ref=a.ref,p}function Cu(a,u,p,v,S,T){var O=2;if(v=a,typeof a=="function")$o(a)&&(O=1);else if(typeof a=="string")O=5;else e:switch(a){case y:return Mn(p.children,S,T,u);case w:O=8,S|=8;break;case _:return a=Er(12,p,u,S|2),a.elementType=_,a.lanes=T,a;case N:return a=Er(13,p,u,S),a.elementType=N,a.lanes=T,a;case M:return a=Er(19,p,u,S),a.elementType=M,a.lanes=T,a;case D:return Xo(p,S,T,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case k:O=10;break e;case R:O=9;break e;case P:O=11;break e;case I:O=14;break e;case L:O=16,v=null;break e}throw Error(c(130,a==null?a:typeof a,""))}return u=Er(O,p,u,S),u.elementType=a,u.type=v,u.lanes=T,u}function Mn(a,u,p,v){return a=Er(7,a,v,u),a.lanes=p,a}function Xo(a,u,p,v){return a=Er(22,a,v,u),a.elementType=D,a.lanes=p,a.stateNode={isHidden:!1},a}function Yo(a,u,p){return a=Er(6,a,null,u),a.lanes=p,a}function Eu(a,u,p){return u=Er(4,a.children!==null?a.children:[],a.key,u),u.lanes=p,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function vh(a,u,p,v,S){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ze,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=So(0),this.expirationTimes=So(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=So(0),this.identifierPrefix=v,this.onRecoverableError=S,ot&&(this.mutableSourceEagerHydrationData=null)}function hd(a,u,p,v,S,T,O,W,ne){return a=new vh(a,u,p,W,ne),u===1?(u=1,T===!0&&(u|=8)):u=0,T=Er(3,null,null,u),a.current=T,T.stateNode=a,T.memoizedState={element:v,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},jc(T),a}function Pu(a){if(!a)return Vi;a=a._reactInternals;e:{if(re(a)!==a||a.tag!==1)throw Error(c(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(wn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(c(171))}if(a.tag===1){var p=a.type;if(wn(p))return jf(a,p,u)}return u}function Ks(a){var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(c(188)):(a=Object.keys(a).join(","),Error(c(268,a)));return a=ae(u),a===null?null:a.stateNode}function Tu(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var p=a.retryLane;a.retryLane=p!==0&&p<u?p:u}}function Ko(a,u){Tu(a,u),(a=a.alternate)&&Tu(a,u)}function vm(a){return a=ae(a),a===null?null:a.stateNode}function xh(){return null}return t.attemptContinuousHydration=function(a){if(a.tag===13){var u=Gr(a,134217728);if(u!==null){var p=Dt();Gn(u,a,134217728,p)}Ko(a,134217728)}},t.attemptDiscreteHydration=function(a){if(a.tag===13){var u=Gr(a,1);if(u!==null){var p=Dt();Gn(u,a,1,p)}Ko(a,1)}},t.attemptHydrationAtCurrentPriority=function(a){if(a.tag===13){var u=mn(a),p=Gr(a,u);if(p!==null){var v=Dt();Gn(p,a,u,v)}Ko(a,u)}},t.attemptSynchronousHydration=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var p=xo(u.pendingLanes);p!==0&&(Zr(u,p|1),Un(u,Sn()),(nt&6)===0&&(Tt(),kn()))}break;case 13:od(function(){var v=Gr(a,1);if(v!==null){var S=Dt();Gn(v,a,1,S)}}),Ko(a,1)}},t.batchedUpdates=function(a,u){var p=nt;nt|=1;try{return a(u)}finally{nt=p,nt===0&&(Tt(),Eo&&kn())}},t.createComponentSelector=function(a){return{$$typeof:Pi,value:a}},t.createContainer=function(a,u,p,v,S,T,O){return hd(a,u,!1,null,p,v,S,T,O)},t.createHasPseudoClassSelector=function(a){return{$$typeof:Zn,value:a}},t.createHydrationContainer=function(a,u,p,v,S,T,O,W,ne){return a=hd(p,v,!0,a,S,T,O,W,ne),a.context=Pu(null),p=a.current,v=Dt(),S=mn(p),T=wi(v,S),T.callback=u??null,Si(p,T,S),a.current.lanes=S,kr(a,S,v),Un(a,v),a},t.createPortal=function(a,u,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:g,key:v==null?null:""+v,children:a,containerInfo:u,implementation:p}},t.createRoleSelector=function(a){return{$$typeof:ii,value:a}},t.createTestNameSelector=function(a){return{$$typeof:zo,value:a}},t.createTextSelector=function(a){return{$$typeof:Ja,value:a}},t.deferredUpdates=function(a){var u=dt,p=Xt.transition;try{return Xt.transition=null,dt=16,a()}finally{dt=u,Xt.transition=p}},t.discreteUpdates=function(a,u,p,v,S){var T=dt,O=Xt.transition;try{return Xt.transition=null,dt=1,a(u,p,v,S)}finally{dt=T,Xt.transition=O,nt===0&&Tt()}},t.findAllNodes=ai,t.findBoundingRects=function(a,u){if(!mi)throw Error(c(363));u=ai(a,u),a=[];for(var p=0;p<u.length;p++)a.push(vc(u[p]));for(u=a.length-1;0<u;u--){p=a[u];for(var v=p.x,S=v+p.width,T=p.y,O=T+p.height,W=u-1;0<=W;W--)if(u!==W){var ne=a[W],Se=ne.x,Le=Se+ne.width,Je=ne.y,ke=Je+ne.height;if(v>=Se&&T>=Je&&S<=Le&&O<=ke){a.splice(u,1);break}else if(v!==Se||p.width!==ne.width||ke<T||Je>O){if(!(T!==Je||p.height!==ne.height||Le<v||Se>S)){Se>v&&(ne.width+=Se-v,ne.x=v),Le<S&&(ne.width=S-Se),a.splice(u,1);break}}else{Je>T&&(ne.height+=Je-T,ne.y=T),ke<O&&(ne.height=O-Je),a.splice(u,1);break}}}return a},t.findHostInstance=Ks,t.findHostInstanceWithNoPortals=function(a){return a=ve(a),a=a!==null?se(a):null,a===null?null:a.stateNode},t.findHostInstanceWithWarning=function(a){return Ks(a)},t.flushControlled=function(a){var u=nt;nt|=1;var p=Xt.transition,v=dt;try{Xt.transition=null,dt=1,a()}finally{dt=v,Xt.transition=p,nt=u,nt===0&&(Tt(),kn())}},t.flushPassiveEffects=ki,t.flushSync=od,t.focusWithin=function(a,u){if(!mi)throw Error(c(363));for(a=si(a),u=oi(a,u),u=Array.from(u),a=0;a<u.length;){var p=u[a++];if(!ho(p)){if(p.tag===5&&Cf(p.stateNode))return!0;for(p=p.child;p!==null;)u.push(p),p=p.sibling}}return!1},t.getCurrentUpdatePriority=function(){return dt},t.getFindAllNodesFailureDescription=function(a,u){if(!mi)throw Error(c(363));var p=0,v=[];a=[si(a),0];for(var S=0;S<a.length;){var T=a[S++],O=a[S++],W=u[O];if((T.tag!==5||!ho(T))&&(el(T,W)&&(v.push(gu(W)),O++,O>p&&(p=O)),O<u.length))for(T=T.child;T!==null;)a.push(T,O),T=T.sibling}if(p<u.length){for(a=[];p<u.length;p++)a.push(gu(u[p]));return`findAllNodes was able to match part of the selector:
  `+(v.join(" > ")+`

No matching component was found for:
  `)+a.join(" > ")}return null},t.getPublicRootInstance=function(a){return a=a.current,a.child?a.child.tag===5?ie(a.child.stateNode):a.child.stateNode:null},t.injectIntoDevTools=function(a){if(a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:d.ReactCurrentDispatcher,findHostInstanceByFiber:vm,findFiberByHostInstance:a.findFiberByHostInstance||xh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")a=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)a=!0;else{try{Qi=u.inject(a),or=u}catch{}a=!!u.checkDCE}}return a},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(a,u,p,v){if(!mi)throw Error(c(363));a=ai(a,u);var S=xc(a,p,v).disconnect;return{disconnect:function(){S()}}},t.registerMutableSourceForHydration=function(a,u){var p=u._getVersion;p=p(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,p]:a.mutableSourceEagerHydrationData.push(u,p)},t.runWithPriority=function(a,u){var p=dt;try{return dt=a,u()}finally{dt=p}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(a,u,p,v){var S=u.current,T=Dt(),O=mn(S);return p=Pu(p),u.context===null?u.context=p:u.pendingContext=p,u=wi(T,O),u.payload={element:a},v=v===void 0?null:v,v!==null&&(u.callback=v),a=Si(S,u,O),a!==null&&(Gn(a,S,O,T),Ba(a,S,O)),O},t}),gg}var wv;function nb(){return wv||(wv=1,mg.exports=tb()),mg.exports}var rb=nb();const ib=Mp(rb);var yg={exports:{}},aa={};var Sv;function sb(){return Sv||(Sv=1,aa.ConcurrentRoot=1,aa.ContinuousEventPriority=4,aa.DefaultEventPriority=16,aa.DiscreteEventPriority=1,aa.IdleEventPriority=536870912,aa.LegacyRoot=0),aa}var _v;function ob(){return _v||(_v=1,yg.exports=sb()),yg.exports}var V5=ob();const Cv={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let Ev=!1,Pv=!1;const K0=".react-konva-event",ab=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,lb=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,ub={};function Xp(n,e,t=ub){if(!Ev&&"zIndex"in e&&(console.warn(lb),Ev=!0),!Pv&&e.draggable){var r=e.x!==void 0||e.y!==void 0,s=e.onDragEnd||e.onDragMove;r&&!s&&(console.warn(ab),Pv=!0)}for(var l in t)if(!Cv[l]){var c=l.slice(0,2)==="on",d=t[l]!==e[l];if(c&&d){var h=l.substr(2).toLowerCase();h.substr(0,7)==="content"&&(h="content"+h.substr(7,1).toUpperCase()+h.substr(8)),n.off(h,t[l])}var g=!e.hasOwnProperty(l);g&&n.setAttr(l,void 0)}var y=e._useStrictMode,w={},_=!1;const k={};for(var l in e)if(!Cv[l]){var c=l.slice(0,2)==="on",R=t[l]!==e[l];if(c&&R){var h=l.substr(2).toLowerCase();h.substr(0,7)==="content"&&(h="content"+h.substr(7,1).toUpperCase()+h.substr(8)),e[l]&&(k[h]=e[l])}!c&&(e[l]!==t[l]||y&&e[l]!==n.getAttr(l))&&(_=!0,w[l]=e[l])}_&&(n.setAttrs(w),Pa(n));for(var h in k)n.on(h+K0,k[h])}function Pa(n){if(!Pe.autoDrawEnabled){var e=n.getLayer()||n.getStage();e&&e.batchDraw()}}var vg=g0();const W5={},cb={};xl.Node.prototype._applyProps=Xp;function db(n,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}n.add(e),Pa(n)}function fb(n,e,t){let r=xl[n];r||(console.error(`Konva has no node with the type ${n}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${n}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=xl.Group);const s={},l={};for(var c in e){var d=c.slice(0,2)==="on";d?l[c]=e[c]:s[c]=e[c]}const h=new r(s);return Xp(h,l),h}function hb(n,e,t){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${n}"`)}function pb(n,e,t){return!1}function mb(n){return n}function gb(){return null}function yb(){return null}function vb(n,e,t,r){return cb}function xb(){}function wb(n){}function Sb(n,e){return!1}function _b(){return W5}function Cb(){return W5}const Eb=setTimeout,Pb=clearTimeout,Tb=-1;function bb(n,e){return!1}const kb=!1,Rb=!0,Nb=!0;function Ab(n,e){e.parent===n?e.moveToTop():n.add(e),Pa(n)}function Mb(n,e){e.parent===n?e.moveToTop():n.add(e),Pa(n)}function Q5(n,e,t){e._remove(),n.add(e),e.setZIndex(t.getZIndex()),Pa(n)}function Ib(n,e,t){Q5(n,e,t)}function Ob(n,e){e.destroy(),e.off(K0),Pa(n)}function Lb(n,e){e.destroy(),e.off(K0),Pa(n)}function Db(n,e,t){console.error(`Text components are not yet supported in ReactKonva. You text is: "${t}"`)}function jb(n,e,t){}function Fb(n,e,t,r,s){Xp(n,s,r)}function zb(n){n.hide(),Pa(n)}function Bb(n){}function Gb(n,e){(e.visible==null||e.visible)&&n.show()}function Ub(n,e){}function Hb(n){}function Vb(){}const Wb=()=>V5.DefaultEventPriority,Qb=Object.freeze(Object.defineProperty({__proto__:null,appendChild:Ab,appendChildToContainer:Mb,appendInitialChild:db,cancelTimeout:Pb,clearContainer:Hb,commitMount:jb,commitTextUpdate:Db,commitUpdate:Fb,createInstance:fb,createTextInstance:hb,detachDeletedInstance:Vb,finalizeInitialChildren:pb,getChildHostContext:Cb,getCurrentEventPriority:Wb,getPublicInstance:mb,getRootHostContext:_b,hideInstance:zb,hideTextInstance:Bb,idlePriority:vg.unstable_IdlePriority,insertBefore:Q5,insertInContainerBefore:Ib,isPrimaryRenderer:kb,noTimeout:Tb,now:vg.unstable_now,prepareForCommit:gb,preparePortalMount:yb,prepareUpdate:vb,removeChild:Ob,removeChildFromContainer:Lb,resetAfterCommit:xb,resetTextContent:wb,run:vg.unstable_runWithPriority,scheduleTimeout:Eb,shouldDeprioritizeSubtree:Sb,shouldSetTextContent:bb,supportsMutation:Nb,unhideInstance:Gb,unhideTextInstance:Ub,warnsIfNotActing:Rb},Symbol.toStringTag,{value:"Module"}));var qb=Object.defineProperty,$b=Object.defineProperties,Xb=Object.getOwnPropertyDescriptors,Tv=Object.getOwnPropertySymbols,Yb=Object.prototype.hasOwnProperty,Kb=Object.prototype.propertyIsEnumerable,bv=(n,e,t)=>e in n?qb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,kv=(n,e)=>{for(var t in e||(e={}))Yb.call(e,t)&&bv(n,t,e[t]);if(Tv)for(var t of Tv(e))Kb.call(e,t)&&bv(n,t,e[t]);return n},Zb=(n,e)=>$b(n,Xb(e)),Rv,Nv;typeof window<"u"&&((Rv=window.document)!=null&&Rv.createElement||((Nv=window.navigator)==null?void 0:Nv.product)==="ReactNative")?b.useLayoutEffect:b.useEffect;function q5(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=n.child;for(;r;){const s=q5(r,e,t);if(s)return s;r=r.sibling}}function $5(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const Av=console.error;console.error=function(){const n=[...arguments].join("");if(n?.startsWith("Warning:")&&n.includes("useContext")){console.error=Av;return}return Av.apply(this,arguments)};const Z0=$5(b.createContext(null));class X5 extends b.Component{render(){return b.createElement(Z0.Provider,{value:this._reactInternals},this.props.children)}}function Jb(){const n=b.useContext(Z0);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=b.useId();return b.useMemo(()=>{for(const r of[n,n?.alternate]){if(!r)continue;const s=q5(r,!1,l=>{let c=l.memoizedState;for(;c;){if(c.memoizedState===e)return!0;c=c.next}});if(s)return s}},[n,e])}function ek(){const n=Jb(),[e]=b.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const s=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;s&&s!==Z0&&!e.has(s)&&e.set(s,b.useContext($5(s)))}t=t.return}return e}function tk(){const n=ek();return b.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>b.createElement(e,null,b.createElement(t.Provider,Zb(kv({},r),{value:n.get(t)}))),e=>b.createElement(X5,kv({},e))),[n])}function nk(n){const e=nn.useRef({});return nn.useLayoutEffect(()=>{e.current=n}),nn.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const rk=n=>{const e=nn.useRef(null),t=nn.useRef(null),r=nn.useRef(null),s=nk(n),l=tk(),c=d=>{const{forwardedRef:h}=n;h&&(typeof h=="function"?h(d):h.current=d)};return nn.useLayoutEffect(()=>(t.current=new xl.Stage({width:n.width,height:n.height,container:e.current}),c(t.current),r.current=jd.createContainer(t.current,V5.LegacyRoot,!1,null),jd.updateContainer(nn.createElement(l,{},n.children),r.current),()=>{xl.isBrowser&&(c(null),jd.updateContainer(null,r.current,null),t.current.destroy())}),[]),nn.useLayoutEffect(()=>{c(t.current),Xp(t.current,n,s),jd.updateContainer(nn.createElement(l,{},n.children),r.current,null)}),nn.createElement("div",{ref:e,id:n.id,accessKey:n.accessKey,className:n.className,role:n.role,style:n.style,tabIndex:n.tabIndex,title:n.title})},ik="Layer",sk="Group",Mv="Image",jd=ib(Qb);jd.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:nn.version,rendererPackageName:"react-konva"});const ok=nn.forwardRef((n,e)=>nn.createElement(X5,{},nn.createElement(rk,{...n,forwardedRef:e})));var xg,Iv;function ak(){if(Iv)return xg;Iv=1;var n=uc();return xg=function(t,r,s){const l=n.useRef("loading"),c=n.useRef(),[d,h]=n.useState(0),g=n.useRef(),y=n.useRef(),w=n.useRef();return(g.current!==t||y.current!==r||w.current!==s)&&(l.current="loading",c.current=void 0,g.current=t,y.current=r,w.current=s),n.useLayoutEffect(function(){if(!t)return;var _=document.createElement("img");function k(){_.decode().catch(()=>{}).finally(()=>{l.current="loaded",c.current=_,h(Math.random())})}function R(){l.current="failed",c.current=void 0,h(Math.random())}return _.addEventListener("load",k),_.addEventListener("error",R),r&&(_.crossOrigin=r),s&&(_.referrerPolicy=s),_.src=t,function(){_.removeEventListener("load",k),_.removeEventListener("error",R)}},[t,r,s]),[c.current,l.current]},xg}var lk=ak();const uk=Mp(lk);class ck{constructor(){this.originalImageData=null,this.width=0,this.height=0,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d",{willReadFrequently:!0})}async loadImage(e){return new Promise((t,r)=>{const s=new Image;s.crossOrigin="anonymous",s.onload=()=>{this.width=s.width,this.height=s.height,this.canvas.width=this.width,this.canvas.height=this.height,this.ctx.drawImage(s,0,0),this.originalImageData=this.ctx.getImageData(0,0,this.width,this.height),t()},s.onerror=r,s.src=e})}process(e){if(!this.originalImageData)throw new Error("No image loaded");const t=new ImageData(new Uint8ClampedArray(this.originalImageData.data),this.width,this.height),{dimensions:r}=e;return this.applyTemporalSpatial(t,r.temporalSpatial),this.applyMaterialSpiritual(t,r.materialSpiritual),this.applyLightRevelation(t,r.lightRevelation),this.applyGazePsychology(t,r.gazePsychology),this.applyHistoricalConstraints(t,r.historicalConstraints,e.meta.artist),this.applyFinition(t,r.finition),t}applyTemporalSpatial(e,t){const r=t.master/100;if(r!==0){if(t.timelessFrozen>0){const s=t.timelessFrozen/100*r;this.applyBilateralFilter(e,s*2.5,s*25),this.applyToneCurve(e.data,.03*s,"highlights")}if(t.atmosphericDuration>0){const s=t.atmosphericDuration/100*r;this.applyAtmosphericPerspective(e,s*.15),this.applyFilmGrain(e.data,s*6,.7)}if(t.dramaticMoment>0){const s=t.dramaticMoment/100*r;this.applySCurveContrast(e.data,s*.4),this.applyLocalContrast(e,s*.3)}if(t.motionBlur>0){const s=t.motionBlur/100*r;this.applyDirectionalBlur(e,s*3,0)}if(t.timeIndication>0){const s=t.timeIndication/100*r;this.applyToneCurve(e.data,s*.05,"midtones")}if(t.atmosphericIndication>0){const s=t.atmosphericIndication/100*r;this.applyAtmosphericPerspective(e,s*.08)}if(t.depthPrecision>0){const s=t.depthPrecision/100*r;this.applyUnsharpMask(e,s*.8,1.2)}}}applyMaterialSpiritual(e,t){const r=t.master/100;if(r!==0){if(t.divineThroughMaterial>0){const s=t.divineThroughMaterial/100*r;this.applyOrtonEffect(e,s*.25),this.applyHighlightBloom(e,s*.15)}if(t.materialAsExpansion>0){const s=t.materialAsExpansion/100*r;this.applyTextureEnhancement(e,s*.3),this.applyFilmGrain(e.data,s*12,.5)}if(t.materialPrecision>0){const s=t.materialPrecision/100*r;this.applyHighPassSharpening(e,s*.4),this.applyLocalContrast(e,s*.2)}if(t.spiritualSymbolism>0){const s=t.spiritualSymbolism/100*r;this.applyToneCurve(e.data,s*.08,"highlights")}if(t.surfacePerfection>0){const s=t.surfacePerfection/100*r;this.applyBilateralFilter(e,s*2,s*20)}if(t.detailAsRevelation>0){const s=t.detailAsRevelation/100*r;this.applyFrequencySeparation(e,s*.3,"high")}}}applyLightRevelation(e,t){const r=t.master/100;if(r!==0){if(t.lightAsDivineProof>0){const s=t.lightAsDivineProof/100*r;this.applyToneCurve(e.data,s*.2,"highlights"),this.applyHighlightBloom(e,s*.2),this.applyShadowRecovery(e.data,s*.15)}if(t.lightAsDramaticTools>0){const s=t.lightAsDramaticTools/100*r;this.applySCurveContrast(e.data,s*.5),this.applyShadowCrush(e.data,s*.25),this.applyRadialVignette(e,s*.3,.7)}if(t.shadowSoftness>0){const s=t.shadowSoftness/100*r;this.applyShadowRecovery(e.data,s*.2)}if(t.reflectionSubtlety>0){const s=t.reflectionSubtlety/100*r;this.applySpecularEnhancement(e.data,s*.15)}if(t.lightSymbolism>0){const s=t.lightSymbolism/100*r;this.applyToneCurve(e.data,s*.1,"midtones")}}}applyGazePsychology(e,t){const r=t.master/100;if(r!==0){if(t.microscopicScrutiny>0){const s=t.microscopicScrutiny/100*r;this.applyUnsharpMask(e,s*1.2,.8),this.applyLocalContrast(e,s*.35)}if(t.emotionalImmersion>0){const s=t.emotionalImmersion/100*r;this.applyOrtonEffect(e,s*.2),this.applyFilmGrain(e.data,s*8,.6)}if(t.dramaticOrchestration>0){const s=t.dramaticOrchestration/100*r;this.applySCurveContrast(e.data,s*.4),this.applyRadialVignette(e,s*.25,.6)}if(t.loopCompleteness>0){const s=t.loopCompleteness/100*r;this.applyRadialVignette(e,s*.15,.8)}if(t.transitionSmoothness>0){const s=t.transitionSmoothness/100*r;this.applyBilateralFilter(e,s*1.5,s*15)}if(t.discoveryDensity>0){const s=t.discoveryDensity/100*r;this.applyLocalContrast(e,s*.2)}if(t.hypnoticQuality>0){const s=t.hypnoticQuality/100*r;this.applyOrtonEffect(e,s*.15),this.applyToneCurve(e.data,s*.05,"midtones")}}}applyHistoricalConstraints(e,t,r){const s=t.fidelity/100*(t.master/100);if(s===0)return;const l={GOLDEN_AGE:{shadows:[5,3,-5],midtones:[8,5,-3],highlights:[3,2,0],grain:4},BAROQUE:{shadows:[8,2,-8],midtones:[5,2,-4],highlights:[2,1,-2],grain:6},HIGH_RENAISSANCE:{shadows:[3,2,-3],midtones:[4,3,-2],highlights:[2,2,0],grain:3},EARLY_RENAISSANCE:{shadows:[4,3,-4],midtones:[5,4,-2],highlights:[3,2,0],grain:5},EXPRESSIONISM_MID_20TH:{shadows:[2,-1,-3],midtones:[0,0,-2],highlights:[0,0,0],grain:8},MODERN:{shadows:[0,0,0],midtones:[0,0,0],highlights:[0,0,0],grain:0},CONTEMPORARY:{shadows:[0,0,0],midtones:[0,0,0],highlights:[0,0,0],grain:0}},c=l[t.period]||l.CONTEMPORARY;(c.shadows[0]!==0||c.shadows[1]!==0||c.shadows[2]!==0)&&this.applyThreeWayColorGrade(e.data,c.shadows,c.midtones,c.highlights,s),c.grain>0&&this.applyFilmGrain(e.data,c.grain*s,.6)}applyFinition(e,t){const r=t.master/100;if(r!==0){if(t.masterLustre>0){const s=t.masterLustre/100*r;this.applyVibranceBoost(e.data,s*.25),this.applyMicroContrast(e.data,s*.15)}if(t.finalGlow>0){const s=t.finalGlow/100*r;this.applyHighlightBloom(e,s*.12),this.applyToneCurve(e.data,s*.06,"highlights")}this.applyRadialVignette(e,.06,.85)}}applyBilateralFilter(e,t,r){const s=e.data,l=e.width,c=e.height,d=Math.ceil(t*2),h=new Uint8ClampedArray(s.length);for(let g=0;g<c;g++)for(let y=0;y<l;y++){const w=(g*l+y)*4;let _=0,k=0,R=0,P=0;for(let N=-d;N<=d;N++)for(let M=-d;M<=d;M++){const I=Math.min(Math.max(y+M,0),l-1),D=(Math.min(Math.max(g+N,0),c-1)*l+I)*4,z=Math.sqrt(M*M+N*N),U=Math.sqrt(Math.pow(s[w]-s[D],2)+Math.pow(s[w+1]-s[D+1],2)+Math.pow(s[w+2]-s[D+2],2)),H=Math.exp(-z/(2*t*t))*Math.exp(-U/(2*r*r));_+=s[D]*H,k+=s[D+1]*H,R+=s[D+2]*H,P+=H}h[w]=_/P,h[w+1]=k/P,h[w+2]=R/P,h[w+3]=s[w+3]}s.set(h)}applyUnsharpMask(e,t,r){const s=e.data,l=e.width,c=e.height,d=this.gaussianBlur(s,l,c,r);for(let h=0;h<s.length;h+=4)s[h]=Math.min(255,Math.max(0,s[h]+(s[h]-d[h])*t)),s[h+1]=Math.min(255,Math.max(0,s[h+1]+(s[h+1]-d[h+1])*t)),s[h+2]=Math.min(255,Math.max(0,s[h+2]+(s[h+2]-d[h+2])*t))}gaussianBlur(e,t,r,s){const l=new Uint8ClampedArray(e.length),c=Math.ceil(s*3),d=this.createGaussianKernel(c,s),h=new Uint8ClampedArray(e.length);for(let g=0;g<r;g++)for(let y=0;y<t;y++){let w=0,_=0,k=0,R=0;for(let N=-c;N<=c;N++){const M=Math.min(Math.max(y+N,0),t-1),I=(g*t+M)*4,L=d[N+c];w+=e[I]*L,_+=e[I+1]*L,k+=e[I+2]*L,R+=L}const P=(g*t+y)*4;h[P]=w/R,h[P+1]=_/R,h[P+2]=k/R,h[P+3]=e[P+3]}for(let g=0;g<r;g++)for(let y=0;y<t;y++){let w=0,_=0,k=0,R=0;for(let N=-c;N<=c;N++){const I=(Math.min(Math.max(g+N,0),r-1)*t+y)*4,L=d[N+c];w+=h[I]*L,_+=h[I+1]*L,k+=h[I+2]*L,R+=L}const P=(g*t+y)*4;l[P]=w/R,l[P+1]=_/R,l[P+2]=k/R,l[P+3]=h[P+3]}return l}createGaussianKernel(e,t){const r=[];for(let s=-e;s<=e;s++)r.push(Math.exp(-(s*s)/(2*t*t)));return r}applySCurveContrast(e,t){for(let r=0;r<e.length;r+=4)for(let s=0;s<3;s++){const l=e[r+s]/255,c=l<.5?.5*Math.pow(2*l,1+t):1-.5*Math.pow(2*(1-l),1+t);e[r+s]=Math.min(255,Math.max(0,c*255))}}applyToneCurve(e,t,r){for(let s=0;s<e.length;s+=4){const l=(e[s]*.299+e[s+1]*.587+e[s+2]*.114)/255;let c=0;r==="shadows"&&l<.33?c=(.33-l)/.33:r==="midtones"&&l>=.25&&l<=.75?c=1-Math.abs(l-.5)*4:r==="highlights"&&l>.67&&(c=(l-.67)/.33);const d=1+t*c;e[s]=Math.min(255,e[s]*d),e[s+1]=Math.min(255,e[s+1]*d),e[s+2]=Math.min(255,e[s+2]*d)}}applyLocalContrast(e,t){const r=e.data,s=e.width,l=e.height,c=this.gaussianBlur(r,s,l,15);for(let d=0;d<r.length;d+=4)for(let h=0;h<3;h++){const g=r[d+h]-c[d+h];r[d+h]=Math.min(255,Math.max(0,r[d+h]+g*t))}}applyRadialVignette(e,t,r){const s=e.data,l=e.width,c=e.height,d=l/2,h=c/2,g=Math.sqrt(d*d+h*h);for(let y=0;y<c;y++)for(let w=0;w<l;w++){const _=(y*l+w)*4,k=Math.sqrt((w-d)**2+(y-h)**2)/g,R=r;if(k>R){const P=1-(k-R)/(1-R)*t;s[_]*=P,s[_+1]*=P,s[_+2]*=P}}}applyOrtonEffect(e,t){const r=e.data,s=e.width,l=e.height,c=new Uint8ClampedArray(r.length);for(let h=0;h<r.length;h+=4)c[h]=Math.min(255,r[h]*1.5),c[h+1]=Math.min(255,r[h+1]*1.5),c[h+2]=Math.min(255,r[h+2]*1.5),c[h+3]=r[h+3];const d=this.gaussianBlur(c,s,l,8);for(let h=0;h<r.length;h+=4)r[h]=Math.min(255,r[h]*(1-t)+r[h]*d[h]/255*t),r[h+1]=Math.min(255,r[h+1]*(1-t)+r[h+1]*d[h+1]/255*t),r[h+2]=Math.min(255,r[h+2]*(1-t)+r[h+2]*d[h+2]/255*t)}applyHighlightBloom(e,t){const r=e.data,s=e.width,l=e.height,c=new Uint8ClampedArray(r.length);for(let h=0;h<r.length;h+=4){const g=(r[h]+r[h+1]+r[h+2])/3;if(g>200){const y=(g-200)/55;c[h]=r[h]*y,c[h+1]=r[h+1]*y,c[h+2]=r[h+2]*y}c[h+3]=255}const d=this.gaussianBlur(c,s,l,12);for(let h=0;h<r.length;h+=4)r[h]=Math.min(255,r[h]+d[h]*t),r[h+1]=Math.min(255,r[h+1]+d[h+1]*t),r[h+2]=Math.min(255,r[h+2]+d[h+2]*t)}applyFilmGrain(e,t,r){for(let s=0;s<e.length;s+=4){const l=(e[s]*.299+e[s+1]*.587+e[s+2]*.114)/255,c=t*(.3+.7*(1-l)),d=(Math.random()-.5)*c,h=(Math.random()-.5)*c,g=(Math.random()-.5)*c,y=(d+h+g)/3;e[s]=Math.min(255,Math.max(0,e[s]+y*(1-r)+d*r)),e[s+1]=Math.min(255,Math.max(0,e[s+1]+y*(1-r)+h*r)),e[s+2]=Math.min(255,Math.max(0,e[s+2]+y*(1-r)+g*r))}}applyAtmosphericPerspective(e,t){const r=e.data,s=200,l=205,c=215;for(let d=0;d<r.length;d+=4){const h=(r[d]*.299+r[d+1]*.587+r[d+2]*.114)/255,g=t*(1-h*.6);r[d]=r[d]*(1-g)+s*g,r[d+1]=r[d+1]*(1-g)+l*g,r[d+2]=r[d+2]*(1-g)+c*g}}applyTextureEnhancement(e,t){this.applyHighPassSharpening(e,t),this.applyMicroContrast(e.data,t*.5)}applyHighPassSharpening(e,t){const r=e.data,s=e.width,l=e.height,c=this.gaussianBlur(r,s,l,3);for(let d=0;d<r.length;d+=4)for(let h=0;h<3;h++){const g=r[d+h]-c[d+h]+128,y=g<128?2*r[d+h]*g/255:255-2*(255-r[d+h])*(255-g)/255;r[d+h]=Math.min(255,Math.max(0,r[d+h]*(1-t)+y*t))}}applyFrequencySeparation(e,t,r){const s=e.data,l=e.width,c=e.height,d=this.gaussianBlur(s,l,c,5);if(r==="high")for(let h=0;h<s.length;h+=4)for(let g=0;g<3;g++){const y=(s[h+g]-d[h+g])*(1+t);s[h+g]=Math.min(255,Math.max(0,d[h+g]+y))}}applyShadowRecovery(e,t){for(let r=0;r<e.length;r+=4){const s=(e[r]*.299+e[r+1]*.587+e[r+2]*.114)/255;if(s<.4){const l=(.4-s)/.4,c=1+t*l;e[r]=Math.min(255,e[r]*c),e[r+1]=Math.min(255,e[r+1]*c),e[r+2]=Math.min(255,e[r+2]*c)}}}applyShadowCrush(e,t){for(let r=0;r<e.length;r+=4){const s=(e[r]*.299+e[r+1]*.587+e[r+2]*.114)/255;if(s<.3){const l=(.3-s)/.3,c=1-t*l*.5;e[r]=Math.max(0,e[r]*c),e[r+1]=Math.max(0,e[r+1]*c),e[r+2]=Math.max(0,e[r+2]*c)}}}applySpecularEnhancement(e,t){for(let r=0;r<e.length;r+=4){const s=Math.max(e[r],e[r+1],e[r+2]);if(s>220){const l=(s-220)/35*t;e[r]=Math.min(255,e[r]+l*15),e[r+1]=Math.min(255,e[r+1]+l*15),e[r+2]=Math.min(255,e[r+2]+l*15)}}}applyDirectionalBlur(e,t,r){const s=e.data,l=e.width,c=e.height,d=Math.ceil(t*2),h=Math.cos(r),g=Math.sin(r),y=new Uint8ClampedArray(s.length);for(let w=0;w<c;w++)for(let _=0;_<l;_++){const k=(w*l+_)*4;let R=0,P=0,N=0,M=0;for(let I=-d;I<=d;I++){const L=Math.round(_+I*h*t*.5),D=Math.round(w+I*g*t*.5);if(L>=0&&L<l&&D>=0&&D<c){const z=(D*l+L)*4;R+=s[z],P+=s[z+1],N+=s[z+2],M++}}y[k]=R/M,y[k+1]=P/M,y[k+2]=N/M,y[k+3]=s[k+3]}s.set(y)}applyMicroContrast(e,t){for(let r=0;r<e.length;r+=4){const l=(e[r]+e[r+1]+e[r+2])/3-128,c=1+t*(Math.abs(l)/128);e[r]=Math.min(255,Math.max(0,128+(e[r]-128)*c)),e[r+1]=Math.min(255,Math.max(0,128+(e[r+1]-128)*c)),e[r+2]=Math.min(255,Math.max(0,128+(e[r+2]-128)*c))}}applyVibranceBoost(e,t){for(let r=0;r<e.length;r+=4){const s=Math.max(e[r],e[r+1],e[r+2]),l=Math.min(e[r],e[r+1],e[r+2]),c=s>0?(s-l)/s:0,d=1+t*(1-c),h=(e[r]+e[r+1]+e[r+2])/3;e[r]=Math.min(255,Math.max(0,h+(e[r]-h)*d)),e[r+1]=Math.min(255,Math.max(0,h+(e[r+1]-h)*d)),e[r+2]=Math.min(255,Math.max(0,h+(e[r+2]-h)*d))}}applyThreeWayColorGrade(e,t,r,s,l){for(let c=0;c<e.length;c+=4){const d=(e[c]*.299+e[c+1]*.587+e[c+2]*.114)/255;let h=d<.33?(.33-d)/.33:0,g=d<.33?d/.33:d>.67?(1-d)/.33:1,y=d>.67?(d-.67)/.33:0;const w=h+g+y;h/=w,g/=w,y/=w,e[c]=Math.min(255,Math.max(0,e[c]+(t[0]*h+r[0]*g+s[0]*y)*l)),e[c+1]=Math.min(255,Math.max(0,e[c+1]+(t[1]*h+r[1]*g+s[1]*y)*l)),e[c+2]=Math.min(255,Math.max(0,e[c+2]+(t[2]*h+r[2]*g+s[2]*y)*l))}}getDimensions(){return{width:this.width,height:this.height}}}function dk({imageUrl:n,config:e,width:t,height:r,onRef:s}){const[l,c]=uk(n,"anonymous"),d=b.useRef(null),h=b.useRef(null),g=b.useRef(null);b.useEffect(()=>{s&&s({current:d.current,getProcessedImage:()=>h.current,getProcessedImageData:()=>g.current})},[s,d.current,h.current]);const[y,w]=b.useState({w:0,h:0,scale:1}),[_,k]=b.useState(null),[R,P]=b.useState(!1),N=b.useRef(null);b.useEffect(()=>{if(l&&t>0&&r>0){const D=Math.min(t/l.width,r/l.height);w({w:l.width*D,h:l.height*D,scale:D})}},[l,t,r]);const M=b.useCallback(async()=>{if(!(!n||!l)){P(!0);try{N.current||(N.current=new ck),await N.current.loadImage(n);const D=N.current.process(e),z=document.createElement("canvas");z.width=D.width,z.height=D.height,z.getContext("2d").putImageData(D,0,0),k(z),h.current=z,g.current=D}catch(D){console.error("Processing error:",D)}finally{P(!1)}}},[n,l,e]);if(b.useEffect(()=>{const D=setTimeout(()=>{M()},100);return()=>clearTimeout(D)},[M]),c==="loading")return E.jsx("div",{className:"w-full h-full flex items-center justify-center bg-black/20 text-muted-foreground animate-pulse",children:E.jsxs("div",{className:"flex flex-col items-center gap-2",children:[E.jsx(Fg,{className:"w-8 h-8 animate-spin text-primary"}),E.jsx("span",{className:"text-xs uppercase tracking-widest font-medium",children:"Loading Canvas..."})]})});if(c==="failed")return E.jsx("div",{className:"w-full h-full flex items-center justify-center bg-destructive/10 text-destructive",children:E.jsxs("div",{className:"flex flex-col items-center gap-2",children:[E.jsx($2,{className:"w-8 h-8"}),E.jsx("span",{className:"text-xs uppercase tracking-widest font-medium",children:"Failed to load image"})]})});const I=(t-y.w)/2,L=(r-y.h)/2;return E.jsxs("div",{className:"relative",children:[R&&E.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm",children:E.jsxs("div",{className:"flex flex-col items-center gap-2 text-white",children:[E.jsx(Fg,{className:"w-6 h-6 animate-spin"}),E.jsx("span",{className:"text-xs uppercase tracking-widest",children:"Processing DNA..."})]})}),E.jsx(ok,{width:t,height:r,ref:d,className:"bg-[#0c0d12]",children:E.jsx(ik,{children:E.jsx(sk,{children:_?E.jsx(Mv,{image:_,x:I,y:L,width:y.w,height:y.h,listening:!1,perfectDrawEnabled:!1}):E.jsx(Mv,{image:l,x:I,y:L,width:y.w,height:y.h})})})})]})}var wg="focusScope.autoFocusOnMount",Sg="focusScope.autoFocusOnUnmount",Ov={bubbles:!1,cancelable:!0},fk="FocusScope",J0=b.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:l,...c}=n,[d,h]=b.useState(null),g=Tn(s),y=Tn(l),w=b.useRef(null),_=_t(e,P=>h(P)),k=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let P=function(L){if(k.paused||!d)return;const D=L.target;d.contains(D)?w.current=D:ca(w.current,{select:!0})},N=function(L){if(k.paused||!d)return;const D=L.relatedTarget;D!==null&&(d.contains(D)||ca(w.current,{select:!0}))},M=function(L){if(document.activeElement===document.body)for(const z of L)z.removedNodes.length>0&&ca(d)};document.addEventListener("focusin",P),document.addEventListener("focusout",N);const I=new MutationObserver(M);return d&&I.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",P),document.removeEventListener("focusout",N),I.disconnect()}}},[r,d,k.paused]),b.useEffect(()=>{if(d){Dv.add(k);const P=document.activeElement;if(!d.contains(P)){const M=new CustomEvent(wg,Ov);d.addEventListener(wg,g),d.dispatchEvent(M),M.defaultPrevented||(hk(vk(Y5(d)),{select:!0}),document.activeElement===P&&ca(d))}return()=>{d.removeEventListener(wg,g),setTimeout(()=>{const M=new CustomEvent(Sg,Ov);d.addEventListener(Sg,y),d.dispatchEvent(M),M.defaultPrevented||ca(P??document.body,{select:!0}),d.removeEventListener(Sg,y),Dv.remove(k)},0)}}},[d,g,y,k]);const R=b.useCallback(P=>{if(!t&&!r||k.paused)return;const N=P.key==="Tab"&&!P.altKey&&!P.ctrlKey&&!P.metaKey,M=document.activeElement;if(N&&M){const I=P.currentTarget,[L,D]=pk(I);L&&D?!P.shiftKey&&M===D?(P.preventDefault(),t&&ca(L,{select:!0})):P.shiftKey&&M===L&&(P.preventDefault(),t&&ca(D,{select:!0})):M===I&&P.preventDefault()}},[t,r,k.paused]);return E.jsx(st.div,{tabIndex:-1,...c,ref:_,onKeyDown:R})});J0.displayName=fk;function hk(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(ca(r,{select:e}),document.activeElement!==t)return}function pk(n){const e=Y5(n),t=Lv(e,n),r=Lv(e.reverse(),n);return[t,r]}function Y5(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Lv(n,e){for(const t of n)if(!mk(t,{upTo:e}))return t}function mk(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function gk(n){return n instanceof HTMLInputElement&&"select"in n}function ca(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&gk(n)&&e&&n.select()}}var Dv=yk();function yk(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=jv(n,e),n.unshift(e)},remove(e){n=jv(n,e),n[0]?.resume()}}}function jv(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function vk(n){return n.filter(e=>e.tagName!=="A")}var _g=0;function K5(){b.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Fv()),document.body.insertAdjacentElement("beforeend",n[1]??Fv()),_g++,()=>{_g===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),_g--}},[])}function Fv(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var hs=function(){return hs=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},hs.apply(this,arguments)};function Z5(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function xk(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,l;r<s;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return n.concat(l||Array.prototype.slice.call(e))}var up="right-scroll-bar-position",cp="width-before-scroll-bar",wk="with-scroll-bars-hidden",Sk="--removed-body-scroll-bar-size";function Cg(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function _k(n,e){var t=b.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var s=t.value;s!==r&&(t.value=r,t.callback(r,s))}}}})[0];return t.callback=e,t.facade}var Ck=typeof window<"u"?b.useLayoutEffect:b.useEffect,zv=new WeakMap;function Ek(n,e){var t=_k(null,function(r){return n.forEach(function(s){return Cg(s,r)})});return Ck(function(){var r=zv.get(t);if(r){var s=new Set(r),l=new Set(n),c=t.current;s.forEach(function(d){l.has(d)||Cg(d,null)}),l.forEach(function(d){s.has(d)||Cg(d,c)})}zv.set(t,n)},[n]),t}function Pk(n){return n}function Tk(n,e){e===void 0&&(e=Pk);var t=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(l){var c=e(l,r);return t.push(c),function(){t=t.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(r=!0;t.length;){var c=t;t=[],c.forEach(l)}t={push:function(d){return l(d)},filter:function(){return t}}},assignMedium:function(l){r=!0;var c=[];if(t.length){var d=t;t=[],d.forEach(l),c=t}var h=function(){var y=c;c=[],y.forEach(l)},g=function(){return Promise.resolve().then(h)};g(),t={push:function(y){c.push(y),g()},filter:function(y){return c=c.filter(y),t}}}};return s}function bk(n){n===void 0&&(n={});var e=Tk(null);return e.options=hs({async:!0,ssr:!1},n),e}var J5=function(n){var e=n.sideCar,t=Z5(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,hs({},t))};J5.isSideCarExport=!0;function kk(n,e){return n.useMedium(e),J5}var ew=bk(),Eg=function(){},Yp=b.forwardRef(function(n,e){var t=b.useRef(null),r=b.useState({onScrollCapture:Eg,onWheelCapture:Eg,onTouchMoveCapture:Eg}),s=r[0],l=r[1],c=n.forwardProps,d=n.children,h=n.className,g=n.removeScrollBar,y=n.enabled,w=n.shards,_=n.sideCar,k=n.noIsolation,R=n.inert,P=n.allowPinchZoom,N=n.as,M=N===void 0?"div":N,I=n.gapMode,L=Z5(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=_,z=Ek([t,e]),U=hs(hs({},L),s);return b.createElement(b.Fragment,null,y&&b.createElement(D,{sideCar:ew,removeScrollBar:g,shards:w,noIsolation:k,inert:R,setCallbacks:l,allowPinchZoom:!!P,lockRef:t,gapMode:I}),c?b.cloneElement(b.Children.only(d),hs(hs({},U),{ref:z})):b.createElement(M,hs({},U,{className:h,ref:z}),d))});Yp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yp.classNames={fullWidth:cp,zeroRight:up};var Rk=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Nk(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=Rk();return e&&n.setAttribute("nonce",e),n}function Ak(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function Mk(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var Ik=function(){var n=0,e=null;return{add:function(t){n==0&&(e=Nk())&&(Ak(e,t),Mk(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Ok=function(){var n=Ik();return function(e,t){b.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},tw=function(){var n=Ok(),e=function(t){var r=t.styles,s=t.dynamic;return n(r,s),null};return e},Lk={left:0,top:0,right:0,gap:0},Pg=function(n){return parseInt(n||"",10)||0},Dk=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[Pg(t),Pg(r),Pg(s)]},jk=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Lk;var e=Dk(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},Fk=tw(),$u="data-scroll-locked",zk=function(n,e,t,r){var s=n.left,l=n.top,c=n.right,d=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(wk,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat($u,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(up,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(cp,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(up," .").concat(up,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(cp," .").concat(cp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat($u,`] {
    `).concat(Sk,": ").concat(d,`px;
  }
`)},Bv=function(){var n=parseInt(document.body.getAttribute($u)||"0",10);return isFinite(n)?n:0},Bk=function(){b.useEffect(function(){return document.body.setAttribute($u,(Bv()+1).toString()),function(){var n=Bv()-1;n<=0?document.body.removeAttribute($u):document.body.setAttribute($u,n.toString())}},[])},Gk=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,s=r===void 0?"margin":r;Bk();var l=b.useMemo(function(){return jk(s)},[s]);return b.createElement(Fk,{styles:zk(l,!e,s,t?"":"!important")})},l0=!1;if(typeof window<"u")try{var Jh=Object.defineProperty({},"passive",{get:function(){return l0=!0,!0}});window.addEventListener("test",Jh,Jh),window.removeEventListener("test",Jh,Jh)}catch{l0=!1}var Iu=l0?{passive:!1}:!1,Uk=function(n){return n.tagName==="TEXTAREA"},nw=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Uk(n)&&t[e]==="visible")},Hk=function(n){return nw(n,"overflowY")},Vk=function(n){return nw(n,"overflowX")},Gv=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=rw(n,r);if(s){var l=iw(n,r),c=l[1],d=l[2];if(c>d)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},Wk=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},Qk=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},rw=function(n,e){return n==="v"?Hk(e):Vk(e)},iw=function(n,e){return n==="v"?Wk(e):Qk(e)},qk=function(n,e){return n==="h"&&e==="rtl"?-1:1},$k=function(n,e,t,r,s){var l=qk(n,window.getComputedStyle(e).direction),c=l*r,d=t.target,h=e.contains(d),g=!1,y=c>0,w=0,_=0;do{var k=iw(n,d),R=k[0],P=k[1],N=k[2],M=P-N-l*R;(R||M)&&rw(n,d)&&(w+=M,_+=R),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!h&&d!==document.body||h&&(e.contains(d)||e===d));return(y&&Math.abs(w)<1||!y&&Math.abs(_)<1)&&(g=!0),g},ep=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Uv=function(n){return[n.deltaX,n.deltaY]},Hv=function(n){return n&&"current"in n?n.current:n},Xk=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Yk=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},Kk=0,Ou=[];function Zk(n){var e=b.useRef([]),t=b.useRef([0,0]),r=b.useRef(),s=b.useState(Kk++)[0],l=b.useState(tw)[0],c=b.useRef(n);b.useEffect(function(){c.current=n},[n]),b.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var P=xk([n.lockRef.current],(n.shards||[]).map(Hv),!0).filter(Boolean);return P.forEach(function(N){return N.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),P.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var d=b.useCallback(function(P,N){if("touches"in P&&P.touches.length===2||P.type==="wheel"&&P.ctrlKey)return!c.current.allowPinchZoom;var M=ep(P),I=t.current,L="deltaX"in P?P.deltaX:I[0]-M[0],D="deltaY"in P?P.deltaY:I[1]-M[1],z,U=P.target,H=Math.abs(L)>Math.abs(D)?"h":"v";if("touches"in P&&H==="h"&&U.type==="range")return!1;var K=Gv(H,U);if(!K)return!0;if(K?z=H:(z=H==="v"?"h":"v",K=Gv(H,U)),!K)return!1;if(!r.current&&"changedTouches"in P&&(L||D)&&(r.current=z),!z)return!0;var re=r.current||z;return $k(re,N,P,re==="h"?L:D)},[]),h=b.useCallback(function(P){var N=P;if(!(!Ou.length||Ou[Ou.length-1]!==l)){var M="deltaY"in N?Uv(N):ep(N),I=e.current.filter(function(z){return z.name===N.type&&(z.target===N.target||N.target===z.shadowParent)&&Xk(z.delta,M)})[0];if(I&&I.should){N.cancelable&&N.preventDefault();return}if(!I){var L=(c.current.shards||[]).map(Hv).filter(Boolean).filter(function(z){return z.contains(N.target)}),D=L.length>0?d(N,L[0]):!c.current.noIsolation;D&&N.cancelable&&N.preventDefault()}}},[]),g=b.useCallback(function(P,N,M,I){var L={name:P,delta:N,target:M,should:I,shadowParent:Jk(M)};e.current.push(L),setTimeout(function(){e.current=e.current.filter(function(D){return D!==L})},1)},[]),y=b.useCallback(function(P){t.current=ep(P),r.current=void 0},[]),w=b.useCallback(function(P){g(P.type,Uv(P),P.target,d(P,n.lockRef.current))},[]),_=b.useCallback(function(P){g(P.type,ep(P),P.target,d(P,n.lockRef.current))},[]);b.useEffect(function(){return Ou.push(l),n.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:_}),document.addEventListener("wheel",h,Iu),document.addEventListener("touchmove",h,Iu),document.addEventListener("touchstart",y,Iu),function(){Ou=Ou.filter(function(P){return P!==l}),document.removeEventListener("wheel",h,Iu),document.removeEventListener("touchmove",h,Iu),document.removeEventListener("touchstart",y,Iu)}},[]);var k=n.removeScrollBar,R=n.inert;return b.createElement(b.Fragment,null,R?b.createElement(l,{styles:Yk(s)}):null,k?b.createElement(Gk,{gapMode:n.gapMode}):null)}function Jk(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const eR=kk(ew,Zk);var e1=b.forwardRef(function(n,e){return b.createElement(Yp,hs({},n,{ref:e,sideCar:eR}))});e1.classNames=Yp.classNames;var tR=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Lu=new WeakMap,tp=new WeakMap,np={},Tg=0,sw=function(n){return n&&(n.host||sw(n.parentNode))},nR=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=sw(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},rR=function(n,e,t,r){var s=nR(e,Array.isArray(n)?n:[n]);np[t]||(np[t]=new WeakMap);var l=np[t],c=[],d=new Set,h=new Set(s),g=function(w){!w||d.has(w)||(d.add(w),g(w.parentNode))};s.forEach(g);var y=function(w){!w||h.has(w)||Array.prototype.forEach.call(w.children,function(_){if(d.has(_))y(_);else try{var k=_.getAttribute(r),R=k!==null&&k!=="false",P=(Lu.get(_)||0)+1,N=(l.get(_)||0)+1;Lu.set(_,P),l.set(_,N),c.push(_),P===1&&R&&tp.set(_,!0),N===1&&_.setAttribute(t,"true"),R||_.setAttribute(r,"true")}catch(M){console.error("aria-hidden: cannot operate on ",_,M)}})};return y(e),d.clear(),Tg++,function(){c.forEach(function(w){var _=Lu.get(w)-1,k=l.get(w)-1;Lu.set(w,_),l.set(w,k),_||(tp.has(w)||w.removeAttribute(r),tp.delete(w)),k||w.removeAttribute(t)}),Tg--,Tg||(Lu=new WeakMap,Lu=new WeakMap,tp=new WeakMap,np={})}},ow=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=tR(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),rR(r,s,t,"aria-hidden")):function(){return null}},t1="Dialog",[aw]=oo(t1),[iR,Hi]=aw(t1),lw=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:s,onOpenChange:l,modal:c=!0}=n,d=b.useRef(null),h=b.useRef(null),[g=!1,y]=$d({prop:r,defaultProp:s,onChange:l});return E.jsx(iR,{scope:e,triggerRef:d,contentRef:h,contentId:Hu(),titleId:Hu(),descriptionId:Hu(),open:g,onOpenChange:y,onOpenToggle:b.useCallback(()=>y(w=>!w),[y]),modal:c,children:t})};lw.displayName=t1;var uw="DialogTrigger",cw=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Hi(uw,t),l=_t(e,s.triggerRef);return E.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":i1(s.open),...r,ref:l,onClick:qe(n.onClick,s.onOpenToggle)})});cw.displayName=uw;var n1="DialogPortal",[sR,dw]=aw(n1,{forceMount:void 0}),fw=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:s}=n,l=Hi(n1,e);return E.jsx(sR,{scope:e,forceMount:t,children:b.Children.map(r,c=>E.jsx(Bi,{present:t||l.open,children:E.jsx(Op,{asChild:!0,container:s,children:c})}))})};fw.displayName=n1;var bp="DialogOverlay",hw=b.forwardRef((n,e)=>{const t=dw(bp,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,l=Hi(bp,n.__scopeDialog);return l.modal?E.jsx(Bi,{present:r||l.open,children:E.jsx(aR,{...s,ref:e})}):null});hw.displayName=bp;var oR=tc("DialogOverlay.RemoveScroll"),aR=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Hi(bp,t);return E.jsx(e1,{as:oR,allowPinchZoom:!0,shards:[s.contentRef],children:E.jsx(st.div,{"data-state":i1(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),wl="DialogContent",pw=b.forwardRef((n,e)=>{const t=dw(wl,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,l=Hi(wl,n.__scopeDialog);return E.jsx(Bi,{present:r||l.open,children:l.modal?E.jsx(lR,{...s,ref:e}):E.jsx(uR,{...s,ref:e})})});pw.displayName=wl;var lR=b.forwardRef((n,e)=>{const t=Hi(wl,n.__scopeDialog),r=b.useRef(null),s=_t(e,t.contentRef,r);return b.useEffect(()=>{const l=r.current;if(l)return ow(l)},[]),E.jsx(mw,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(n.onCloseAutoFocus,l=>{l.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:qe(n.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:qe(n.onFocusOutside,l=>l.preventDefault())})}),uR=b.forwardRef((n,e)=>{const t=Hi(wl,n.__scopeDialog),r=b.useRef(!1),s=b.useRef(!1);return E.jsx(mw,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{n.onCloseAutoFocus?.(l),l.defaultPrevented||(r.current||t.triggerRef.current?.focus(),l.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:l=>{n.onInteractOutside?.(l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=l.target;t.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&s.current&&l.preventDefault()}})}),mw=b.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:l,...c}=n,d=Hi(wl,t),h=b.useRef(null),g=_t(e,h);return K5(),E.jsxs(E.Fragment,{children:[E.jsx(J0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:l,children:E.jsx(hf,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":i1(d.open),...c,ref:g,onDismiss:()=>d.onOpenChange(!1)})}),E.jsxs(E.Fragment,{children:[E.jsx(cR,{titleId:d.titleId}),E.jsx(fR,{contentRef:h,descriptionId:d.descriptionId})]})]})}),r1="DialogTitle",gw=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Hi(r1,t);return E.jsx(st.h2,{id:s.titleId,...r,ref:e})});gw.displayName=r1;var yw="DialogDescription",vw=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Hi(yw,t);return E.jsx(st.p,{id:s.descriptionId,...r,ref:e})});vw.displayName=yw;var xw="DialogClose",ww=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Hi(xw,t);return E.jsx(st.button,{type:"button",...r,ref:e,onClick:qe(n.onClick,()=>s.onOpenChange(!1))})});ww.displayName=xw;function i1(n){return n?"open":"closed"}var Sw="DialogTitleWarning",[XN,_w]=M3(Sw,{contentName:wl,titleName:r1,docsSlug:"dialog"}),cR=({titleId:n})=>{const e=_w(Sw),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},dR="DialogDescriptionWarning",fR=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_w(dR).contentName}}.`;return b.useEffect(()=>{const s=n.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},hR=lw,pR=cw,mR=fw,Cw=hw,Ew=pw,Pw=gw,Tw=vw,gR=ww;const Vd=hR,yR=pR,vR=mR,bw=b.forwardRef(({className:n,...e},t)=>E.jsx(Cw,{ref:t,className:mt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));bw.displayName=Cw.displayName;const Xu=b.forwardRef(({className:n,children:e,...t},r)=>E.jsxs(vR,{children:[E.jsx(bw,{}),E.jsxs(Ew,{ref:r,className:mt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,E.jsxs(gR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[E.jsx(Y2,{className:"h-4 w-4"}),E.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Xu.displayName=Ew.displayName;const Yu=({className:n,...e})=>E.jsx("div",{className:mt("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});Yu.displayName="DialogHeader";const Ku=({className:n,...e})=>E.jsx("div",{className:mt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});Ku.displayName="DialogFooter";const Zu=b.forwardRef(({className:n,...e},t)=>E.jsx(Pw,{ref:t,className:mt("text-lg font-semibold leading-none tracking-tight",n),...e}));Zu.displayName=Pw.displayName;const kw=b.forwardRef(({className:n,...e},t)=>E.jsx(Tw,{ref:t,className:mt("text-sm text-muted-foreground",n),...e}));kw.displayName=Tw.displayName;const xR=jp("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Vv({className:n,variant:e,...t}){return E.jsx("div",{className:mt(xR({variant:e}),n),...t})}var s1="Progress",o1=100,[wR]=oo(s1),[SR,_R]=wR(s1),Rw=b.forwardRef((n,e)=>{const{__scopeProgress:t,value:r=null,max:s,getValueLabel:l=CR,...c}=n;(s||s===0)&&!Wv(s)&&console.error(ER(`${s}`,"Progress"));const d=Wv(s)?s:o1;r!==null&&!Qv(r,d)&&console.error(PR(`${r}`,"Progress"));const h=Qv(r,d)?r:null,g=kp(h)?l(h,d):void 0;return E.jsx(SR,{scope:t,value:h,max:d,children:E.jsx(st.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":kp(h)?h:void 0,"aria-valuetext":g,role:"progressbar","data-state":Mw(h,d),"data-value":h??void 0,"data-max":d,...c,ref:e})})});Rw.displayName=s1;var Nw="ProgressIndicator",Aw=b.forwardRef((n,e)=>{const{__scopeProgress:t,...r}=n,s=_R(Nw,t);return E.jsx(st.div,{"data-state":Mw(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});Aw.displayName=Nw;function CR(n,e){return`${Math.round(n/e*100)}%`}function Mw(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function kp(n){return typeof n=="number"}function Wv(n){return kp(n)&&!isNaN(n)&&n>0}function Qv(n,e){return kp(n)&&!isNaN(n)&&n<=e&&n>=0}function ER(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${o1}\`.`}function PR(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${o1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Iw=Rw,TR=Aw;const Ow=b.forwardRef(({className:n,value:e,...t},r)=>E.jsx(Iw,{ref:r,className:mt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",n),...t,children:E.jsx(TR,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Ow.displayName=Iw.displayName;const bR={vermeer:{name:"Johannes Vermeer",displayName:"Vermeer",period:"17th century",periodCode:"GOLDEN_AGE",characteristics:["soft directional light","domestic interiors","cool palette","precise detail","pearl-like luminosity"],configuration:{meta:{version:"7.0.0",codename:"Psychonarrative Historical",artist:"Vermeer"},dimensions:{temporalSpatial:{archetype:"TIMELESS_FROZEN",intensity:80},materialSpiritual:{archetype:"DIVINE_THROUGH_MATERIAL",intensity:85},subjectViewer:{archetype:"INVITATION_TO_SCRUTINY",intensity:90},lightRevelation:{archetype:"LIGHT_AS_DIVINE_PROOF",intensity:95},gazePsychology:{strategy:"MICROSCOPIC_SCRUTINY",intensity:85},historicalConstraints:{period:"GOLDEN_AGE",fidelity:75}}},notes:"Fine regular cracks, medium canvas grain, subtle yellowing of whites, exceptional light quality"},caravaggio:{name:"Michelangelo Merisi da Caravaggio",displayName:"Caravaggio",period:"Late 16th - Early 17th century",periodCode:"BAROQUE",characteristics:["dramatic chiaroscuro","tenebrism","dark backgrounds","theatrical lighting","raw realism"],configuration:{meta:{version:"7.0.0",codename:"Psychonarrative Historical",artist:"Caravaggio"},dimensions:{temporalSpatial:{archetype:"DRAMATIC_MOMENT",intensity:85},materialSpiritual:{archetype:"MATERIAL_AS_EXPRESSION",intensity:70},subjectViewer:{archetype:"IMMEDIATE_EMOTIONAL_IMPACT",intensity:95},lightRevelation:{archetype:"LIGHT_AS_DRAMATIC_TOOL",intensity:90},gazePsychology:{strategy:"DRAMATIC_ORCHESTRATION",intensity:88},historicalConstraints:{period:"BAROQUE",fidelity:80}}},notes:"Deep irregular cracks, visible brushstrokes, heavy patina in blacks, stark light/shadow"},klimt:{name:"Gustav Klimt",displayName:"Klimt",period:"Late 19th - Early 20th century",periodCode:"EXPRESSIONISM_MID_20TH",characteristics:["ornamental patterns","gold leaf effects","decorative symbolism","sensual themes","Byzantine influence"],configuration:{meta:{version:"7.0.0",codename:"Psychonarrative Historical",artist:"Klimt"},dimensions:{temporalSpatial:{archetype:"TIMELESS_FROZEN",intensity:55},materialSpiritual:{archetype:"DIVINE_THROUGH_MATERIAL",intensity:45},subjectViewer:{archetype:"INVITATION_TO_SCRUTINY",intensity:75},lightRevelation:{archetype:"LIGHT_AS_DIVINE_PROOF",intensity:80},gazePsychology:{strategy:"EMOTIONAL_IMMERSION",intensity:70},historicalConstraints:{period:"EXPRESSIONISM_MID_20TH",fidelity:50}}},notes:"Oxidized gold areas, moderate aging, decorative surface texture, warm metallic tones"},turner:{name:"Joseph Mallord William Turner",displayName:"Turner",period:"19th century",periodCode:"HIGH_RENAISSANCE",characteristics:["atmospheric effects","luminous skies","dissolved forms","romantic sublime","proto-impressionism"],configuration:{meta:{version:"7.0.0",codename:"Psychonarrative Historical",artist:"Turner"},dimensions:{temporalSpatial:{archetype:"ATMOSPHERIC_DURATION",intensity:75},materialSpiritual:{archetype:"DIVINE_THROUGH_MATERIAL",intensity:40},subjectViewer:{archetype:"IMMEDIATE_EMOTIONAL_IMPACT",intensity:80},lightRevelation:{archetype:"LIGHT_AS_DIVINE_PROOF",intensity:98},gazePsychology:{strategy:"EMOTIONAL_IMMERSION",intensity:85},historicalConstraints:{period:"HIGH_RENAISSANCE",fidelity:55}}},notes:"Fine crack network, vaporized textures, high saturation in mist, extraordinary luminosity"},bacon:{name:"Francis Bacon",displayName:"Bacon",period:"20th century",periodCode:"MODERN",characteristics:["distorted figures","violent brushwork","raw emotion","existential themes","caged compositions"],configuration:{meta:{version:"7.0.0",codename:"Psychonarrative Historical",artist:"Bacon"},dimensions:{temporalSpatial:{archetype:"DRAMATIC_MOMENT",intensity:12},materialSpiritual:{archetype:"MATERIAL_AS_EXPRESSION",intensity:15},subjectViewer:{archetype:"IMMEDIATE_EMOTIONAL_IMPACT",intensity:95},lightRevelation:{archetype:"LIGHT_AS_DRAMATIC_TOOL",intensity:70},gazePsychology:{strategy:"EMOTIONAL_IMMERSION",intensity:92},historicalConstraints:{period:"MODERN",fidelity:10}}},notes:"Minimal or no cracking (modern paint), aggressive brushwork, intentional drips, raw surface"},chagall:{name:"Marc Chagall",displayName:"Chagall",period:"20th century",periodCode:"MODERN",characteristics:["dreamlike imagery","floating figures","vibrant colors","Jewish folklore","poetic surrealism"],configuration:{meta:{version:"7.0.0",codename:"Psychonarrative Historical",artist:"Chagall"},dimensions:{temporalSpatial:{archetype:"TIMELESS_FROZEN",intensity:25},materialSpiritual:{archetype:"DIVINE_THROUGH_MATERIAL",intensity:35},subjectViewer:{archetype:"INVITATION_TO_SCRUTINY",intensity:60},lightRevelation:{archetype:"LIGHT_AS_DIVINE_PROOF",intensity:88},gazePsychology:{strategy:"EMOTIONAL_IMMERSION",intensity:75},historicalConstraints:{period:"MODERN",fidelity:20}}},notes:"Light aging, vibrant color preservation, soft dreamy texture"},friedrich:{name:"Caspar David Friedrich",displayName:"Friedrich",period:"19th century",periodCode:"HIGH_RENAISSANCE",characteristics:["romantic sublime","solitary figures","atmospheric depth","spiritual nature","contemplative mood"],configuration:{meta:{version:"7.0.0",codename:"Psychonarrative Historical",artist:"Friedrich"},dimensions:{temporalSpatial:{archetype:"ATMOSPHERIC_DURATION",intensity:65},materialSpiritual:{archetype:"DIVINE_THROUGH_MATERIAL",intensity:55},subjectViewer:{archetype:"INVITATION_TO_SCRUTINY",intensity:70},lightRevelation:{archetype:"LIGHT_AS_DIVINE_PROOF",intensity:75},gazePsychology:{strategy:"EMOTIONAL_IMMERSION",intensity:80},historicalConstraints:{period:"HIGH_RENAISSANCE",fidelity:60}}},notes:"Moderate cracking, atmospheric depth, subtle vignetting, contemplative mood"},beksinski:{name:"Zdzisaw Beksiski",displayName:"Beksiski",period:"Late 20th century",periodCode:"CONTEMPORARY",characteristics:["dystopian landscapes","surreal horror","organic decay","sepia atmospheres","nightmare imagery"],configuration:{meta:{version:"7.0.0",codename:"Psychonarrative Historical",artist:"Beksinski"},dimensions:{temporalSpatial:{archetype:"ATMOSPHERIC_DURATION",intensity:8},materialSpiritual:{archetype:"MATERIAL_AS_EXPRESSION",intensity:75},subjectViewer:{archetype:"IMMEDIATE_EMOTIONAL_IMPACT",intensity:88},lightRevelation:{archetype:"LIGHT_AS_DRAMATIC_TOOL",intensity:50},gazePsychology:{strategy:"EMOTIONAL_IMMERSION",intensity:90},historicalConstraints:{period:"CONTEMPORARY",fidelity:5}}},notes:"No aging (modern acrylic), intentionally dirty look, mixed textures, otherworldly atmosphere"},rembrandt:{name:"Rembrandt van Rijn",displayName:"Rembrandt",period:"17th century",periodCode:"GOLDEN_AGE",characteristics:["chiaroscuro mastery","psychological depth","impasto technique","warm earth tones","intimate portraits"],configuration:{meta:{version:"7.0.0",codename:"Psychonarrative Historical",artist:"Rembrandt"},dimensions:{temporalSpatial:{archetype:"TIMELESS_FROZEN",intensity:85},materialSpiritual:{archetype:"MATERIAL_AS_EXPRESSION",intensity:80},subjectViewer:{archetype:"INVITATION_TO_SCRUTINY",intensity:92},lightRevelation:{archetype:"LIGHT_AS_DRAMATIC_TOOL",intensity:85},gazePsychology:{strategy:"MICROSCOPIC_SCRUTINY",intensity:90},historicalConstraints:{period:"GOLDEN_AGE",fidelity:80}}},notes:"Complex craquelure, visible impasto, deep shadows, psychological intensity"},monet:{name:"Claude Monet",displayName:"Monet",period:"Late 19th century",periodCode:"HIGH_RENAISSANCE",characteristics:["impressionist light","outdoor scenes","water reflections","color as light","plein air"],configuration:{meta:{version:"7.0.0",codename:"Psychonarrative Historical",artist:"Monet"},dimensions:{temporalSpatial:{archetype:"ATMOSPHERIC_DURATION",intensity:45},materialSpiritual:{archetype:"MATERIAL_AS_EXPRESSION",intensity:50},subjectViewer:{archetype:"IMMEDIATE_EMOTIONAL_IMPACT",intensity:65},lightRevelation:{archetype:"LIGHT_AS_DIVINE_PROOF",intensity:92},gazePsychology:{strategy:"EMOTIONAL_IMMERSION",intensity:70},historicalConstraints:{period:"HIGH_RENAISSANCE",fidelity:40}}},notes:"Light cracking, vibrant preserved colors, soft atmospheric blur, high luminosity"}},a1={masters:bR};function kR(n){const e=n.data;let t=0,r=0,s=0,l=255,c=0,d=0,h=0,g=0;const y=new Map,w=Math.floor(e.length/4/100)||1;let _=0;for(let z=0;z<e.length;z+=4*w){const U=e[z],H=e[z+1],K=e[z+2];t+=U,r+=H,s+=K;const re=.299*U+.587*H+.114*K;l=Math.min(l,re),c=Math.max(c,re),U>K+20?d++:K>U+20&&h++;const ue=Math.max(U,H,K),ve=Math.min(U,H,K),ae=ue===0?0:(ue-ve)/ue;g+=ae;const ye=`${Math.floor(U/32)}-${Math.floor(H/32)}-${Math.floor(K/32)}`,se=y.get(ye);se?se.count++:y.set(ye,{r:U,g:H,b:K,count:1}),_++}const k=t/_,R=r/_,P=s/_,N=(k+R+P)/3/255,M=(c-l)/255,I=d/(d+h+1),L=g/_,D=Array.from(y.values()).sort((z,U)=>U.count-z.count).slice(0,5).map(z=>({r:z.r,g:z.g,b:z.b}));return{brightness:N,contrast:M,warmth:I,saturation:L,dominantColors:D}}function RR(n){const e=kR(n),t=new Map,r=a1.masters;for(const[w,_]of Object.entries(r)){let k=0;const R=[];e.contrast>.7?["caravaggio","bacon","rembrandt"].includes(w)&&(k+=25,R.push("High contrast matches dramatic style")):e.contrast>.4?["vermeer","friedrich"].includes(w)&&(k+=20,R.push("Moderate contrast suitable for contemplative style")):["turner","monet"].includes(w)&&(k+=25,R.push("Soft contrast ideal for atmospheric effects")),e.warmth>.6?["caravaggio","rembrandt","klimt"].includes(w)&&(k+=20,R.push("Warm palette detected")):e.warmth<.4&&["vermeer","turner","monet","friedrich"].includes(w)&&(k+=20,R.push("Cool palette detected")),e.brightness>.6?["turner","monet","vermeer"].includes(w)&&(k+=15,R.push("High luminosity matches style")):e.brightness<.35&&["caravaggio","rembrandt","beksinski"].includes(w)&&(k+=20,R.push("Dark tones suit dramatic/dystopian style")),e.saturation>.5?["chagall","klimt","bacon"].includes(w)&&(k+=15,R.push("Vibrant colors detected")):e.saturation<.25&&["beksinski","friedrich"].includes(w)&&(k+=15,R.push("Muted tones detected")),e.dominantColors.some(M=>M.r>180&&M.g>140&&M.g<200&&M.b<100)&&w==="klimt"&&(k+=20,R.push("Golden tones detected")),e.dominantColors.some(M=>M.r>M.b+30&&M.g>M.b&&M.r<180)&&w==="beksinski"&&(k+=15,R.push("Sepia/decay tones detected")),t.set(w,{score:k,reasons:R})}const s=Array.from(t.entries()).sort((w,_)=>_[1].score-w[1].score),l=s[0],c=85,d=Math.min(95,Math.round(l[1].score/c*100)),h=s.slice(1,4).map(([w,_])=>({master:w,confidence:Math.min(90,Math.round(_.score/c*100))})),g=r[l[0]],y=l[1].reasons.length>0?l[1].reasons.slice(0,2).join(". "):`Style characteristics match ${g?.displayName||l[0]}`;return{suggestedMaster:l[0],confidence:d,reasoning:y,alternatives:h}}function bg(n){return a1.masters[n]||null}function NR(){const n=a1.masters;return Object.entries(n).map(([e,t])=>({id:e,preset:t}))}function AR({isOpen:n,onClose:e,detectionResult:t,onApplyPreset:r,onManualSelect:s}){const[l,c]=b.useState(!1);if(!t)return null;const d=bg(t.suggestedMaster);if(!d)return null;const h=()=>{c(!0),setTimeout(()=>{r(d.configuration,d.displayName),c(!1),e()},300)},g=y=>{const w=bg(y);w&&(r(w.configuration,w.displayName),e())};return E.jsx(Vd,{open:n,onOpenChange:e,children:E.jsxs(Xu,{className:"sm:max-w-md","data-testid":"modal-master-detection",children:[E.jsxs(Yu,{children:[E.jsxs(Zu,{className:"flex items-center gap-2",children:[E.jsx(X2,{className:"w-5 h-5 text-primary"}),"Style Detection - Step 0"]}),E.jsx(kw,{children:"Analysis complete. Optimal finishing parameters detected."})]}),E.jsxs("div",{className:"space-y-4 py-4",children:[E.jsxs("div",{className:"p-4 rounded-lg bg-primary/10 border border-primary/20",children:[E.jsxs("div",{className:"flex items-center justify-between mb-2",children:[E.jsx("span",{className:"text-sm font-medium",children:"Suggested Master"}),E.jsxs(Vv,{variant:"secondary",className:"text-xs",children:[t.confidence,"% match"]})]}),E.jsx("h3",{className:"text-xl font-bold text-primary",children:d.displayName}),E.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:d.period}),E.jsx("div",{className:"mt-3",children:E.jsx(Ow,{value:t.confidence,className:"h-2"})}),E.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:t.reasoning})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Characteristics"}),E.jsx("div",{className:"flex flex-wrap gap-1",children:d.characteristics.slice(0,4).map((y,w)=>E.jsx(Vv,{variant:"outline",className:"text-xs",children:y},w))})]}),t.alternatives.length>0&&E.jsxs("div",{className:"space-y-2",children:[E.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Alternatives"}),E.jsx("div",{className:"space-y-1",children:t.alternatives.map(y=>{const w=bg(y.master);return E.jsxs("button",{onClick:()=>g(y.master),className:"w-full flex items-center justify-between p-2 rounded-md hover-elevate text-left text-sm","data-testid":`button-alt-${y.master}`,children:[E.jsx("span",{children:w?.displayName||y.master}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("span",{className:"text-xs text-muted-foreground",children:[y.confidence,"%"]}),E.jsx(P_,{className:"w-4 h-4 text-muted-foreground"})]})]},y.master)})})]})]}),E.jsxs(Ku,{className:"flex flex-col sm:flex-row gap-2",children:[E.jsxs(vn,{variant:"outline",onClick:s,className:"flex-1","data-testid":"button-manual-select",children:[E.jsx(A_,{className:"w-4 h-4 mr-2"}),"Manual"]}),E.jsx(vn,{onClick:h,disabled:l,className:"flex-1","data-testid":"button-apply-preset",children:l?E.jsx("span",{className:"animate-pulse",children:"Applying..."}):E.jsxs(E.Fragment,{children:[E.jsx(R0,{className:"w-4 h-4 mr-2"}),"Apply ",d.displayName]})})]})]})})}function MR({imageData:n,width:e=256,height:t=80}){const r=b.useRef(null),s=b.useMemo(()=>{if(!n)return null;const l=new Array(256).fill(0),c=new Array(256).fill(0),d=new Array(256).fill(0),h=new Array(256).fill(0),g=n.data;for(let P=0;P<g.length;P+=4){l[g[P]]++,c[g[P+1]]++,d[g[P+2]]++;const N=Math.round(g[P]*.299+g[P+1]*.587+g[P+2]*.114);h[N]++}const y=Math.max(...l),w=Math.max(...c),_=Math.max(...d),k=Math.max(...h),R=Math.max(y,w,_,k);return{r:l,g:c,b:d,lum:h,maxVal:R}},[n]);return b.useEffect(()=>{const l=r.current;if(!l||!s)return;const c=l.getContext("2d");c.clearRect(0,0,e,t);const{r:d,g:h,b:g,lum:y,maxVal:w}=s,_=e/256;c.globalCompositeOperation="screen",c.fillStyle="rgba(255, 255, 255, 0.3)";for(let k=0;k<256;k++){const R=y[k]/w*t;c.fillRect(k*_,t-R,_,R)}c.fillStyle="rgba(255, 80, 80, 0.5)";for(let k=0;k<256;k++){const R=d[k]/w*t;c.fillRect(k*_,t-R,_,R)}c.fillStyle="rgba(80, 255, 80, 0.5)";for(let k=0;k<256;k++){const R=h[k]/w*t;c.fillRect(k*_,t-R,_,R)}c.fillStyle="rgba(80, 80, 255, 0.5)";for(let k=0;k<256;k++){const R=g[k]/w*t;c.fillRect(k*_,t-R,_,R)}c.globalCompositeOperation="source-over",c.strokeStyle="rgba(0, 255, 255, 0.3)",c.lineWidth=1,c.strokeRect(0,0,e,t)},[s,e,t]),n?E.jsx("canvas",{ref:r,width:e,height:t,className:"rounded",style:{background:"rgba(0,0,0,0.5)"},"data-testid":"histogram-canvas"}):E.jsx("div",{className:"flex items-center justify-center text-muted-foreground text-xs",style:{width:e,height:t,background:"rgba(0,0,0,0.3)",borderRadius:"4px"},children:"Aucune image"})}function IR({beforeImage:n,afterCanvas:e,width:t,height:r}){const[s,l]=b.useState(50),[c,d]=b.useState(!1),h=b.useRef(null),g=b.useRef(null),y=b.useRef(null);b.useEffect(()=>{if(!n||!g.current)return;const R=g.current,P=R.getContext("2d"),N=new Image;N.crossOrigin="anonymous",N.onload=()=>{R.width=t,R.height=r;const M=Math.min(t/N.width,r/N.height),I=N.width*M,L=N.height*M,D=(t-I)/2,z=(r-L)/2;P.fillStyle="#0a0a12",P.fillRect(0,0,t,r),P.drawImage(N,D,z,I,L)},N.src=n},[n,t,r]),b.useEffect(()=>{if(!e||!y.current)return;const R=y.current;R.width=t,R.height=r;const P=R.getContext("2d");P.fillStyle="#0a0a12",P.fillRect(0,0,t,r);const N=Math.min(t/e.width,r/e.height),M=e.width*N,I=e.height*N,L=(t-M)/2,D=(r-I)/2;P.drawImage(e,L,D,M,I)},[e,t,r]);const w=b.useCallback(R=>{if(!c||!h.current)return;const P=h.current.getBoundingClientRect(),N=R.clientX-P.left,M=Math.max(0,Math.min(100,N/P.width*100));l(M)},[c]),_=b.useCallback(()=>{d(!0)},[]),k=b.useCallback(()=>{d(!1)},[]);return b.useEffect(()=>{if(c)return window.addEventListener("mousemove",w),window.addEventListener("mouseup",k),()=>{window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",k)}},[c,w,k]),!n||!e?E.jsx("div",{className:"flex items-center justify-center text-muted-foreground",style:{width:t,height:r,background:"rgba(0,0,0,0.3)",borderRadius:"8px"},children:"Chargez une image pour la comparaison"}):E.jsxs("div",{ref:h,className:"relative overflow-hidden rounded-lg cursor-ew-resize select-none",style:{width:t,height:r},onMouseMove:w,"data-testid":"before-after-slider",children:[E.jsx("canvas",{ref:y,className:"absolute inset-0",style:{width:t,height:r}}),E.jsx("div",{className:"absolute inset-0 overflow-hidden",style:{width:`${s}%`},children:E.jsx("canvas",{ref:g,style:{width:t,height:r}})}),E.jsx("div",{className:"absolute top-0 bottom-0 w-1 bg-cyan-400 cursor-ew-resize z-10",style:{left:`${s}%`,transform:"translateX(-50%)"},onMouseDown:_,children:E.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-cyan-400 flex items-center justify-center shadow-lg",children:E.jsxs("div",{className:"flex gap-0.5",children:[E.jsx("div",{className:"w-0.5 h-4 bg-black rounded-full"}),E.jsx("div",{className:"w-0.5 h-4 bg-black rounded-full"})]})})}),E.jsx("div",{className:"absolute top-2 left-2 px-2 py-1 bg-black/70 rounded text-xs font-mono text-cyan-400",children:"AVANT"}),E.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 bg-black/70 rounded text-xs font-mono text-amber-400",children:"APRS"})]})}var OR="Label",Lw=b.forwardRef((n,e)=>E.jsx(st.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Lw.displayName=OR;var Dw=Lw;const LR=jp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fl=b.forwardRef(({className:n,...e},t)=>E.jsx(Dw,{ref:t,className:mt(LR(),n),...e}));fl.displayName=Dw.displayName;function u0(n,[e,t]){return Math.min(t,Math.max(e,n))}var DR=b.createContext(void 0);function jw(n){const e=b.useContext(DR);return n||e||"ltr"}function Fw(n){const e=b.useRef({value:n,previous:n});return b.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var jR=[" ","Enter","ArrowUp","ArrowDown"],FR=[" ","Enter"],xf="Select",[Kp,Zp,zR]=w2(xf),[gc]=oo(xf,[zR,Gp]),Jp=Gp(),[BR,Ta]=gc(xf),[GR,UR]=gc(xf),zw=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:s,onOpenChange:l,value:c,defaultValue:d,onValueChange:h,dir:g,name:y,autoComplete:w,disabled:_,required:k,form:R}=n,P=Jp(e),[N,M]=b.useState(null),[I,L]=b.useState(null),[D,z]=b.useState(!1),U=jw(g),[H=!1,K]=$d({prop:r,defaultProp:s,onChange:l}),[re,ue]=$d({prop:c,defaultProp:d,onChange:h}),ve=b.useRef(null),ae=N?R||!!N.closest("form"):!0,[ye,se]=b.useState(new Set),de=Array.from(ye).map(ie=>ie.props.value).join(";");return E.jsx(P8,{...P,children:E.jsxs(BR,{required:k,scope:e,trigger:N,onTriggerChange:M,valueNode:I,onValueNodeChange:L,valueNodeHasChildren:D,onValueNodeHasChildrenChange:z,contentId:Hu(),value:re,onValueChange:ue,open:H,onOpenChange:K,dir:U,triggerPointerDownPosRef:ve,disabled:_,children:[E.jsx(Kp.Provider,{scope:e,children:E.jsx(GR,{scope:n.__scopeSelect,onNativeOptionAdd:b.useCallback(ie=>{se(me=>new Set(me).add(ie))},[]),onNativeOptionRemove:b.useCallback(ie=>{se(me=>{const Q=new Set(me);return Q.delete(ie),Q})},[]),children:t})}),ae?E.jsxs(c4,{"aria-hidden":!0,required:k,tabIndex:-1,name:y,autoComplete:w,value:re,onChange:ie=>ue(ie.target.value),disabled:_,form:R,children:[re===void 0?E.jsx("option",{value:""}):null,Array.from(ye)]},de):null]})})};zw.displayName=xf;var Bw="SelectTrigger",Gw=b.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...s}=n,l=Jp(t),c=Ta(Bw,t),d=c.disabled||r,h=_t(e,c.onTriggerChange),g=Zp(t),y=b.useRef("touch"),[w,_,k]=d4(P=>{const N=g().filter(L=>!L.disabled),M=N.find(L=>L.value===c.value),I=f4(N,P,M);I!==void 0&&c.onValueChange(I.value)}),R=P=>{d||(c.onOpenChange(!0),k()),P&&(c.triggerPointerDownPosRef.current={x:Math.round(P.pageX),y:Math.round(P.pageY)})};return E.jsx(kx,{asChild:!0,...l,children:E.jsx(st.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":u4(c.value)?"":void 0,...s,ref:h,onClick:qe(s.onClick,P=>{P.currentTarget.focus(),y.current!=="mouse"&&R(P)}),onPointerDown:qe(s.onPointerDown,P=>{y.current=P.pointerType;const N=P.target;N.hasPointerCapture(P.pointerId)&&N.releasePointerCapture(P.pointerId),P.button===0&&P.ctrlKey===!1&&P.pointerType==="mouse"&&(R(P),P.preventDefault())}),onKeyDown:qe(s.onKeyDown,P=>{const N=w.current!=="";!(P.ctrlKey||P.altKey||P.metaKey)&&P.key.length===1&&_(P.key),!(N&&P.key===" ")&&jR.includes(P.key)&&(R(),P.preventDefault())})})})});Gw.displayName=Bw;var Uw="SelectValue",Hw=b.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:s,children:l,placeholder:c="",...d}=n,h=Ta(Uw,t),{onValueNodeHasChildrenChange:g}=h,y=l!==void 0,w=_t(e,h.onValueNodeChange);return ir(()=>{g(y)},[g,y]),E.jsx(st.span,{...d,ref:w,style:{pointerEvents:"none"},children:u4(h.value)?E.jsx(E.Fragment,{children:c}):l})});Hw.displayName=Uw;var HR="SelectIcon",Vw=b.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...s}=n;return E.jsx(st.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});Vw.displayName=HR;var VR="SelectPortal",Ww=n=>E.jsx(Op,{asChild:!0,...n});Ww.displayName=VR;var Sl="SelectContent",Qw=b.forwardRef((n,e)=>{const t=Ta(Sl,n.__scopeSelect),[r,s]=b.useState();if(ir(()=>{s(new DocumentFragment)},[]),!t.open){const l=r;return l?dc.createPortal(E.jsx(qw,{scope:n.__scopeSelect,children:E.jsx(Kp.Slot,{scope:n.__scopeSelect,children:E.jsx("div",{children:n.children})})}),l):null}return E.jsx($w,{...n,ref:e})});Qw.displayName=Sl;var Mi=10,[qw,ba]=gc(Sl),WR="SelectContentImpl",QR=tc("SelectContent.RemoveScroll"),$w=b.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:l,onPointerDownOutside:c,side:d,sideOffset:h,align:g,alignOffset:y,arrowPadding:w,collisionBoundary:_,collisionPadding:k,sticky:R,hideWhenDetached:P,avoidCollisions:N,...M}=n,I=Ta(Sl,t),[L,D]=b.useState(null),[z,U]=b.useState(null),H=_t(e,be=>D(be)),[K,re]=b.useState(null),[ue,ve]=b.useState(null),ae=Zp(t),[ye,se]=b.useState(!1),de=b.useRef(!1);b.useEffect(()=>{if(L)return ow(L)},[L]),K5();const ie=b.useCallback(be=>{const[Ue,...Ze]=ae().map(He=>He.ref.current),[Z]=Ze.slice(-1),Me=document.activeElement;for(const He of be)if(He===Me||(He?.scrollIntoView({block:"nearest"}),He===Ue&&z&&(z.scrollTop=0),He===Z&&z&&(z.scrollTop=z.scrollHeight),He?.focus(),document.activeElement!==Me))return},[ae,z]),me=b.useCallback(()=>ie([K,L]),[ie,K,L]);b.useEffect(()=>{ye&&me()},[ye,me]);const{onOpenChange:Q,triggerPointerDownPosRef:le}=I;b.useEffect(()=>{if(L){let be={x:0,y:0};const Ue=Z=>{be={x:Math.abs(Math.round(Z.pageX)-(le.current?.x??0)),y:Math.abs(Math.round(Z.pageY)-(le.current?.y??0))}},Ze=Z=>{be.x<=10&&be.y<=10?Z.preventDefault():L.contains(Z.target)||Q(!1),document.removeEventListener("pointermove",Ue),le.current=null};return le.current!==null&&(document.addEventListener("pointermove",Ue),document.addEventListener("pointerup",Ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ue),document.removeEventListener("pointerup",Ze,{capture:!0})}}},[L,Q,le]),b.useEffect(()=>{const be=()=>Q(!1);return window.addEventListener("blur",be),window.addEventListener("resize",be),()=>{window.removeEventListener("blur",be),window.removeEventListener("resize",be)}},[Q]);const[ce,B]=d4(be=>{const Ue=ae().filter(Me=>!Me.disabled),Ze=Ue.find(Me=>Me.ref.current===document.activeElement),Z=f4(Ue,be,Ze);Z&&setTimeout(()=>Z.ref.current.focus())}),X=b.useCallback((be,Ue,Ze)=>{const Z=!de.current&&!Ze;(I.value!==void 0&&I.value===Ue||Z)&&(re(be),Z&&(de.current=!0))},[I.value]),Ae=b.useCallback(()=>L?.focus(),[L]),Ve=b.useCallback((be,Ue,Ze)=>{const Z=!de.current&&!Ze;(I.value!==void 0&&I.value===Ue||Z)&&ve(be)},[I.value]),tt=r==="popper"?c0:Xw,Ke=tt===c0?{side:d,sideOffset:h,align:g,alignOffset:y,arrowPadding:w,collisionBoundary:_,collisionPadding:k,sticky:R,hideWhenDetached:P,avoidCollisions:N}:{};return E.jsx(qw,{scope:t,content:L,viewport:z,onViewportChange:U,itemRefCallback:X,selectedItem:K,onItemLeave:Ae,itemTextRefCallback:Ve,focusSelectedItem:me,selectedItemText:ue,position:r,isPositioned:ye,searchRef:ce,children:E.jsx(e1,{as:QR,allowPinchZoom:!0,children:E.jsx(J0,{asChild:!0,trapped:I.open,onMountAutoFocus:be=>{be.preventDefault()},onUnmountAutoFocus:qe(s,be=>{I.trigger?.focus({preventScroll:!0}),be.preventDefault()}),children:E.jsx(hf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:be=>be.preventDefault(),onDismiss:()=>I.onOpenChange(!1),children:E.jsx(tt,{role:"listbox",id:I.contentId,"data-state":I.open?"open":"closed",dir:I.dir,onContextMenu:be=>be.preventDefault(),...M,...Ke,onPlaced:()=>se(!0),ref:H,style:{display:"flex",flexDirection:"column",outline:"none",...M.style},onKeyDown:qe(M.onKeyDown,be=>{const Ue=be.ctrlKey||be.altKey||be.metaKey;if(be.key==="Tab"&&be.preventDefault(),!Ue&&be.key.length===1&&B(be.key),["ArrowUp","ArrowDown","Home","End"].includes(be.key)){let Z=ae().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);if(["ArrowUp","End"].includes(be.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(be.key)){const Me=be.target,He=Z.indexOf(Me);Z=Z.slice(He+1)}setTimeout(()=>ie(Z)),be.preventDefault()}})})})})})})});$w.displayName=WR;var qR="SelectItemAlignedPosition",Xw=b.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...s}=n,l=Ta(Sl,t),c=ba(Sl,t),[d,h]=b.useState(null),[g,y]=b.useState(null),w=_t(e,H=>y(H)),_=Zp(t),k=b.useRef(!1),R=b.useRef(!0),{viewport:P,selectedItem:N,selectedItemText:M,focusSelectedItem:I}=c,L=b.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&g&&P&&N&&M){const H=l.trigger.getBoundingClientRect(),K=g.getBoundingClientRect(),re=l.valueNode.getBoundingClientRect(),ue=M.getBoundingClientRect();if(l.dir!=="rtl"){const Me=ue.left-K.left,He=re.left-Me,ot=H.left-He,Dn=H.width+ot,br=Math.max(Dn,K.width),co=window.innerWidth-Mi,_s=u0(He,[Mi,Math.max(Mi,co-br)]);d.style.minWidth=Dn+"px",d.style.left=_s+"px"}else{const Me=K.right-ue.right,He=window.innerWidth-re.right-Me,ot=window.innerWidth-H.right-He,Dn=H.width+ot,br=Math.max(Dn,K.width),co=window.innerWidth-Mi,_s=u0(He,[Mi,Math.max(Mi,co-br)]);d.style.minWidth=Dn+"px",d.style.right=_s+"px"}const ve=_(),ae=window.innerHeight-Mi*2,ye=P.scrollHeight,se=window.getComputedStyle(g),de=parseInt(se.borderTopWidth,10),ie=parseInt(se.paddingTop,10),me=parseInt(se.borderBottomWidth,10),Q=parseInt(se.paddingBottom,10),le=de+ie+ye+Q+me,ce=Math.min(N.offsetHeight*5,le),B=window.getComputedStyle(P),X=parseInt(B.paddingTop,10),Ae=parseInt(B.paddingBottom,10),Ve=H.top+H.height/2-Mi,tt=ae-Ve,Ke=N.offsetHeight/2,be=N.offsetTop+Ke,Ue=de+ie+be,Ze=le-Ue;if(Ue<=Ve){const Me=ve.length>0&&N===ve[ve.length-1].ref.current;d.style.bottom="0px";const He=g.clientHeight-P.offsetTop-P.offsetHeight,ot=Math.max(tt,Ke+(Me?Ae:0)+He+me),Dn=Ue+ot;d.style.height=Dn+"px"}else{const Me=ve.length>0&&N===ve[0].ref.current;d.style.top="0px";const ot=Math.max(Ve,de+P.offsetTop+(Me?X:0)+Ke)+Ze;d.style.height=ot+"px",P.scrollTop=Ue-Ve+P.offsetTop}d.style.margin=`${Mi}px 0`,d.style.minHeight=ce+"px",d.style.maxHeight=ae+"px",r?.(),requestAnimationFrame(()=>k.current=!0)}},[_,l.trigger,l.valueNode,d,g,P,N,M,l.dir,r]);ir(()=>L(),[L]);const[D,z]=b.useState();ir(()=>{g&&z(window.getComputedStyle(g).zIndex)},[g]);const U=b.useCallback(H=>{H&&R.current===!0&&(L(),I?.(),R.current=!1)},[L,I]);return E.jsx(XR,{scope:t,contentWrapper:d,shouldExpandOnScrollRef:k,onScrollButtonChange:U,children:E.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:E.jsx(st.div,{...s,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Xw.displayName=qR;var $R="SelectPopperPosition",c0=b.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:s=Mi,...l}=n,c=Jp(t);return E.jsx(Rx,{...c,...l,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});c0.displayName=$R;var[XR,l1]=gc(Sl,{}),d0="SelectViewport",Yw=b.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...s}=n,l=ba(d0,t),c=l1(d0,t),d=_t(e,l.onViewportChange),h=b.useRef(0);return E.jsxs(E.Fragment,{children:[E.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),E.jsx(Kp.Slot,{scope:t,children:E.jsx(st.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:qe(s.onScroll,g=>{const y=g.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:_}=c;if(_?.current&&w){const k=Math.abs(h.current-y.scrollTop);if(k>0){const R=window.innerHeight-Mi*2,P=parseFloat(w.style.minHeight),N=parseFloat(w.style.height),M=Math.max(P,N);if(M<R){const I=M+k,L=Math.min(R,I),D=I-L;w.style.height=L+"px",w.style.bottom==="0px"&&(y.scrollTop=D>0?D:0,w.style.justifyContent="flex-end")}}}h.current=y.scrollTop})})})]})});Yw.displayName=d0;var Kw="SelectGroup",[YR,KR]=gc(Kw),ZR=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=Hu();return E.jsx(YR,{scope:t,id:s,children:E.jsx(st.div,{role:"group","aria-labelledby":s,...r,ref:e})})});ZR.displayName=Kw;var Zw="SelectLabel",Jw=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=KR(Zw,t);return E.jsx(st.div,{id:s.id,...r,ref:e})});Jw.displayName=Zw;var Rp="SelectItem",[JR,e4]=gc(Rp),t4=b.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:s=!1,textValue:l,...c}=n,d=Ta(Rp,t),h=ba(Rp,t),g=d.value===r,[y,w]=b.useState(l??""),[_,k]=b.useState(!1),R=_t(e,I=>h.itemRefCallback?.(I,r,s)),P=Hu(),N=b.useRef("touch"),M=()=>{s||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return E.jsx(JR,{scope:t,value:r,disabled:s,textId:P,isSelected:g,onItemTextChange:b.useCallback(I=>{w(L=>L||(I?.textContent??"").trim())},[]),children:E.jsx(Kp.ItemSlot,{scope:t,value:r,disabled:s,textValue:y,children:E.jsx(st.div,{role:"option","aria-labelledby":P,"data-highlighted":_?"":void 0,"aria-selected":g&&_,"data-state":g?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...c,ref:R,onFocus:qe(c.onFocus,()=>k(!0)),onBlur:qe(c.onBlur,()=>k(!1)),onClick:qe(c.onClick,()=>{N.current!=="mouse"&&M()}),onPointerUp:qe(c.onPointerUp,()=>{N.current==="mouse"&&M()}),onPointerDown:qe(c.onPointerDown,I=>{N.current=I.pointerType}),onPointerMove:qe(c.onPointerMove,I=>{N.current=I.pointerType,s?h.onItemLeave?.():N.current==="mouse"&&I.currentTarget.focus({preventScroll:!0})}),onPointerLeave:qe(c.onPointerLeave,I=>{I.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:qe(c.onKeyDown,I=>{h.searchRef?.current!==""&&I.key===" "||(FR.includes(I.key)&&M(),I.key===" "&&I.preventDefault())})})})})});t4.displayName=Rp;var Fd="SelectItemText",n4=b.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:s,...l}=n,c=Ta(Fd,t),d=ba(Fd,t),h=e4(Fd,t),g=UR(Fd,t),[y,w]=b.useState(null),_=_t(e,M=>w(M),h.onItemTextChange,M=>d.itemTextRefCallback?.(M,h.value,h.disabled)),k=y?.textContent,R=b.useMemo(()=>E.jsx("option",{value:h.value,disabled:h.disabled,children:k},h.value),[h.disabled,h.value,k]),{onNativeOptionAdd:P,onNativeOptionRemove:N}=g;return ir(()=>(P(R),()=>N(R)),[P,N,R]),E.jsxs(E.Fragment,{children:[E.jsx(st.span,{id:h.textId,...l,ref:_}),h.isSelected&&c.valueNode&&!c.valueNodeHasChildren?dc.createPortal(l.children,c.valueNode):null]})});n4.displayName=Fd;var r4="SelectItemIndicator",i4=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return e4(r4,t).isSelected?E.jsx(st.span,{"aria-hidden":!0,...r,ref:e}):null});i4.displayName=r4;var f0="SelectScrollUpButton",s4=b.forwardRef((n,e)=>{const t=ba(f0,n.__scopeSelect),r=l1(f0,n.__scopeSelect),[s,l]=b.useState(!1),c=_t(e,r.onScrollButtonChange);return ir(()=>{if(t.viewport&&t.isPositioned){let d=function(){const g=h.scrollTop>0;l(g)};const h=t.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),s?E.jsx(a4,{...n,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=t;d&&h&&(d.scrollTop=d.scrollTop-h.offsetHeight)}}):null});s4.displayName=f0;var h0="SelectScrollDownButton",o4=b.forwardRef((n,e)=>{const t=ba(h0,n.__scopeSelect),r=l1(h0,n.__scopeSelect),[s,l]=b.useState(!1),c=_t(e,r.onScrollButtonChange);return ir(()=>{if(t.viewport&&t.isPositioned){let d=function(){const g=h.scrollHeight-h.clientHeight,y=Math.ceil(h.scrollTop)<g;l(y)};const h=t.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),s?E.jsx(a4,{...n,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=t;d&&h&&(d.scrollTop=d.scrollTop+h.offsetHeight)}}):null});o4.displayName=h0;var a4=b.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...s}=n,l=ba("SelectScrollButton",t),c=b.useRef(null),d=Zp(t),h=b.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return b.useEffect(()=>()=>h(),[h]),ir(()=>{d().find(y=>y.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),E.jsx(st.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:qe(s.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:qe(s.onPointerMove,()=>{l.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:qe(s.onPointerLeave,()=>{h()})})}),eN="SelectSeparator",l4=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return E.jsx(st.div,{"aria-hidden":!0,...r,ref:e})});l4.displayName=eN;var p0="SelectArrow",tN=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=Jp(t),l=Ta(p0,t),c=ba(p0,t);return l.open&&c.position==="popper"?E.jsx(Nx,{...s,...r,ref:e}):null});tN.displayName=p0;function u4(n){return n===""||n===void 0}var c4=b.forwardRef((n,e)=>{const{value:t,...r}=n,s=b.useRef(null),l=_t(e,s),c=Fw(t);return b.useEffect(()=>{const d=s.current,h=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==t&&y){const w=new Event("change",{bubbles:!0});y.call(d,t),d.dispatchEvent(w)}},[c,t]),E.jsx(pf,{asChild:!0,children:E.jsx("select",{...r,ref:l,defaultValue:t})})});c4.displayName="BubbleSelect";function d4(n){const e=Tn(n),t=b.useRef(""),r=b.useRef(0),s=b.useCallback(c=>{const d=t.current+c;e(d),(function h(g){t.current=g,window.clearTimeout(r.current),g!==""&&(r.current=window.setTimeout(()=>h(""),1e3))})(d)},[e]),l=b.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,s,l]}function f4(n,e,t){const s=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,l=t?n.indexOf(t):-1;let c=nN(n,Math.max(l,0));s.length===1&&(c=c.filter(g=>g!==t));const h=c.find(g=>g.textValue.toLowerCase().startsWith(s.toLowerCase()));return h!==t?h:void 0}function nN(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var rN=zw,h4=Gw,iN=Hw,sN=Vw,oN=Ww,p4=Qw,aN=Yw,m4=Jw,g4=t4,lN=n4,uN=i4,y4=s4,v4=o4,x4=l4;const Wd=rN,Qd=iN,Ju=b.forwardRef(({className:n,children:e,...t},r)=>E.jsxs(h4,{ref:r,className:mt("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,E.jsx(sN,{asChild:!0,children:E.jsx(N0,{className:"h-4 w-4 opacity-50"})})]}));Ju.displayName=h4.displayName;const w4=b.forwardRef(({className:n,...e},t)=>E.jsx(y4,{ref:t,className:mt("flex cursor-default items-center justify-center py-1",n),...e,children:E.jsx(q2,{className:"h-4 w-4"})}));w4.displayName=y4.displayName;const S4=b.forwardRef(({className:n,...e},t)=>E.jsx(v4,{ref:t,className:mt("flex cursor-default items-center justify-center py-1",n),...e,children:E.jsx(N0,{className:"h-4 w-4"})}));S4.displayName=v4.displayName;const ec=b.forwardRef(({className:n,children:e,position:t="popper",...r},s)=>E.jsx(oN,{children:E.jsxs(p4,{ref:s,className:mt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[E.jsx(w4,{}),E.jsx(aN,{className:mt("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),E.jsx(S4,{})]})}));ec.displayName=p4.displayName;const cN=b.forwardRef(({className:n,...e},t)=>E.jsx(m4,{ref:t,className:mt("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));cN.displayName=m4.displayName;const di=b.forwardRef(({className:n,children:e,...t},r)=>E.jsxs(g4,{ref:r,className:mt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[E.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:E.jsx(uN,{children:E.jsx(R0,{className:"h-4 w-4"})})}),E.jsx(lN,{children:e})]}));di.displayName=g4.displayName;const dN=b.forwardRef(({className:n,...e},t)=>E.jsx(x4,{ref:t,className:mt("-mx-1 my-1 h-px bg-muted",n),...e}));dN.displayName=x4.displayName;var u1="Checkbox",[fN]=oo(u1),[hN,pN]=fN(u1),_4=b.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:s,defaultChecked:l,required:c,disabled:d,value:h="on",onCheckedChange:g,form:y,...w}=n,[_,k]=b.useState(null),R=_t(e,D=>k(D)),P=b.useRef(!1),N=_?y||!!_.closest("form"):!0,[M=!1,I]=$d({prop:s,defaultProp:l,onChange:g}),L=b.useRef(M);return b.useEffect(()=>{const D=_?.form;if(D){const z=()=>I(L.current);return D.addEventListener("reset",z),()=>D.removeEventListener("reset",z)}},[_,I]),E.jsxs(hN,{scope:t,state:M,disabled:d,children:[E.jsx(st.button,{type:"button",role:"checkbox","aria-checked":ha(M)?"mixed":M,"aria-required":c,"data-state":P4(M),"data-disabled":d?"":void 0,disabled:d,value:h,...w,ref:R,onKeyDown:qe(n.onKeyDown,D=>{D.key==="Enter"&&D.preventDefault()}),onClick:qe(n.onClick,D=>{I(z=>ha(z)?!0:!z),N&&(P.current=D.isPropagationStopped(),P.current||D.stopPropagation())})}),N&&E.jsx(mN,{control:_,bubbles:!P.current,name:r,value:h,checked:M,required:c,disabled:d,form:y,style:{transform:"translateX(-100%)"},defaultChecked:ha(l)?!1:l})]})});_4.displayName=u1;var C4="CheckboxIndicator",E4=b.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...s}=n,l=pN(C4,t);return E.jsx(Bi,{present:r||ha(l.state)||l.state===!0,children:E.jsx(st.span,{"data-state":P4(l.state),"data-disabled":l.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...n.style}})})});E4.displayName=C4;var mN=n=>{const{control:e,checked:t,bubbles:r=!0,defaultChecked:s,...l}=n,c=b.useRef(null),d=Fw(t),h=vx(e);b.useEffect(()=>{const y=c.current,w=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(w,"checked").set;if(d!==t&&k){const R=new Event("click",{bubbles:r});y.indeterminate=ha(t),k.call(y,ha(t)?!1:t),y.dispatchEvent(R)}},[d,t,r]);const g=b.useRef(ha(t)?!1:t);return E.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??g.current,...l,tabIndex:-1,ref:c,style:{...n.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ha(n){return n==="indeterminate"}function P4(n){return ha(n)?"indeterminate":n?"checked":"unchecked"}var T4=_4,gN=E4;const b4=b.forwardRef(({className:n,...e},t)=>E.jsx(T4,{ref:t,className:mt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n),...e,children:E.jsx(gN,{className:mt("flex items-center justify-center text-current"),children:E.jsx(R0,{className:"h-4 w-4"})})}));b4.displayName=T4.displayName;const Du={original:{label:"Original",scale:1},"2k":{label:"2K (2560px)",scale:2},"4k":{label:"4K (3840px)",scale:3},"8k":{label:"8K (7680px)",scale:6}},qv={png:{label:"PNG (Sans perte)",mime:"image/png"},jpeg:{label:"JPEG (Haute qualit)",mime:"image/jpeg",quality:.95},webp:{label:"WebP (Optimis)",mime:"image/webp",quality:.95}};function yN({isOpen:n,onClose:e,processedCanvas:t,config:r,masterName:s}){const[l,c]=b.useState("original"),[d,h]=b.useState("png"),[g,y]=b.useState(!0),[w,_]=b.useState(!1),k=async()=>{if(t){_(!0);try{const{scale:P}=Du[l],{mime:N,quality:M}=qv[d],I=document.createElement("canvas"),L=t.width,D=t.height;let z=L*P,U=D*P;const H=7680;if(z>H||U>H){const se=Math.min(H/z,H/U);z*=se,U*=se}I.width=z,I.height=U;const K=I.getContext("2d");K.imageSmoothingEnabled=!0,K.imageSmoothingQuality="high",K.drawImage(t,0,0,z,U);const re=new Date().toISOString().replace(/[:.]/g,"-").slice(0,19),ue=l==="original"?"":`-${l.toUpperCase()}`,ve=`ADN-V7-${s.replace(/\s+/g,"-")}${ue}-${re}.${d}`;let ae;d==="png"&&g?ae=(await vN(I,r,s)).toDataURL(N):ae=M?I.toDataURL(N,M):I.toDataURL(N);const ye=document.createElement("a");if(ye.download=ve,ye.href=ae,document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),g){const se=xN(r,s,{width:Math.round(z),height:Math.round(U),format:d,resolution:l,exportDate:new Date().toISOString()}),de=new Blob([JSON.stringify(se,null,2)],{type:"application/json"}),ie=URL.createObjectURL(de),me=document.createElement("a");me.download=ve.replace(`.${d}`,"-metadata.json"),me.href=ie,document.body.appendChild(me),me.click(),document.body.removeChild(me),URL.revokeObjectURL(ie)}e()}catch(P){console.error("Export failed:",P)}finally{_(!1)}}},R=t?Math.round(t.width*Du[l].scale*t.height*Du[l].scale*4/1024/1024*(d==="png"?.3:.1)):0;return E.jsx(Vd,{open:n,onOpenChange:e,children:E.jsxs(Xu,{className:"max-w-md",children:[E.jsx(Yu,{children:E.jsx(Zu,{className:"font-display",children:"Export Haute Rsolution"})}),E.jsxs("div",{className:"py-4 space-y-5",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(fl,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Rsolution"}),E.jsxs(Wd,{value:l,onValueChange:P=>c(P),children:[E.jsx(Ju,{className:"bg-black/30 border-cyan-500/30","data-testid":"select-resolution",children:E.jsx(Qd,{})}),E.jsx(ec,{children:Object.entries(Du).map(([P,{label:N}])=>E.jsx(di,{value:P,children:N},P))})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(fl,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Format"}),E.jsxs(Wd,{value:d,onValueChange:P=>h(P),children:[E.jsx(Ju,{className:"bg-black/30 border-cyan-500/30","data-testid":"select-format",children:E.jsx(Qd,{})}),E.jsx(ec,{children:Object.entries(qv).map(([P,{label:N}])=>E.jsx(di,{value:P,children:N},P))})]})]}),E.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[E.jsx(b4,{id:"include-metadata",checked:g,onCheckedChange:P=>y(!!P),"data-testid":"checkbox-metadata"}),E.jsx(fl,{htmlFor:"include-metadata",className:"text-sm cursor-pointer",children:"Inclure mtadonnes ADN (fichier JSON)"})]}),E.jsxs("div",{className:"p-3 bg-black/30 rounded-lg border border-cyan-500/20",children:[E.jsxs("div",{className:"flex justify-between text-sm",children:[E.jsx("span",{className:"text-muted-foreground",children:"Dimensions estimes:"}),E.jsxs("span",{className:"font-mono text-cyan-400",children:[t?Math.round(t.width*Du[l].scale):0," x ",t?Math.round(t.height*Du[l].scale):0]})]}),E.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[E.jsx("span",{className:"text-muted-foreground",children:"Taille estime:"}),E.jsxs("span",{className:"font-mono text-cyan-400",children:["~",R," MB"]})]})]})]}),E.jsxs(Ku,{children:[E.jsx(vn,{variant:"ghost",onClick:e,children:"Annuler"}),E.jsx(vn,{onClick:k,disabled:w||!t,className:"btn-export gap-2","data-testid":"button-confirm-export",children:w?E.jsxs(E.Fragment,{children:[E.jsx(Fg,{className:"w-4 h-4 animate-spin"}),"Export en cours..."]}):E.jsxs(E.Fragment,{children:[E.jsx(A0,{className:"w-4 h-4"}),"Exporter"]})})]})]})})}async function vN(n,e,t){return n}function xN(n,e,t){return{generator:"ADN CONVERTER V7.0.2",version:n.meta.version,codename:n.meta.codename,master:e,export:t,dimensions:{temporalSpatial:{master:n.dimensions.temporalSpatial.master,timelessFrozen:n.dimensions.temporalSpatial.timelessFrozen,atmosphericDuration:n.dimensions.temporalSpatial.atmosphericDuration,dramaticMoment:n.dimensions.temporalSpatial.dramaticMoment,motionBlur:n.dimensions.temporalSpatial.motionBlur,timeIndication:n.dimensions.temporalSpatial.timeIndication,atmosphericIndication:n.dimensions.temporalSpatial.atmosphericIndication,depthPrecision:n.dimensions.temporalSpatial.depthPrecision},materialSpiritual:{master:n.dimensions.materialSpiritual.master,divineThroughMaterial:n.dimensions.materialSpiritual.divineThroughMaterial,materialAsExpansion:n.dimensions.materialSpiritual.materialAsExpansion,materialPrecision:n.dimensions.materialSpiritual.materialPrecision,spiritualSymbolism:n.dimensions.materialSpiritual.spiritualSymbolism,surfacePerfection:n.dimensions.materialSpiritual.surfacePerfection,detailAsRevelation:n.dimensions.materialSpiritual.detailAsRevelation},lightRevelation:{master:n.dimensions.lightRevelation.master,lightAsDivineProof:n.dimensions.lightRevelation.lightAsDivineProof,lightAsDramaticTools:n.dimensions.lightRevelation.lightAsDramaticTools,shadowSoftness:n.dimensions.lightRevelation.shadowSoftness,reflectionSubtlety:n.dimensions.lightRevelation.reflectionSubtlety,lightSymbolism:n.dimensions.lightRevelation.lightSymbolism},gazePsychology:{master:n.dimensions.gazePsychology.master,microscopicScrutiny:n.dimensions.gazePsychology.microscopicScrutiny,emotionalImmersion:n.dimensions.gazePsychology.emotionalImmersion,dramaticOrchestration:n.dimensions.gazePsychology.dramaticOrchestration,loopCompleteness:n.dimensions.gazePsychology.loopCompleteness,transitionSmoothness:n.dimensions.gazePsychology.transitionSmoothness,discoveryDensity:n.dimensions.gazePsychology.discoveryDensity,hypnoticQuality:n.dimensions.gazePsychology.hypnoticQuality},historicalConstraints:{master:n.dimensions.historicalConstraints.master,period:n.dimensions.historicalConstraints.period,fidelity:n.dimensions.historicalConstraints.fidelity},finition:{master:n.dimensions.finition.master,masterLustre:n.dimensions.finition.masterLustre,finalGlow:n.dimensions.finition.finalGlow}},nft:{compatible:!0,blockchain:["Ethereum","Polygon","Solana","Tezos"],standards:["ERC-721","ERC-1155"]}}}const m0=b.forwardRef(({className:n,type:e,...t},r)=>E.jsx("input",{type:e,className:mt("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));m0.displayName="Input";function wN(n,e){return b.useReducer((t,r)=>e[t][r]??t,n)}var c1="ScrollArea",[k4]=oo(c1),[SN,pi]=k4(c1),R4=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:s,scrollHideDelay:l=600,...c}=n,[d,h]=b.useState(null),[g,y]=b.useState(null),[w,_]=b.useState(null),[k,R]=b.useState(null),[P,N]=b.useState(null),[M,I]=b.useState(0),[L,D]=b.useState(0),[z,U]=b.useState(!1),[H,K]=b.useState(!1),re=_t(e,ve=>h(ve)),ue=jw(s);return E.jsx(SN,{scope:t,type:r,dir:ue,scrollHideDelay:l,scrollArea:d,viewport:g,onViewportChange:y,content:w,onContentChange:_,scrollbarX:k,onScrollbarXChange:R,scrollbarXEnabled:z,onScrollbarXEnabledChange:U,scrollbarY:P,onScrollbarYChange:N,scrollbarYEnabled:H,onScrollbarYEnabledChange:K,onCornerWidthChange:I,onCornerHeightChange:D,children:E.jsx(st.div,{dir:ue,...c,ref:re,style:{position:"relative","--radix-scroll-area-corner-width":M+"px","--radix-scroll-area-corner-height":L+"px",...n.style}})})});R4.displayName=c1;var N4="ScrollAreaViewport",A4=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,nonce:s,...l}=n,c=pi(N4,t),d=b.useRef(null),h=_t(e,d,c.onViewportChange);return E.jsxs(E.Fragment,{children:[E.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),E.jsx(st.div,{"data-radix-scroll-area-viewport":"",...l,ref:h,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...n.style},children:E.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});A4.displayName=N4;var Ss="ScrollAreaScrollbar",d1=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=pi(Ss,n.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:c}=s,d=n.orientation==="horizontal";return b.useEffect(()=>(d?l(!0):c(!0),()=>{d?l(!1):c(!1)}),[d,l,c]),s.type==="hover"?E.jsx(_N,{...r,ref:e,forceMount:t}):s.type==="scroll"?E.jsx(CN,{...r,ref:e,forceMount:t}):s.type==="auto"?E.jsx(M4,{...r,ref:e,forceMount:t}):s.type==="always"?E.jsx(f1,{...r,ref:e}):null});d1.displayName=Ss;var _N=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=pi(Ss,n.__scopeScrollArea),[l,c]=b.useState(!1);return b.useEffect(()=>{const d=s.scrollArea;let h=0;if(d){const g=()=>{window.clearTimeout(h),c(!0)},y=()=>{h=window.setTimeout(()=>c(!1),s.scrollHideDelay)};return d.addEventListener("pointerenter",g),d.addEventListener("pointerleave",y),()=>{window.clearTimeout(h),d.removeEventListener("pointerenter",g),d.removeEventListener("pointerleave",y)}}},[s.scrollArea,s.scrollHideDelay]),E.jsx(Bi,{present:t||l,children:E.jsx(M4,{"data-state":l?"visible":"hidden",...r,ref:e})})}),CN=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=pi(Ss,n.__scopeScrollArea),l=n.orientation==="horizontal",c=tm(()=>h("SCROLL_END"),100),[d,h]=wN("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(d==="idle"){const g=window.setTimeout(()=>h("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(g)}},[d,s.scrollHideDelay,h]),b.useEffect(()=>{const g=s.viewport,y=l?"scrollLeft":"scrollTop";if(g){let w=g[y];const _=()=>{const k=g[y];w!==k&&(h("SCROLL"),c()),w=k};return g.addEventListener("scroll",_),()=>g.removeEventListener("scroll",_)}},[s.viewport,l,h,c]),E.jsx(Bi,{present:t||d!=="hidden",children:E.jsx(f1,{"data-state":d==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:qe(n.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:qe(n.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),M4=b.forwardRef((n,e)=>{const t=pi(Ss,n.__scopeScrollArea),{forceMount:r,...s}=n,[l,c]=b.useState(!1),d=n.orientation==="horizontal",h=tm(()=>{if(t.viewport){const g=t.viewport.offsetWidth<t.viewport.scrollWidth,y=t.viewport.offsetHeight<t.viewport.scrollHeight;c(d?g:y)}},10);return lc(t.viewport,h),lc(t.content,h),E.jsx(Bi,{present:r||l,children:E.jsx(f1,{"data-state":l?"visible":"hidden",...s,ref:e})})}),f1=b.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,s=pi(Ss,n.__scopeScrollArea),l=b.useRef(null),c=b.useRef(0),[d,h]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),g=j4(d.viewport,d.content),y={...r,sizes:d,onSizesChange:h,hasThumb:g>0&&g<1,onThumbChange:_=>l.current=_,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:_=>c.current=_};function w(_,k){return RN(_,c.current,d,k)}return t==="horizontal"?E.jsx(EN,{...y,ref:e,onThumbPositionChange:()=>{if(s.viewport&&l.current){const _=s.viewport.scrollLeft,k=$v(_,d,s.dir);l.current.style.transform=`translate3d(${k}px, 0, 0)`}},onWheelScroll:_=>{s.viewport&&(s.viewport.scrollLeft=_)},onDragScroll:_=>{s.viewport&&(s.viewport.scrollLeft=w(_,s.dir))}}):t==="vertical"?E.jsx(PN,{...y,ref:e,onThumbPositionChange:()=>{if(s.viewport&&l.current){const _=s.viewport.scrollTop,k=$v(_,d);l.current.style.transform=`translate3d(0, ${k}px, 0)`}},onWheelScroll:_=>{s.viewport&&(s.viewport.scrollTop=_)},onDragScroll:_=>{s.viewport&&(s.viewport.scrollTop=w(_))}}):null}),EN=b.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,l=pi(Ss,n.__scopeScrollArea),[c,d]=b.useState(),h=b.useRef(null),g=_t(e,h,l.onScrollbarXChange);return b.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),E.jsx(O4,{"data-orientation":"horizontal",...s,ref:g,sizes:t,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":em(t)+"px",...n.style},onThumbPointerDown:y=>n.onThumbPointerDown(y.x),onDragScroll:y=>n.onDragScroll(y.x),onWheelScroll:(y,w)=>{if(l.viewport){const _=l.viewport.scrollLeft+y.deltaX;n.onWheelScroll(_),z4(_,w)&&y.preventDefault()}},onResize:()=>{h.current&&l.viewport&&c&&r({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:Ap(c.paddingLeft),paddingEnd:Ap(c.paddingRight)}})}})}),PN=b.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,l=pi(Ss,n.__scopeScrollArea),[c,d]=b.useState(),h=b.useRef(null),g=_t(e,h,l.onScrollbarYChange);return b.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),E.jsx(O4,{"data-orientation":"vertical",...s,ref:g,sizes:t,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":em(t)+"px",...n.style},onThumbPointerDown:y=>n.onThumbPointerDown(y.y),onDragScroll:y=>n.onDragScroll(y.y),onWheelScroll:(y,w)=>{if(l.viewport){const _=l.viewport.scrollTop+y.deltaY;n.onWheelScroll(_),z4(_,w)&&y.preventDefault()}},onResize:()=>{h.current&&l.viewport&&c&&r({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:Ap(c.paddingTop),paddingEnd:Ap(c.paddingBottom)}})}})}),[TN,I4]=k4(Ss),O4=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:s,onThumbChange:l,onThumbPointerUp:c,onThumbPointerDown:d,onThumbPositionChange:h,onDragScroll:g,onWheelScroll:y,onResize:w,..._}=n,k=pi(Ss,t),[R,P]=b.useState(null),N=_t(e,re=>P(re)),M=b.useRef(null),I=b.useRef(""),L=k.viewport,D=r.content-r.viewport,z=Tn(y),U=Tn(h),H=tm(w,10);function K(re){if(M.current){const ue=re.clientX-M.current.left,ve=re.clientY-M.current.top;g({x:ue,y:ve})}}return b.useEffect(()=>{const re=ue=>{const ve=ue.target;R?.contains(ve)&&z(ue,D)};return document.addEventListener("wheel",re,{passive:!1}),()=>document.removeEventListener("wheel",re,{passive:!1})},[L,R,D,z]),b.useEffect(U,[r,U]),lc(R,H),lc(k.content,H),E.jsx(TN,{scope:t,scrollbar:R,hasThumb:s,onThumbChange:Tn(l),onThumbPointerUp:Tn(c),onThumbPositionChange:U,onThumbPointerDown:Tn(d),children:E.jsx(st.div,{..._,ref:N,style:{position:"absolute",..._.style},onPointerDown:qe(n.onPointerDown,re=>{re.button===0&&(re.target.setPointerCapture(re.pointerId),M.current=R.getBoundingClientRect(),I.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",k.viewport&&(k.viewport.style.scrollBehavior="auto"),K(re))}),onPointerMove:qe(n.onPointerMove,K),onPointerUp:qe(n.onPointerUp,re=>{const ue=re.target;ue.hasPointerCapture(re.pointerId)&&ue.releasePointerCapture(re.pointerId),document.body.style.webkitUserSelect=I.current,k.viewport&&(k.viewport.style.scrollBehavior=""),M.current=null})})})}),Np="ScrollAreaThumb",L4=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=I4(Np,n.__scopeScrollArea);return E.jsx(Bi,{present:t||s.hasThumb,children:E.jsx(bN,{ref:e,...r})})}),bN=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...s}=n,l=pi(Np,t),c=I4(Np,t),{onThumbPositionChange:d}=c,h=_t(e,w=>c.onThumbChange(w)),g=b.useRef(void 0),y=tm(()=>{g.current&&(g.current(),g.current=void 0)},100);return b.useEffect(()=>{const w=l.viewport;if(w){const _=()=>{if(y(),!g.current){const k=NN(w,d);g.current=k,d()}};return d(),w.addEventListener("scroll",_),()=>w.removeEventListener("scroll",_)}},[l.viewport,y,d]),E.jsx(st.div,{"data-state":c.hasThumb?"visible":"hidden",...s,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:qe(n.onPointerDownCapture,w=>{const k=w.target.getBoundingClientRect(),R=w.clientX-k.left,P=w.clientY-k.top;c.onThumbPointerDown({x:R,y:P})}),onPointerUp:qe(n.onPointerUp,c.onThumbPointerUp)})});L4.displayName=Np;var h1="ScrollAreaCorner",D4=b.forwardRef((n,e)=>{const t=pi(h1,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?E.jsx(kN,{...n,ref:e}):null});D4.displayName=h1;var kN=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,s=pi(h1,t),[l,c]=b.useState(0),[d,h]=b.useState(0),g=!!(l&&d);return lc(s.scrollbarX,()=>{const y=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(y),h(y)}),lc(s.scrollbarY,()=>{const y=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(y),c(y)}),g?E.jsx(st.div,{...r,ref:e,style:{width:l,height:d,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function Ap(n){return n?parseInt(n,10):0}function j4(n,e){const t=n/e;return isNaN(t)?0:t}function em(n){const e=j4(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function RN(n,e,t,r="ltr"){const s=em(t),l=s/2,c=e||l,d=s-c,h=t.scrollbar.paddingStart+c,g=t.scrollbar.size-t.scrollbar.paddingEnd-d,y=t.content-t.viewport,w=r==="ltr"?[0,y]:[y*-1,0];return F4([h,g],w)(n)}function $v(n,e,t="ltr"){const r=em(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,l=e.scrollbar.size-s,c=e.content-e.viewport,d=l-r,h=t==="ltr"?[0,c]:[c*-1,0],g=u0(n,h);return F4([0,c],[0,d])(g)}function F4(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function z4(n,e){return n>0&&n<e}var NN=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return(function s(){const l={left:n.scrollLeft,top:n.scrollTop},c=t.left!==l.left,d=t.top!==l.top;(c||d)&&e(),t=l,r=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(r)};function tm(n,e){const t=Tn(n),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function lc(n,e){const t=Tn(e);ir(()=>{let r=0;if(n){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return s.observe(n),()=>{window.cancelAnimationFrame(r),s.unobserve(n)}}},[n,t])}var B4=R4,AN=A4,MN=D4;const G4=b.forwardRef(({className:n,children:e,...t},r)=>E.jsxs(B4,{ref:r,className:mt("relative overflow-hidden",n),...t,children:[E.jsx(AN,{className:"h-full w-full rounded-[inherit]",children:e}),E.jsx(U4,{}),E.jsx(MN,{})]}));G4.displayName=B4.displayName;const U4=b.forwardRef(({className:n,orientation:e="vertical",...t},r)=>E.jsx(d1,{ref:r,orientation:e,className:mt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...t,children:E.jsx(L4,{className:"relative flex-1 rounded-full bg-border"})}));U4.displayName=d1.displayName;const IN="https://images.unsplash.com/photo-1541963463532-d68292c34b19?q=80&w=1920&auto=format&fit=crop";function ju({icon:n,title:e,masterValue:t,onMasterChange:r,children:s,color:l="text-cyan-400"}){const[c,d]=b.useState(!0);return E.jsxs("div",{className:"dimension-section",children:[E.jsxs("div",{className:"flex items-center justify-between cursor-pointer mb-3",onClick:()=>d(!c),"data-testid":`section-${e.toLowerCase().replace(/\s+/g,"-")}`,children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:l,children:n}),E.jsx("h3",{className:"font-display text-lg tracking-wider",children:e})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("span",{className:"font-mono text-cyan-400 text-lg",children:[t,"%"]}),c?E.jsx(q2,{className:"w-4 h-4 text-muted-foreground"}):E.jsx(N0,{className:"w-4 h-4 text-muted-foreground"})]})]}),c&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"mb-4 pb-4 border-b border-cyan-500/20",children:[E.jsxs("div",{className:"flex justify-between mb-2 text-xs text-muted-foreground",children:[E.jsx("span",{children:"Intensit globale"}),E.jsx("span",{className:"font-mono",children:"Master"})]}),E.jsx("input",{type:"range",className:"master-slider w-full",min:"0",max:"100",value:t,onChange:h=>r(Number(h.target.value)),"data-testid":`slider-master-${e.toLowerCase().replace(/\s+/g,"-")}`})]}),E.jsx("div",{className:"space-y-4",children:s})]})]})}function It({label:n,labelEn:e,value:t,onChange:r}){return E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between mb-1.5",children:[E.jsxs("span",{className:"text-sm text-foreground",children:[n," ",E.jsxs("span",{className:"text-muted-foreground text-xs",children:["(",e,")"]})]}),E.jsxs("span",{className:"font-mono text-cyan-400 text-sm",children:[t,"%"]})]}),E.jsx("input",{type:"range",className:"param-slider w-full",min:"0",max:"100",value:t,onChange:s=>r(Number(s.target.value)),"data-testid":`slider-${e.toLowerCase().replace(/\s+/g,"-")}`})]})}function ON(){const[n,e]=b.useState(og),[t,r]=b.useState(IN),[s,l]=b.useState({w:800,h:600}),[c,d]=b.useState(""),[h,g]=b.useState("Vermeer"),[y,w]=b.useState(!1),[_,k]=b.useState(!1),[R,P]=b.useState(!1),[N,M]=b.useState(!1),[I,L]=b.useState(null),[D]=b.useState(!0),[z,U]=b.useState(!0),[H,K]=b.useState(!1),[re,ue]=b.useState(null),[ve,ae]=b.useState(null),ye=b.useRef(null),se=b.useRef(null),de=b.useRef(null),ie=b.useRef(null),{data:me}=kE(),Q=RE(),{toast:le}=P0(),ce=Array.from(new Set(me?.map(Z=>Z.master)||["Vermeer"])),B=b.useCallback(()=>{de.current&&l({w:de.current.clientWidth,h:de.current.clientHeight})},[]);b.useEffect(()=>(window.addEventListener("resize",B),setTimeout(B,100),()=>window.removeEventListener("resize",B)),[B]);const X=(Z,Me,He)=>{e(ot=>({...ot,dimensions:{...ot.dimensions,[Z]:{...ot.dimensions[Z],[Me]:He}}}))},Ae=b.useCallback(Z=>{const Me=new Image;Me.crossOrigin="anonymous",Me.onload=()=>{const He=document.createElement("canvas");He.width=Me.width,He.height=Me.height;const ot=He.getContext("2d");ot.drawImage(Me,0,0);const Dn=ot.getImageData(0,0,Me.width,Me.height),br=RR(Dn);L(br),k(!0)},Me.src=Z},[]),Ve=(Z,Me)=>{e(Z),g(Me),le({title:"Style Dtect",description:`Paramtres ${Me} appliqus.`})},tt=Z=>{const Me=Z.target.files?.[0];if(Me){const He=URL.createObjectURL(Me);r(He),D&&Ae(He)}},Ke=Z=>{g(Z),le({title:"Matre slectionn",description:`Mode ${Z} activ`})},be=()=>{if(!c.trim()){le({title:"Nom requis",description:"Veuillez entrer un nom.",variant:"destructive"});return}Q.mutate({name:c,master:h,configuration:n,isDefault:!1},{onSuccess:()=>w(!1)})},Ue=Z=>{const[Me]=Z.split("|"),He=me?.find(ot=>ot.id.toString()===Me);He&&(e(He.configuration),g(He.master),le({title:"ADN V7.0 Charg",description:`${He.master}: ${He.name}`}))},Ze=b.useCallback(()=>{if(ie.current){const Z=ie.current.getProcessedImage?.();if(Z){const Me=Z.toDataURL("image/png"),He=document.createElement("a");He.download=`adn-v7-${h.toLowerCase().replace(/\s+/g,"-")}-${Date.now()}.png`,He.href=Me,document.body.appendChild(He),He.click(),document.body.removeChild(He),le({title:"Tlchargement russi",description:`Image ${h} enregistre.`})}}},[h,le]);return E.jsxs("div",{className:"h-screen w-screen flex flex-col overflow-hidden",style:{background:"hsl(240 33% 2%)"},children:[E.jsx("div",{className:"fixed inset-0 grid-overlay pointer-events-none z-0"}),E.jsx(AE,{onExport:Ze,onImportClick:()=>ye.current?.click(),onImportPreset:()=>se.current?.click()}),E.jsx("input",{type:"file",ref:ye,className:"hidden",accept:"image/png, image/jpeg, image/webp",onChange:tt,"data-testid":"input-file-upload"}),E.jsx("input",{type:"file",ref:se,className:"hidden",accept:".json,.txt",onChange:Z=>{const Me=Z.target.files?.[0];if(Me){const He=new FileReader;He.onload=ot=>{try{const Dn=ot.target?.result,br=JSON.parse(Dn);e(br),br.meta?.artist&&g(br.meta.artist),le({title:"Paramtres Imports",description:"La configuration a t applique avec succs."})}catch{le({title:"Erreur d'import",description:"Format de fichier invalide. Assurez-vous qu'il s'agit d'un JSON ou TXT valide.",variant:"destructive"})}},He.readAsText(Me)}},"data-testid":"input-preset-import"}),E.jsxs("main",{className:"flex-1 flex overflow-hidden relative z-10",children:[E.jsxs("div",{className:"flex-1 flex flex-col gap-4 p-4",children:[E.jsxs("div",{className:"flex-1 glass-panel relative overflow-hidden flex items-center justify-center",ref:de,"data-testid":"canvas-container",children:[E.jsx(dk,{imageUrl:t,config:n,width:s.w-48,height:s.h-48,onRef:Z=>{ie.current=Z.current;const Me=Z.getProcessedImage?.(),He=Z.getProcessedImageData?.();Me&&ae(Me),He&&ue(He)}}),!t&&E.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center p-8",children:[E.jsx(_y,{className:"w-16 h-16 text-cyan-400 mb-4"}),E.jsx("h3",{className:"font-display text-2xl text-cyan-400 mb-2",children:"CANVAS READY"}),E.jsx("p",{className:"text-muted-foreground",children:"Importez votre image pour commencer"})]})]}),E.jsxs("div",{className:"flex gap-3 flex-wrap items-center",children:[E.jsxs(vn,{onClick:()=>ye.current?.click(),variant:"secondary",className:"gap-2","data-testid":"button-upload",children:[E.jsx(_y,{className:"w-4 h-4"}),"Upload"]}),E.jsxs(vn,{onClick:()=>M(!0),className:"btn-export gap-2","data-testid":"button-export",children:[E.jsx(A0,{className:"w-4 h-4"}),"Export HD"]}),E.jsxs(vn,{variant:"secondary",onClick:()=>e(og),className:"gap-2","data-testid":"button-reset",children:[E.jsx(Cy,{className:"w-4 h-4"}),"Reset"]}),E.jsx("div",{className:"h-6 w-px bg-cyan-500/30 mx-1"}),E.jsxs(vn,{variant:z?"default":"outline",size:"sm",onClick:()=>U(!z),className:`gap-1 ${z?"bg-cyan-600":"border-cyan-500/30"}`,"data-testid":"button-toggle-histogram",children:[E.jsx(E_,{className:"w-3 h-3"}),"Histo"]}),E.jsxs(vn,{variant:H?"default":"outline",size:"sm",onClick:()=>K(!H),className:`gap-1 ${H?"bg-cyan-600":"border-cyan-500/30"}`,"data-testid":"button-toggle-compare",children:[E.jsx(O_,{className:"w-3 h-3"}),"A/B"]}),z&&E.jsx("div",{className:"ml-auto",children:E.jsx(MR,{imageData:re,width:180,height:50})})]})]}),E.jsxs("aside",{className:"w-[420px] glass-panel flex flex-col m-4 ml-0",children:[E.jsxs("div",{className:"p-4 border-b border-cyan-500/20",children:[E.jsx("h2",{className:"font-display text-xl tracking-wider mb-1",children:"ADN PARAMETERS"}),E.jsx("p",{className:"text-muted-foreground text-sm",children:"Granular Mix 0-100%  Master Slider Control"})]}),E.jsxs("div",{className:"p-4 border-b border-cyan-500/20 space-y-3",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs(Wd,{value:h,onValueChange:Ke,children:[E.jsx(Ju,{className:"flex-1 bg-black/30 border-cyan-500/30 h-10","data-testid":"select-master",children:E.jsx(Qd,{placeholder:"Choisir un Matre"})}),E.jsx(ec,{children:ce.map(Z=>E.jsx(di,{value:Z,children:Z},Z))})]}),E.jsx(vn,{variant:"outline",size:"icon",onClick:()=>e(og),className:"border-cyan-500/30","data-testid":"button-reset-config",children:E.jsx(Cy,{className:"w-4 h-4"})})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs(vn,{variant:"outline",size:"sm",className:"shrink-0 gap-1 border-cyan-500/30",onClick:()=>Ae(t),"data-testid":"button-auto-detect",children:[E.jsx(b_,{className:"w-3 h-3"}),"Auto"]}),E.jsxs(Wd,{onValueChange:Ue,children:[E.jsx(Ju,{className:"flex-1 bg-black/30 border-cyan-500/30 h-9 text-xs","data-testid":"select-preset",children:E.jsx(Qd,{placeholder:"Presets ADN V7.0..."})}),E.jsx(ec,{children:me?.filter(Z=>Z.master===h).map(Z=>E.jsx(di,{value:`${Z.id}|all`,children:Z.name},Z.id))})]}),E.jsxs(Vd,{open:y,onOpenChange:w,children:[E.jsx(yR,{asChild:!0,children:E.jsx(vn,{variant:"outline",size:"icon",className:"h-9 w-9 shrink-0 border-cyan-500/30","data-testid":"button-save-preset",children:E.jsx(N_,{className:"w-4 h-4"})})}),E.jsxs(Xu,{children:[E.jsx(Yu,{children:E.jsx(Zu,{children:"Sauvegarder Configuration V7.0"})}),E.jsxs("div",{className:"py-4 space-y-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(fl,{children:"Matre"}),E.jsx(m0,{value:h,disabled:!0})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(fl,{children:"Nom du Preset"}),E.jsx(m0,{placeholder:"Nom (ex: 'Essence')",value:c,onChange:Z=>d(Z.target.value),"data-testid":"input-preset-name"})]})]}),E.jsx(Ku,{children:E.jsx(vn,{onClick:be,disabled:Q.isPending,"data-testid":"button-confirm-save",children:"Sauvegarder"})})]})]})]})]}),E.jsx(G4,{className:"flex-1 scrollbar-thin",children:E.jsxs("div",{className:"p-4 space-y-0",children:[E.jsx("div",{className:"px-3 py-2 bg-cyan-500/10 rounded-lg border border-cyan-500/20 text-[10px] font-display text-cyan-400 uppercase tracking-widest text-center mb-4",children:"ADN V7.0 - MOTEUR UNIVERSEL"}),E.jsxs(ju,{icon:E.jsx(T_,{className:"w-5 h-5"}),title:"TEMPS-ESPACE",masterValue:n.dimensions.temporalSpatial.master,onMasterChange:Z=>X("temporalSpatial","master",Z),color:"text-cyan-400",children:[E.jsx(It,{label:"ternit Fige",labelEn:"Timeless Frozen",value:n.dimensions.temporalSpatial.timelessFrozen,onChange:Z=>X("temporalSpatial","timelessFrozen",Z)}),E.jsx(It,{label:"Dure Atmosphrique",labelEn:"Atmospheric Duration",value:n.dimensions.temporalSpatial.atmosphericDuration,onChange:Z=>X("temporalSpatial","atmosphericDuration",Z)}),E.jsx(It,{label:"Moment Dramatique",labelEn:"Dramatic Moment",value:n.dimensions.temporalSpatial.dramaticMoment,onChange:Z=>X("temporalSpatial","dramaticMoment",Z)}),E.jsx(It,{label:"Flou de Mouvement",labelEn:"Motion Blur",value:n.dimensions.temporalSpatial.motionBlur,onChange:Z=>X("temporalSpatial","motionBlur",Z)}),E.jsx(It,{label:"Indication Temporelle",labelEn:"Time Indication",value:n.dimensions.temporalSpatial.timeIndication,onChange:Z=>X("temporalSpatial","timeIndication",Z)}),E.jsx(It,{label:"Indication Atmosphrique",labelEn:"Atmospheric Indication",value:n.dimensions.temporalSpatial.atmosphericIndication,onChange:Z=>X("temporalSpatial","atmosphericIndication",Z)}),E.jsx(It,{label:"Prcision de Profondeur",labelEn:"Depth Precision",value:n.dimensions.temporalSpatial.depthPrecision,onChange:Z=>X("temporalSpatial","depthPrecision",Z)})]}),E.jsxs(ju,{icon:E.jsx(R_,{className:"w-5 h-5"}),title:"MATIRE-ESPRIT",masterValue:n.dimensions.materialSpiritual.master,onMasterChange:Z=>X("materialSpiritual","master",Z),color:"text-amber-400",children:[E.jsx(It,{label:"Divin  travers la Matire",labelEn:"Divine Through Material",value:n.dimensions.materialSpiritual.divineThroughMaterial,onChange:Z=>X("materialSpiritual","divineThroughMaterial",Z)}),E.jsx(It,{label:"Matire comme Expansion",labelEn:"Material as Expansion",value:n.dimensions.materialSpiritual.materialAsExpansion,onChange:Z=>X("materialSpiritual","materialAsExpansion",Z)}),E.jsx(It,{label:"Prcision Matrielle",labelEn:"Material Precision",value:n.dimensions.materialSpiritual.materialPrecision,onChange:Z=>X("materialSpiritual","materialPrecision",Z)}),E.jsx(It,{label:"Symbolisme Spirituel",labelEn:"Spiritual Symbolism",value:n.dimensions.materialSpiritual.spiritualSymbolism,onChange:Z=>X("materialSpiritual","spiritualSymbolism",Z)}),E.jsx(It,{label:"Perfection de Surface",labelEn:"Surface Perfection",value:n.dimensions.materialSpiritual.surfacePerfection,onChange:Z=>X("materialSpiritual","surfacePerfection",Z)}),E.jsx(It,{label:"Dtail comme Rvlation",labelEn:"Detail as Revelation",value:n.dimensions.materialSpiritual.detailAsRevelation,onChange:Z=>X("materialSpiritual","detailAsRevelation",Z)})]}),E.jsxs(ju,{icon:E.jsx(L_,{className:"w-5 h-5"}),title:"LUMIRE-RVLATION",masterValue:n.dimensions.lightRevelation.master,onMasterChange:Z=>X("lightRevelation","master",Z),color:"text-yellow-400",children:[E.jsx(It,{label:"Lumire comme Preuve Divine",labelEn:"Light as Divine Proof",value:n.dimensions.lightRevelation.lightAsDivineProof,onChange:Z=>X("lightRevelation","lightAsDivineProof",Z)}),E.jsx(It,{label:"Lumire comme Outil Dramatique",labelEn:"Light as Dramatic Tools",value:n.dimensions.lightRevelation.lightAsDramaticTools,onChange:Z=>X("lightRevelation","lightAsDramaticTools",Z)}),E.jsx(It,{label:"Douceur des Ombres",labelEn:"Shadow Softness",value:n.dimensions.lightRevelation.shadowSoftness,onChange:Z=>X("lightRevelation","shadowSoftness",Z)}),E.jsx(It,{label:"Subtilit des Rflexions",labelEn:"Reflection Subtlety",value:n.dimensions.lightRevelation.reflectionSubtlety,onChange:Z=>X("lightRevelation","reflectionSubtlety",Z)}),E.jsx(It,{label:"Symbolisme Lumineux",labelEn:"Light Symbolism",value:n.dimensions.lightRevelation.lightSymbolism,onChange:Z=>X("lightRevelation","lightSymbolism",Z)})]}),E.jsxs(ju,{icon:E.jsx(k_,{className:"w-5 h-5"}),title:"PSYCHOLOGIE DU REGARD",masterValue:n.dimensions.gazePsychology.master,onMasterChange:Z=>X("gazePsychology","master",Z),color:"text-blue-400",children:[E.jsx(It,{label:"Examen Microscopique",labelEn:"Microscopic Scrutiny",value:n.dimensions.gazePsychology.microscopicScrutiny,onChange:Z=>X("gazePsychology","microscopicScrutiny",Z)}),E.jsx(It,{label:"Immersion motionnelle",labelEn:"Emotional Immersion",value:n.dimensions.gazePsychology.emotionalImmersion,onChange:Z=>X("gazePsychology","emotionalImmersion",Z)}),E.jsx(It,{label:"Orchestration Dramatique",labelEn:"Dramatic Orchestration",value:n.dimensions.gazePsychology.dramaticOrchestration,onChange:Z=>X("gazePsychology","dramaticOrchestration",Z)}),E.jsx(It,{label:"Compltude de Boucle",labelEn:"Loop Completeness",value:n.dimensions.gazePsychology.loopCompleteness,onChange:Z=>X("gazePsychology","loopCompleteness",Z)}),E.jsx(It,{label:"Fluidit des Transitions",labelEn:"Transition Smoothness",value:n.dimensions.gazePsychology.transitionSmoothness,onChange:Z=>X("gazePsychology","transitionSmoothness",Z)}),E.jsx(It,{label:"Densit de Dcouverte",labelEn:"Discovery Density",value:n.dimensions.gazePsychology.discoveryDensity,onChange:Z=>X("gazePsychology","discoveryDensity",Z)}),E.jsx(It,{label:"Qualit Hypnotique",labelEn:"Hypnotic Quality",value:n.dimensions.gazePsychology.hypnoticQuality,onChange:Z=>X("gazePsychology","hypnoticQuality",Z)})]}),E.jsxs(ju,{icon:E.jsx(I_,{className:"w-5 h-5"}),title:"CONTRAINTE HISTORIQUE",masterValue:n.dimensions.historicalConstraints.master,onMasterChange:Z=>X("historicalConstraints","master",Z),color:"text-emerald-400",children:[E.jsxs("div",{className:"space-y-2 mb-4",children:[E.jsx(fl,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Priode"}),E.jsxs(Wd,{value:n.dimensions.historicalConstraints.period,onValueChange:Z=>X("historicalConstraints","period",Z),children:[E.jsx(Ju,{className:"h-9 text-sm bg-black/30 border-cyan-500/30","data-testid":"select-period",children:E.jsx(Qd,{})}),E.jsxs(ec,{children:[E.jsx(di,{value:"GOLDEN_AGE",children:"ge d'Or (Golden Age)"}),E.jsx(di,{value:"CONTEMPORARY",children:"Contemporain (Contemporary)"}),E.jsx(di,{value:"MODERN",children:"Moderne (20me sicle)"}),E.jsx(di,{value:"EXPRESSIONISM_MID_20TH",children:"Expressionnisme (Mi-20me)"}),E.jsx(di,{value:"BAROQUE",children:"Baroque"}),E.jsx(di,{value:"HIGH_RENAISSANCE",children:"Haute Renaissance"}),E.jsx(di,{value:"EARLY_RENAISSANCE",children:"Dbut Renaissance"})]})]})]}),E.jsx(It,{label:"Fidlit Historique",labelEn:"Historical Fidelity",value:n.dimensions.historicalConstraints.fidelity,onChange:Z=>X("historicalConstraints","fidelity",Z)})]}),E.jsxs(ju,{icon:E.jsx(X2,{className:"w-5 h-5"}),title:"FINITION MASTER",masterValue:n.dimensions.finition.master,onMasterChange:Z=>X("finition","master",Z),color:"text-pink-400",children:[E.jsx(It,{label:"Lustre du Matre",labelEn:"Master Lustre",value:n.dimensions.finition.masterLustre,onChange:Z=>X("finition","masterLustre",Z)}),E.jsx(It,{label:"clat Final",labelEn:"Final Glow",value:n.dimensions.finition.finalGlow,onChange:Z=>X("finition","finalGlow",Z)})]})]})})]})]}),E.jsx(AR,{isOpen:_,onClose:()=>k(!1),detectionResult:I,onApplyPreset:Ve,onManualSelect:()=>k(!1)}),E.jsx(Vd,{open:R,onOpenChange:P,children:E.jsxs(Xu,{className:"max-w-md",children:[E.jsx(Yu,{children:E.jsx(Zu,{children:"Importer Paramtres d'un Matre"})}),E.jsxs("div",{className:"py-4 space-y-4",children:[E.jsx("p",{className:"text-sm text-muted-foreground",children:"Slectionnez un matre pour charger ses paramtres optimaux :"}),E.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-[400px] overflow-y-auto",children:NR().map(Z=>E.jsx(vn,{variant:"outline",className:"justify-start h-auto py-3 px-4 border-cyan-500/30",onClick:()=>{Ke(Z.preset.name),P(!1)},"data-testid":`button-import-master-${Z.preset.name.toLowerCase().replace(/\s+/g,"-")}`,children:E.jsxs("div",{className:"flex flex-col items-start",children:[E.jsx("span",{className:"font-medium",children:Z.preset.displayName||Z.preset.name}),E.jsx("span",{className:"text-xs text-muted-foreground",children:Z.preset.period})]})},Z.id))})]}),E.jsx(Ku,{children:E.jsx(vn,{variant:"ghost",onClick:()=>P(!1),children:"Annuler"})})]})}),E.jsx(yN,{isOpen:N,onClose:()=>M(!1),processedCanvas:ve,config:n,masterName:h}),E.jsx(Vd,{open:H,onOpenChange:K,children:E.jsxs(Xu,{className:"max-w-4xl p-6",children:[E.jsx(Yu,{children:E.jsx(Zu,{className:"font-display",children:"Comparaison Avant / Aprs"})}),E.jsx("div",{className:"py-4",children:E.jsx(IR,{beforeImage:t,afterCanvas:ve,width:800,height:500})}),E.jsx(Ku,{children:E.jsx(vn,{variant:"ghost",onClick:()=>K(!1),children:"Fermer"})})]})})]})}const H4=b.forwardRef(({className:n,...e},t)=>E.jsx("div",{ref:t,className:mt("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",n),...e}));H4.displayName="Card";const LN=b.forwardRef(({className:n,...e},t)=>E.jsx("div",{ref:t,className:mt("flex flex-col space-y-1.5 p-6",n),...e}));LN.displayName="CardHeader";const DN=b.forwardRef(({className:n,...e},t)=>E.jsx("div",{ref:t,className:mt("text-2xl font-semibold leading-none tracking-tight",n),...e}));DN.displayName="CardTitle";const jN=b.forwardRef(({className:n,...e},t)=>E.jsx("div",{ref:t,className:mt("text-sm text-muted-foreground",n),...e}));jN.displayName="CardDescription";const V4=b.forwardRef(({className:n,...e},t)=>E.jsx("div",{ref:t,className:mt("p-6 pt-0",n),...e}));V4.displayName="CardContent";const FN=b.forwardRef(({className:n,...e},t)=>E.jsx("div",{ref:t,className:mt("flex items-center p-6 pt-0",n),...e}));FN.displayName="CardFooter";function zN(){return E.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:E.jsx(H4,{className:"w-full max-w-md mx-4",children:E.jsxs(V4,{className:"pt-6",children:[E.jsxs("div",{className:"flex mb-4 gap-2",children:[E.jsx($2,{className:"h-8 w-8 text-red-500"}),E.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),E.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function BN(){return E.jsxs(HS,{children:[E.jsx(sy,{path:"/",component:ON}),E.jsx(sy,{component:zN})]})}function GN(){return E.jsx(u3,{client:P3,children:E.jsxs(H8,{children:[E.jsx(y6,{}),E.jsx(BN,{})]})})}wS.createRoot(document.getElementById("root")).render(E.jsx(GN,{}));
