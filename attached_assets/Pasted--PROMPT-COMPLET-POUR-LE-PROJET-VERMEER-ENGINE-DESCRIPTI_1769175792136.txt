# ğŸ“‹ PROMPT COMPLET POUR LE PROJET "VERMEER ENGINE"

---

## ğŸ¯ DESCRIPTION DU PROJET

CrÃ©er une application web professionnelle de post-traitement d'images appelÃ©e **"VERMEER ENGINE"** qui applique algorithmiquement les caractÃ©ristiques stylistiques du peintre Johannes Vermeer sur n'importe quelle image importÃ©e.

L'application doit permettre d'appliquer 5 "ADN algorithmiques" distincts, chacun basÃ© sur une analyse scientifique approfondie de 30+ Å“uvres de Vermeer, avec des paramÃ¨tres ajustables en temps rÃ©el.

---

## ğŸ—ï¸ ARCHITECTURE GÃ‰NÃ‰RALE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    VERMEER ENGINE                        â”‚
â”‚                 Professional Art Processor               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                  â–¼                  â–¼
    INPUT              PROCESSING          OUTPUT
    
[Image Upload]  â†’  [5 ADN Engines]  â†’  [Download]
  - JPG/PNG          1. LumiÃ¨res           - PNG
  - WebP             2. Couleurs           - JPG
  - HEIC             3. Compositions       - WebP
  Max 4K res         4. Finitions          High Quality
                     5. Sujet/Icono
```

---

## ğŸ“¥ INPUT - SYSTÃˆME D'IMPORT

### SpÃ©cifications techniques :
- **Formats acceptÃ©s** : JPG, PNG, WebP, HEIC, BMP
- **RÃ©solution maximale** : 4096 x 4096 pixels (4K)
- **Taille fichier max** : 25 MB
- **MÃ©thode d'upload** : 
  - Drag & drop zone Ã©lÃ©gante
  - Click to browse
  - Paste from clipboard (Ctrl+V)

### Interface d'upload :
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ğŸ“¸ IMPORT YOUR IMAGE                  â”‚
â”‚                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                               â”‚    â”‚
â”‚   â”‚     [Upload Icon]             â”‚    â”‚
â”‚   â”‚                               â”‚    â”‚
â”‚   â”‚  Drag & drop your image here  â”‚    â”‚
â”‚   â”‚  or click to browse           â”‚    â”‚
â”‚   â”‚                               â”‚    â”‚
â”‚   â”‚  Supported: JPG, PNG, WebP    â”‚    â”‚
â”‚   â”‚  Max size: 25MB, 4K res       â”‚    â”‚
â”‚   â”‚                               â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚   or paste from clipboard (Ctrl+V)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Validation :
- VÃ©rification format
- VÃ©rification dimensions
- Affichage miniature + mÃ©tadonnÃ©es (rÃ©solution, poids)
- Bouton "Change Image" pour remplacer

---

## ğŸ¨ CANVAS PRINCIPAL - ZONE DE PRÃ‰VISUALISATION

### SpÃ©cifications du Canvas :

**Layout responsive professionnel** :
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VERMEER ENGINE - Professional Art Processor           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â”‚          CANVAS PREVIEW AREA                 â”‚    â”‚
â”‚  â”‚          (1920x1080 viewport)                â”‚    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â”‚         [Image with live effects]            â”‚    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                        â”‚
â”‚  [ğŸ” Zoom: 100%] [â†”ï¸ Fit] [âŸ² Reset View]              â”‚
â”‚  [ğŸ‘ï¸ Show Original] [âš¡ Before/After Split]            â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**CaractÃ©ristiques techniques** :
- **Rendu temps rÃ©el** : Updates < 100ms aprÃ¨s ajustement paramÃ¨tres
- **WebGL accelerated** : Utilisation GPU pour performances optimales
- **Zoom/Pan** : Navigation fluide de l'image (molette souris, pinch)
- **Before/After** : Split screen vertical avec slider interactif
- **Quality** : Rendu anti-aliased, couleurs 16-bit par canal

**ContrÃ´les du Canvas** :
- Zoom : 25% â†’ 400%
- Fit to screen (auto)
- Reset view
- Toggle original (touche Espace)
- Split view avant/aprÃ¨s (slider draggable)

---

## ğŸ›ï¸ DASHBOARD - PANNEAU DE CONTRÃ”LE DES ADN

### Layout du Dashboard :

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ§¬ VERMEER DNA CONTROLS                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  SELECT DNA TO APPLY:                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  ğŸ’¡ â”‚ â”‚  ğŸ¨ â”‚ â”‚  ğŸ“ â”‚ â”‚  ğŸ–Œï¸ â”‚ â”‚  ğŸ‘¤ â”‚              â”‚
â”‚  â”‚ LUM â”‚ â”‚ COL â”‚ â”‚ COM â”‚ â”‚ FIN â”‚ â”‚ SUJ â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜              â”‚
â”‚   [ON]    [OFF]   [OFF]   [ON]    [OFF]                â”‚
â”‚                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ACTIVE DNA PARAMETERS:                                 â”‚
â”‚                                                         â”‚
â”‚  ğŸ’¡ ADN LUMIÃˆRES (ACTIVE)                               â”‚
â”‚  â”œâ”€ Window Position        [========|==] 80%           â”‚
â”‚  â”œâ”€ Light/Dark Ratio (60/40) [======|====] 60%         â”‚
â”‚  â”œâ”€ Shadow Softness        [=======|===] 70%           â”‚
â”‚  â”œâ”€ Blue Tint in Shadows   [====|======] 40%           â”‚
â”‚  â”œâ”€ Atmospheric Diffusion  [=====|=====] 50%           â”‚
â”‚  â””â”€ Reflections Intensity  [===|=======] 30%           â”‚
â”‚                                                         â”‚
â”‚  ğŸ–Œï¸ ADN FINITIONS (ACTIVE)                             â”‚
â”‚  â”œâ”€ Crackle Intensity      [======|====] 60%           â”‚
â”‚  â”œâ”€ Crackle Size           [====|======] 40%           â”‚
â”‚  â”œâ”€ Brush Strokes Visible  [=======|===] 70%           â”‚
â”‚  â”œâ”€ Brush Stroke Direction [====|======] 45Â°           â”‚
â”‚  â”œâ”€ Glazing Layers         [=====|=====] 50%           â”‚
â”‚  â”œâ”€ Aging/Yellowing        [===|=======] 35%           â”‚
â”‚  â””â”€ Varnish Effect         [====|======] 45%           â”‚
â”‚                                                         â”‚
â”‚  [ğŸ“‹ Load Preset â–¼] [ğŸ’¾ Save Current] [ğŸ”„ Reset All]   â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### FonctionnalitÃ©s du Dashboard :

#### 1. **SÃ©lection des ADN** (Toggle switches)
- Chaque ADN peut Ãªtre activÃ©/dÃ©sactivÃ© individuellement
- Visual feedback : couleur diffÃ©rente quand actif
- Icon + label clair pour chaque ADN
- Indication du nombre d'ADN actifs : "2/5 DNA active"

#### 2. **ParamÃ¨tres par ADN** (Sliders professionnels)

**Design des sliders** :
- Track claire avec gradient
- Handle ergonomique (facile Ã  saisir)
- Valeur affichÃ©e en % ou en unitÃ© appropriÃ©e
- Tooltip au survol avec description du paramÃ¨tre
- Reset individuel par paramÃ¨tre (double-clic)

**Organisation** :
- AccordÃ©on : seuls les ADN actifs sont dÃ©ployÃ©s
- Groupes logiques de paramÃ¨tres
- Labels explicites en franÃ§ais
- Real-time preview durant l'ajustement

#### 3. **SystÃ¨me de Presets**

```
PRESETS INCLUS:
â”œâ”€ "Vermeer Classic" (tous ADN Ã  valeurs moyennes)
â”œâ”€ "Light Touch" (ADN LumiÃ¨res + Couleurs uniquement)
â”œâ”€ "Full Renaissance" (tous ADN Ã  intensitÃ© maximale)
â”œâ”€ "Subtle Enhancement" (tous ADN Ã  30-40%)
â””â”€ "Custom" (utilisateur peut sauvegarder)

FONCTIONS:
- Load preset â†’ applique instantanÃ©ment
- Save current â†’ stockage localStorage
- Export/Import preset â†’ fichier JSON
- Reset all â†’ retour valeurs par dÃ©faut
```

---

## âš™ï¸ BACKEND - LES 5 ADN ALGORITHMIQUES

### Architecture de traitement :

```javascript
class VermeerEngine {
  constructor(inputImage) {
    this.canvas = createCanvas();
    this.context = this.canvas.getContext('2d', {
      willReadFrequently: true,
      alpha: true
    });
    this.originalImage = inputImage;
    this.processedImage = null;
    
    // Les 5 processeurs ADN
    this.processors = {
      lumieres: new ADN_Lumieres(),
      couleurs: new ADN_Couleurs(),
      compositions: new ADN_Compositions(),
      finitions: new ADN_Finitions(),
      sujet: new ADN_Sujet()
    };
  }
  
  // Pipeline de traitement
  async process(activeADN, parameters) {
    let workingImage = this.originalImage;
    
    // Applique chaque ADN actif dans l'ordre optimal
    const processingOrder = [
      'compositions',  // D'abord recomposer
      'lumieres',      // Puis lumiÃ¨re
      'couleurs',      // Puis couleurs
      'sujet',         // Puis sujet/icono
      'finitions'      // Finalement textures
    ];
    
    for (const adn of processingOrder) {
      if (activeADN[adn]) {
        workingImage = await this.processors[adn].apply(
          workingImage, 
          parameters[adn]
        );
      }
    }
    
    this.processedImage = workingImage;
    return this.processedImage;
  }
}
```

### DÃ©tails techniques par ADN :

#### **1. ADN LUMIÃˆRES** ğŸ’¡

**ParamÃ¨tres ajustables** :
- `windowPosition` (0-100%) : Position de la source lumineuse gauche
- `lightDarkRatio` (40-80%) : Ratio clair/obscur (dÃ©faut: 60%)
- `shadowSoftness` (0-100%) : Douceur des ombres (blur radius)
- `shadowBlueTint` (0-100%) : IntensitÃ© teinte bleue dans ombres
- `atmosphericDiffusion` (0-100%) : Diffusion atmosphÃ©rique subtile
- `reflectionsIntensity` (0-100%) : IntensitÃ© des reflets (yeux, perles)

**Techniques d'application** :
```javascript
class ADN_Lumieres {
  apply(image, params) {
    // 1. Analyse de l'image pour dÃ©tecter zones claires/sombres
    const luminosityMap = this.analyzeLuminosity(image);
    
    // 2. Application ratio 60/40
    const balancedImage = this.applyLightDarkRatio(
      image, 
      luminosityMap,
      params.lightDarkRatio
    );
    
    // 3. Gradient directionnel gauche â†’ droite
    const gradientImage = this.applyDirectionalGradient(
      balancedImage,
      params.windowPosition,
      192  // angle caractÃ©ristique Vermeer
    );
    
    // 4. Ombres douces avec teinte bleue
    const shadowedImage = this.applySoftShadows(
      gradientImage,
      params.shadowSoftness,
      params.shadowBlueTint,
      7200  // tempÃ©rature Kelvin
    );
    
    // 5. Diffusion atmosphÃ©rique
    const diffusedImage = this.applyAtmosphericScattering(
      shadowedImage,
      params.atmosphericDiffusion
    );
    
    // 6. Reflets prÃ©cis
    const finalImage = this.addSubtleReflections(
      diffusedImage,
      params.reflectionsIntensity
    );
    
    return finalImage;
  }
  
  // MÃ©thodes de traitement pixel-level
  applyLightDarkRatio(image, luminosityMap, targetRatio) {
    // Ajuste la distribution tonale pour atteindre ratio cible
    // Utilise curves adjustment et histogram equalization
  }
  
  applySoftShadows(image, softness, blueTint, tempK) {
    // Applique blur gaussien sur zones sombres
    // Shift hue de -8Â° dans les ombres
    // Color temperature adjustment
  }
}
```

#### **2. ADN COULEURS** ğŸ¨

**ParamÃ¨tres ajustables** :
- `globalSaturation` (0-100%) : DÃ©saturation gÃ©nÃ©rale (Vermeer: ~60%)
- `colorTemperature` (0-100%) : Balance chaud/froid (dÃ©faut: neutre-frais)
- `harmonicShift` (0-100%) : Application harmonies chromatiques
- `ultramarine` (0-100%) : Boost bleu outremer caractÃ©ristique
- `yellowOchre` (0-100%) : Boost jaune ocre
- `leadWhite` (0-100%) : LuminositÃ© des blancs

**Techniques** :
- LUT (Look-Up Tables) pour harmonies chromatiques
- Selective color grading
- Temperature shift avec prÃ©servation des teintes

#### **3. ADN COMPOSITIONS** ğŸ“

**ParamÃ¨tres ajustables** :
- `goldenRatio` (0-100%) : Force de la grille dorÃ©e
- `centralFocus` (0-100%) : Centrage du sujet principal
- `depthLayers` (0-100%) : SÃ©paration plans avant/arriÃ¨re
- `geometricBalance` (0-100%) : Ã‰quilibre gÃ©omÃ©trique

**Techniques** :
- DÃ©tection des Ã©lÃ©ments principaux (AI-assisted)
- Warping subtil pour aligner sur proportions dorÃ©es
- Depth map generation
- Vignetting subtil

#### **4. ADN FINITIONS** ğŸ–Œï¸ (LE PLUS CRUCIAL)

**ParamÃ¨tres ajustables** :
- `crackleIntensity` (0-100%) : IntensitÃ© des craquelures
- `crackleSize` (0-100%) : Taille moyenne des craquelures
- `cracklePattern` : Type (alÃ©atoire, radial, Ã¢ge)
- `brushStrokesVisible` (0-100%) : VisibilitÃ© coups de pinceau
- `brushDirection` (0-360Â°) : Direction dominante pinceaux
- `brushSize` (0-100%) : Taille des coups de pinceau
- `glazingLayers` (0-100%) : Effet glacis superposÃ©s
- `impasto` (0-100%) : Relief de la peinture
- `agingYellow` (0-100%) : Jaunissement du vernis ancien
- `varnishEffect` (0-100%) : Effet vernis brillant/mat

**Techniques d'application** :

```javascript
class ADN_Finitions {
  apply(image, params) {
    let processedImage = image;
    
    // 1. APPLICATION CRAQUELURES
    if (params.crackleIntensity > 0) {
      const crackleTexture = this.generateCrackleTexture(
        params.crackleSize,
        params.cracklePattern,
        image.width,
        image.height
      );
      
      processedImage = this.blendCrackles(
        processedImage,
        crackleTexture,
        params.crackleIntensity,
        'multiply'  // blend mode
      );
    }
    
    // 2. COUPS DE PINCEAU
    if (params.brushStrokesVisible > 0) {
      const brushTexture = this.generateBrushStrokes(
        params.brushSize,
        params.brushDirection,
        image.width,
        image.height
      );
      
      processedImage = this.applyBrushTexture(
        processedImage,
        brushTexture,
        params.brushStrokesVisible
      );
    }
    
    // 3. GLACIS (transparence superposÃ©e)
    if (params.glazingLayers > 0) {
      processedImage = this.applyGlazingEffect(
        processedImage,
        params.glazingLayers
      );
    }
    
    // 4. IMPASTO (relief)
    if (params.impasto > 0) {
      const normalMap = this.generateImpastoNormalMap(
        processedImage,
        params.impasto
      );
      
      processedImage = this.applyNormalMap(
        processedImage,
        normalMap
      );
    }
    
    // 5. VIEILLISSEMENT
    if (params.agingYellow > 0) {
      processedImage = this.applyAging(
        processedImage,
        params.agingYellow
      );
    }
    
    // 6. VERNIS
    if (params.varnishEffect > 0) {
      processedImage = this.applyVarnish(
        processedImage,
        params.varnishEffect
      );
    }
    
    return processedImage;
  }
  
  // GÃ‰NÃ‰RATION CRAQUELURES PROCÃ‰DURALES
  generateCrackleTexture(size, pattern, width, height) {
    const canvas = document.createElement('canvas');
    canvas.width = width;
    canvas.height = height;
    const ctx = canvas.getContext('2d');
    
    // Algorithme de Voronoi pour craquelures rÃ©alistes
    const points = this.generateVoronoiPoints(size, width, height);
    const cells = this.computeVoronoiCells(points, width, height);
    
    // Dessine les craquelures aux frontiÃ¨res des cellules
    ctx.strokeStyle = 'rgba(50, 40, 30, 0.6)';
    ctx.lineWidth = 0.5;
    
    for (const cell of cells) {
      ctx.beginPath();
      for (const edge of cell.edges) {
        ctx.moveTo(edge.start.x, edge.start.y);
        ctx.lineTo(edge.end.x, edge.end.y);
      }
      ctx.stroke();
    }
    
    // Ajout de variations (craquelures secondaires)
    this.addSecondaryCracks(ctx, cells, size);
    
    return canvas;
  }
  
  // GÃ‰NÃ‰RATION COUPS DE PINCEAU
  generateBrushStrokes(size, direction, width, height) {
    // Perlin noise + direction flow field
    const flowField = this.generateFlowField(direction, width, height);
    
    // Dessine des strokes suivant le flow field
    const canvas = document.createElement('canvas');
    canvas.width = width;
    canvas.height = height;
    const ctx = canvas.getContext('2d');
    
    for (let i = 0; i < 5000; i++) {
      this.drawBrushStroke(ctx, flowField, size);
    }
    
    return canvas;
  }
}
```

**Textures incluses** :
- 5 patterns de craquelures (fine, moyenne, large, radiale, alÃ©atoire)
- 10 brush textures (diffÃ©rentes tailles et orientations)
- 3 varnish overlays (mat, satinÃ©, brillant)
- Normal maps pour impasto

#### **5. ADN SUJET & ICONOGRAPHIE** ğŸ‘¤

**ParamÃ¨tres ajustables** :
- `portraitEnhancement` (0-100%) : AmÃ©lioration visages
- `fabricTexture` (0-100%) : Texture tissus (soie, satin)
- `jewelrySheen` (0-100%) : Ã‰clat perles/bijoux
- `stillLifeDetail` (0-100%) : DÃ©tails nature morte

**Techniques** :
- Face detection et enhancement
- Texture synthesis pour tissus
- Specular highlights pour objets brillants

---

## ğŸ“¤ OUTPUT - EXPORT DE L'IMAGE

### Interface d'export :

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’¾ EXPORT YOUR MASTERPIECE             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  Output Format:                         â”‚
â”‚  â—‹ PNG (lossless, best quality)         â”‚
â”‚  â— JPG (smaller file size)              â”‚
â”‚  â—‹ WebP (modern, balanced)              â”‚
â”‚                                         â”‚
â”‚  Quality (JPG/WebP):                    â”‚
â”‚  [==================] 95%               â”‚
â”‚                                         â”‚
â”‚  Resolution:                            â”‚
â”‚  â— Original (3840 x 2160)               â”‚
â”‚  â—‹ HD (1920 x 1080)                     â”‚
â”‚  â—‹ Custom: [____] x [____]              â”‚
â”‚                                         â”‚
â”‚  Color Profile:                         â”‚
â”‚  â— sRGB (standard)                      â”‚
â”‚  â—‹ Adobe RGB (pro)                      â”‚
â”‚                                         â”‚
â”‚  Metadata:                              â”‚
â”‚  â˜‘ Include processing parameters        â”‚
â”‚  â˜‘ Timestamp                            â”‚
â”‚  â˜ Watermark "Vermeer Engine"          â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   [â¬‡ DOWNLOAD IMAGE]          â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                         â”‚
â”‚  Estimated file size: 8.2 MB            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### SpÃ©cifications techniques :

**Formats disponibles** :
- **PNG** : QualitÃ© maximale, lossless, transparency support
- **JPG** : QualitÃ© rÃ©glable (60-100%), plus petit fichier
- **WebP** : Compromis qualitÃ©/taille, moderne

**MÃ©tadonnÃ©es embarquÃ©es** :
```json
{
  "generator": "Vermeer Engine v1.0",
  "timestamp": "2026-01-23T14:30:00Z",
  "originalFile": "portrait.jpg",
  "appliedDNA": {
    "lumieres": {
      "active": true,
      "parameters": {
        "lightDarkRatio": 60,
        "shadowSoftness": 70,
        "blueTint": 40
      }
    },
    "finitions": {
      "active": true,
      "parameters": {
        "crackleIntensity": 60,
        "brushStrokes": 50
      }
    }
  },
  "processingTime": "3.2s"
}
```

**Options avancÃ©es** :
- Watermark optionnel (logo subtil)
- Batch export (si plusieurs variations)
- Export des paramÃ¨tres seuls (JSON preset)

---

## ğŸ¨ DESIGN SYSTEM - CHARTE GRAPHIQUE PROFESSIONNELLE

### Palette de couleurs :

```css
/* Primary - Vermeer Blue */
--primary: #2C5F8D;          /* Bleu Vermeer */
--primary-light: #4A8BC2;
--primary-dark: #1A3A5C;

/* Secondary - Gold accents */
--secondary: #D4AF37;        /* Or Renaissance */
--secondary-light: #F4CF67;
--secondary-dark: #B8941F;

/* Neutrals */
--bg-dark: #1A1A1A;          /* Background sombre Ã©lÃ©gant */
--bg-medium: #2D2D2D;
--bg-light: #3A3A3A;
--surface: #252525;

/* Text */
--text-primary: #F5F5F5;
--text-secondary: #B0B0B0;
--text-disabled: #6B6B6B;

/* Accents */
--success: #4CAF50;
--warning: #FF9800;
--error: #F44336;
```

### Typographie :

```css
/* Headings - Ã‰lÃ©gant serif */
--font-heading: 'Playfair Display', 'Cormorant', serif;

/* Body - Clean sans-serif */
--font-body: 'Inter', 'Roboto', sans-serif;

/* Monospace - Code/parameters */
--font-mono: 'JetBrains Mono', 'Fira Code', monospace;

/* Sizes */
--text-xs: 0.75rem;
--text-sm: 0.875rem;
--text-base: 1rem;
--text-lg: 1.125rem;
--text-xl: 1.25rem;
--text-2xl: 1.5rem;
--text-3xl: 2rem;
```

### Composants UI :

**Buttons** :
```css
.btn-primary {
  background: linear-gradient(135deg, var(--primary), var(--primary-dark));
  color: white;
  padding: 12px 24px;
  border-radius: 8px;
  font-weight: 600;
  box-shadow: 0 4px 12px rgba(44, 95, 141, 0.3);
  transition: all 0.3s ease;
}

.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(44, 95, 141, 0.4);
}
```

**Sliders** :
```css
.slider {
  -webkit-appearance: none;
  width: 100%;
  height: 6px;
  border-radius: 3px;
  background: linear-gradient(
    to right,
    var(--primary) 0%,
    var(--primary) var(--value),
    var(--bg-light) var(--value),
    var(--bg-light) 100%
  );
}

.slider::-webkit-slider-thumb {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--secondary);
  cursor: pointer;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}
```

**Cards/Panels** :
```css
.panel {
  background: var(--surface);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  padding: 24px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
}
```

### Animations :

```css
/* Smooth transitions partout */
* {
  transition: all 0.2s ease;
}

/* Loading spinner Ã©lÃ©gant */
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Fade in pour l'image processed */
@keyframes fadeIn {
  from { opacity: 0; transform: scale(0.98); }
  to { opacity: 1; transform: scale(1); }
}

/* Pulse pour les boutons actifs */
@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}
```

---

## ğŸš€ FONCTIONNALITÃ‰S AVANCÃ‰ES

### 1. **Comparison Modes**

**Split View** :
- Slider vertical draggable
- Gauche = original, Droite = processed
- Smooth animation lors du drag

**Toggle View** :
- Touche Espace = toggle rapide
- Fade transition

**Zoom Sync** :
- Zoom identique sur les deux vues
- Pan synchronisÃ©

### 2. **History & Undo**

```javascript
class HistoryManager {
  constructor(maxSteps = 20) {
    this.history = [];
    this.currentIndex = -1;
    this.maxSteps = maxSteps;
  }
  
  pushState(state) {
    // Remove states after current index
    this.history = this.history.slice(0, this.currentIndex + 1);
    
    // Add new state
    this.history.push(state);
    
    // Limit history size
    if (this.history.length > this.maxSteps) {
      this.history.shift();
    } else {
      this.currentIndex++;
    }
  }
  
  undo() {
    if (this.currentIndex > 0) {
      this.currentIndex--;
      return this.history[this.currentIndex];
    }
    return null;
  }
  
  redo() {
    if (this.currentIndex < this.history.length - 1) {
      this.currentIndex++;
      return this.history[this.currentIndex];
    }
    return null;
  }
}
```

**Shortcuts** :
- `Ctrl+Z` : Undo
- `Ctrl+Shift+Z` : Redo
- `Ctrl+S` : Export
- `Space` : Toggle original
- `R` : Reset all

### 3. **Performance Optimization**

**Progressive rendering** :
- Low-res preview pendant ajustement
- High-res render 500ms aprÃ¨s dernier changement
- WebWorkers pour traitement lourd

**Caching** :
- Cache des textures gÃ©nÃ©rÃ©es
- Cache des Ã©tats intermÃ©diaires
- LocalStorage pour presets

### 4. **Responsive Design**

**Desktop (> 1200px)** :
- Canvas large + sidebar droite
- Tous contrÃ´les visibles

**Tablet (768px - 1200px)** :
- Canvas rÃ©duit + sidebar collapsible
- Groupes de paramÃ¨tres en accordÃ©on

**Mobile (< 768px)** :
- Canvas plein Ã©cran
- Controls en bottom sheet draggable
- Touch gestures (pinch zoom, swipe compare)

---

## ğŸ“Š INDICATEURS DE PERFORMANCE

### MÃ©triques Ã  afficher :

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš¡ PERFORMANCE                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Processing time: 2.8s          â”‚
â”‚  Canvas FPS: 60                 â”‚
â”‚  Active DNA: 2/5                â”‚
â”‚  Memory usage: 145 MB           â”‚
â”‚                                 â”‚
â”‚  Quality score: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 85%  â”‚
â”‚  â””â”€ Vermeer authenticity        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Vermeer Authenticity Score** :
- CalculÃ© en fonction des paramÃ¨tres actifs
- Compare aux valeurs "optimales" des ADN
- Affiche un score 0-100%

---

## ğŸ”’ ROBUSTESSE & GESTION D'ERREURS

### Validation des inputs :

```javascript
class ImageValidator {
  validate(file) {
    const errors = [];
    
    // Format
    if (!this.isSupportedFormat(file)) {
      errors.push('Format non supportÃ©. Utilisez JPG, PNG ou WebP.');
    }
    
    // Taille
    if (file.size > 25 * 1024 * 1024) {
      errors.push('Fichier trop volumineux (max 25MB).');
    }
    
    // Dimensions
    const img = new Image();
    img.src = URL.createObjectURL(file);
    await img.decode();
    
    if (img.width > 4096 || img.height > 4096) {
      errors.push('RÃ©solution trop Ã©levÃ©e (max 4096x4096).');
    }
    
    if (img.width < 512 || img.height < 512) {
      errors.push('RÃ©solution trop faible (min 512x512).');
    }
    
    return {
      valid: errors.length === 0,
      errors: errors
    };
  }
}
```

### Messages d'erreur Ã©lÃ©gants :

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš ï¸ ERREUR                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Le fichier est trop volumineux â”‚
â”‚  Taille actuelle: 32 MB         â”‚
â”‚  Limite: 25 MB                  â”‚
â”‚                                 â”‚
â”‚  Suggestions:                   â”‚
â”‚  â€¢ RÃ©duire la rÃ©solution        â”‚
â”‚  â€¢ Compresser l'image           â”‚
â”‚  â€¢ Utiliser format WebP         â”‚
â”‚                                 â”‚
â”‚  [OK, compris]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Loading states :

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â³ PROCESSING...                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘] 65%      â”‚
â”‚                                 â”‚
â”‚  Applying ADN Finitions...      â”‚
â”‚  (Generating crackle texture)   â”‚
â”‚                                 â”‚
â”‚  Estimated time: 8s             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± STRUCTURE DU CODE

### Architecture React :

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ImageUploader/
â”‚   â”‚   â”œâ”€â”€ ImageUploader.jsx
â”‚   â”‚   â”œâ”€â”€ DragDropZone.jsx
â”‚   â”‚   â””â”€â”€ FileValidator.js
â”‚   â”‚
â”‚   â”œâ”€â”€ Canvas/
â”‚   â”‚   â”œâ”€â”€ MainCanvas.jsx
â”‚   â”‚   â”œâ”€â”€ CanvasControls.jsx
â”‚   â”‚   â”œâ”€â”€ ZoomPan.js
â”‚   â”‚   â””â”€â”€ SplitView.jsx
â”‚   â”‚
â”‚   â”œâ”€â”€ Dashboard/
â”‚   â”‚   â”œâ”€â”€ DNASelector.jsx
â”‚   â”‚   â”œâ”€â”€ ParameterPanel.jsx
â”‚   â”‚   â”œâ”€â”€ Slider.jsx
â”‚   â”‚   â””â”€â”€ PresetManager.jsx
â”‚   â”‚
â”‚   â””â”€â”€ Export/
â”‚       â”œâ”€â”€ ExportPanel.jsx
â”‚       â”œâ”€â”€ FormatSelector.jsx
â”‚       â””â”€â”€ MetadataEditor.jsx
â”‚
â”œâ”€â”€ processors/
â”‚   â”œâ”€â”€ VermeerEngine.js
â”‚   â”œâ”€â”€ ADN_Lumieres.js
â”‚   â”œâ”€â”€ ADN_Couleurs.js
â”‚   â”œâ”€â”€ ADN_Compositions.js
â”‚   â”œâ”€â”€ ADN_Finitions.js
â”‚   â””â”€â”€ ADN_Sujet.js
â”‚
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ imageProcessing.js
â”‚   â”œâ”€â”€ colorManipulation.js
â”‚   â”œâ”€â”€ textureGeneration.js
â”‚   â””â”€â”€ mathUtils.js
â”‚
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ textures/
â”‚   â”‚   â”œâ”€â”€ crackle_fine.png
â”‚   â”‚   â”œâ”€â”€ crackle_medium.png
â”‚   â”‚   â”œâ”€â”€ brush_01.png
â”‚   â”‚   â””â”€â”€ varnish_overlay.png
â”‚   â”‚
â”‚   â””â”€â”€ presets/
â”‚       â”œâ”€â”€ vermeer_classic.json
â”‚       â””â”€â”€ light_touch.json
â”‚
â””â”€â”€ styles/
    â”œâ”€â”€ global.css
    â””â”€â”€ components/
```

---

## ğŸ¯ RÃ‰SUMÃ‰ DES ATTENTES

### Ce que l'application DOIT faire :

âœ… **Upload** : Drag & drop, formats multiples, validation  
âœ… **Canvas** : Preview temps rÃ©el, zoom/pan, before/after  
âœ… **Dashboard** : 5 ADN toggle, paramÃ¨tres ajustables, presets  
âœ… **Processing** : Application algorithmique des ADN (pas d'IA gÃ©nÃ©rative)  
âœ… **Finitions** : CRAQUELURES, coups de pinceau, glacis, vieillissement  
âœ… **Export** : Multi-formats, haute qualitÃ©, mÃ©tadonnÃ©es  
âœ… **Design** : Pro, Ã©lÃ©gant, thÃ¨me sombre Renaissance  
âœ… **Performance** : < 100ms updates, WebGL, workers  

### Ce que l'application NE DOIT PAS faire :

âŒ Utiliser l'IA gÃ©nÃ©rative pour crÃ©er l'image  
âŒ Modifier le contenu (c'est du post-processing)  
âŒ NÃ©cessiter une connexion serveur (tout client-side)  
âŒ Avoir une UI amateur ou confuse  

---

## ğŸš€ PRÃŠT Ã€ DÃ‰VELOPPER

**Ce prompt contient** :
- Architecture complÃ¨te
- SpÃ©cifications techniques dÃ©taillÃ©es
- Design system professionnel
- Structure du code
- Gestion d'erreurs
- Performance optimizations

**Il ne manque que** :
- Les 5 fichiers ADN algorithmiques (que tu vas fournir)
- Les textures de craquelures/pinceaux (gÃ©nÃ©rables ou Ã  fournir)

**Tu peux maintenant fournir ce prompt + les 5 ADN Ã  un dÃ©veloppeur ou Ã  une IA de coding (comme Replit Agent, Claude, etc.) pour crÃ©er l'application.**

---

**PrÃªt Ã  recevoir les 5 ADN ?** ğŸ¨âœ¨